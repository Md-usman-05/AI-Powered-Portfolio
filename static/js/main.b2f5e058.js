/*! For license information please see main.b2f5e058.js.LICENSE.txt */
(()=>{var __webpack_modules__={4(e,t,n){"use strict";var r=n(853),o=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var F=Symbol.iterator;function C(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case D:return"Suspense";case E:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var I=Array.isArray,M=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},j=[],B=-1;function R(e){return{current:e}}function z(e){0>B||(e.current=j[B],j[B]=null,B--)}function V(e,t){B++,j[B]=e.current,e.current=t}var U,G,H=R(null),W=R(null),q=R(null),X=R(null);function Y(e,t){switch(V(q,t),V(W,e),V(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(H),V(H,e)}function K(){z(H),z(W),z(q)}function $(e){null!==e.memoizedState&&V(X,e);var t=H.current,n=bd(t,e.type);t!==n&&(V(W,e),V(H,n))}function Q(e){W.current===e&&(z(H),z(W)),X.current===e&&(z(X),ch._currentValue=L)}function Z(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",G=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+G}var J=!1;function ee(e,t){if(!e||J)return"";J=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var u=a.split("\n"),l=s.split("\n");for(o=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;o<l.length&&!l[o].includes("DetermineComponentFrameRoot");)o++;if(r===u.length||o===l.length)for(r=u.length-1,o=l.length-1;1<=r&&0<=o&&u[r]!==l[o];)o--;for(;1<=r&&0<=o;r--,o--)if(u[r]!==l[o]){if(1!==r||1!==o)do{if(r--,0>--o||u[r]!==l[o]){var c="\n"+u[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{J=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Z(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Z("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,ue=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,be=null;function ve(e){if("function"===typeof me&&ge(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ye,e)}catch(t){}}var _e=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/xe|0)|0},we=Math.log,xe=Math.LN2;var De=256,Ee=262144,Se=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~i)?o=Te(r):0!==(a&=s)?o=Te(a):n||0!==(n=s&~e)&&(o=Te(n)):0!==(s=r&~i)?o=Te(s):0!==a?o=Te(a):n||0!==(n=r&~e)&&(o=Te(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:o}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_e(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_e(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ne(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Be(){var e=N.p;return 0!==e?e:void 0===(e=window.event)?32:Th(e.type)}function Re(e,t){var n=N.p;try{return N.p=e,t()}finally{N.p=n}}var ze=Math.random().toString(36).slice(2),Ve="__reactFiber$"+ze,Ue="__reactProps$"+ze,Ge="__reactContainer$"+ze,He="__reactEvents$"+ze,We="__reactListeners$"+ze,qe="__reactHandles$"+ze,Xe="__reactResources$"+ze,Ye="__reactMarker$"+ze;function Ke(e){delete e[Ve],delete e[Ue],delete e[He],delete e[We],delete e[qe]}function $e(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ge]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ld(e);null!==e;){if(n=e[Ve])return n;e=Ld(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Ve]||e[Ge]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Je(e){var t=e[Xe];return t||(t=e[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ye]=!0}var tt=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},st={};function ut(e,t,n){if(o=t,re.call(st,o)||!re.call(at,o)&&(it.test(o)?st[o]=!0:(at[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?_t(e,a,dt(t)):null!=n?_t(e,a,dt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function vt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),ft(e)}function _t(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Dt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(I(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Tt(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Tt(e,i,t[i])}function kt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ft=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var It=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Lt=null;function jt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Ue]||null;if(!o)throw Error(a(90));bt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Bt=!1;function Rt(e,t,n){if(Bt)return e(t,n);Bt=!0;try{return e(t)}finally{if(Bt=!1,(null!==Nt||null!==Lt)&&(Jl(),Nt&&(t=Nt,e=Lt,Lt=Nt=null,jt(t),e)))for(t=0;t<e.length;t++)jt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Vt)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch(Qh){Ut=!1}var Ht=null,Wt=null,qt=null;function Xt(){if(qt)return qt;var e,t,n=Wt,r=n.length,o="value"in Ht?Ht.value:Ht.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return qt=o.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function $t(){return!1}function Qt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Kt:$t,this.isPropagationStopped=$t,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Zt,Jt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Qt(tn),rn=f({},tn,{view:0,detail:0}),on=Qt(rn),an=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Zt=e.screenX-en.screenX,Jt=e.screenY-en.screenY):Jt=Zt=0,en=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),sn=Qt(an),un=Qt(f({},an,{dataTransfer:0})),ln=Qt(f({},rn,{relatedTarget:0})),cn=Qt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Qt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Qt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var bn=Qt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Qt(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=Qt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),wn=Qt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Qt(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Dn=Qt(f({},tn,{newState:0,oldState:0})),En=[9,13,27,32],Sn=Vt&&"CompositionEvent"in window,Tn=null;Vt&&"documentMode"in document&&(Tn=document.documentMode);var An=Vt&&"TextEvent"in window&&!Tn,kn=Vt&&(!Sn||Tn&&8<Tn&&11>=Tn),Fn=String.fromCharCode(32),Cn=!1;function On(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Ln(e,t,n,r){Nt?Lt?Lt.push(r):Lt=[r]:Nt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jn=null,Bn=null;function Rn(e){Kc(e,0)}function zn(e){if(pt(Ze(e)))return e}function Vn(e,t){if("change"===e)return t}var Un=!1;if(Vt){var Gn;if(Vt){var Hn="oninput"in document;if(!Hn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Hn="function"===typeof Wn.oninput}Gn=Hn}else Gn=!1;Un=Gn&&(!document.documentMode||9<document.documentMode)}function qn(){jn&&(jn.detachEvent("onpropertychange",Xn),Bn=jn=null)}function Xn(e){if("value"===e.propertyName&&zn(Bn)){var t=[];Ln(t,Bn,e,Mt(e)),Rt(Rn,t)}}function Yn(e,t,n){"focusin"===e?(qn(),Bn=n,(jn=t).attachEvent("onpropertychange",Xn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Bn)}function $n(e,t){if("click"===e)return zn(t)}function Qn(e,t){if("input"===e||"change"===e)return zn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Zn(e[o],t[o]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Vt&&"documentMode"in document&&11>=document.documentMode,ar=null,sr=null,ur=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ar||ar!==mt(r)||("selectionStart"in(r=ar)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ur&&Jn(ur,r)||(ur=r,0<(r=rd(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Vt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),br=mr("animationstart"),vr=mr("transitionrun"),_r=mr("transitionstart"),wr=mr("transitioncancel"),xr=mr("transitionend"),Dr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){Dr.set(e,t),rt(t,[e])}Er.push("scrollEnd");var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ar=[],kr=0,Fr=0;function Cr(){for(var e=kr,t=Fr=kr=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var o=Ar[t];Ar[t++]=null;var i=Ar[t];if(Ar[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Mr(n,o,i)}}function Or(e,t,n,r){Ar[kr++]=e,Ar[kr++]=t,Ar[kr++]=n,Ar[kr++]=r,Fr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Or(e,t,n,r),Nr(e)}function Ir(e,t){return Or(e,null,null,t),Nr(e)}function Mr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-_e(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Nr(e){if(50<Hl)throw Hl=0,Wl=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function jr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new jr(e,t,n,r)}function Rr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,o,i){var s=0;if(r=e,"function"===typeof e)Rr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Br(31,n,t,o)).elementType=A,e.lanes=i,e;case y:return Gr(n.children,o,i,t);case b:s=8,o|=24;break;case v:return(e=Br(12,n,t,2|o)).elementType=v,e.lanes=i,e;case D:return(e=Br(13,n,t,o)).elementType=D,e.lanes=i,e;case E:return(e=Br(19,n,t,o)).elementType=E,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:s=10;break e;case _:s=9;break e;case x:s=11;break e;case S:s=14;break e;case T:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Br(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Gr(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function Wr(e){var t=Br(18,null,null,0);return t.stateNode=e,t}function qr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xr=new WeakMap;function Yr(e,t){if("object"===typeof e&&null!==e){var n=Xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Xr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Kr=[],$r=0,Qr=null,Zr=0,Jr=[],eo=0,to=null,no=1,ro="";function oo(e,t){Kr[$r++]=Zr,Kr[$r++]=Qr,Qr=e,Zr=t}function io(e,t,n){Jr[eo++]=no,Jr[eo++]=ro,Jr[eo++]=to,to=e;var r=no;e=ro;var o=32-_e(r)-1;r&=~(1<<o),n+=1;var i=32-_e(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,no=1<<32-_e(t)+o|n<<o|r,ro=i+e}else no=1<<i|n<<o|r,ro=e}function ao(e){null!==e.return&&(oo(e,1),io(e,1,0))}function so(e){for(;e===Qr;)Qr=Kr[--$r],Kr[$r]=null,Zr=Kr[--$r],Kr[$r]=null;for(;e===to;)to=Jr[--eo],Jr[eo]=null,ro=Jr[--eo],Jr[eo]=null,no=Jr[--eo],Jr[eo]=null}function uo(e,t){Jr[eo++]=no,Jr[eo++]=ro,Jr[eo++]=to,no=t.id,ro=t.overflow,to=e}var lo=null,co=null,ho=!1,fo=null,po=!1,mo=Error(a(519));function go(e){throw xo(Yr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mo}function yo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ve]=e,t[Ue]=r,n){case"dialog":$c("cancel",t),$c("close",t);break;case"iframe":case"object":case"embed":$c("load",t);break;case"video":case"audio":for(n=0;n<Xc.length;n++)$c(Xc[n],t);break;case"source":$c("error",t);break;case"img":case"image":case"link":$c("error",t),$c("load",t);break;case"details":$c("toggle",t);break;case"input":$c("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$c("invalid",t);break;case"textarea":$c("invalid",t),Dt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ld(t.textContent,n)?(null!=r.popover&&($c("beforetoggle",t),$c("toggle",t)),null!=r.onScroll&&$c("scroll",t),null!=r.onScrollEnd&&$c("scrollend",t),null!=r.onClick&&(t.onclick=Pt),t=!0):t=!1,t||go(e,!0)}function bo(e){for(lo=e.return;lo;)switch(lo.tag){case 5:case 31:case 13:return void(po=!1);case 27:case 3:return void(po=!0);default:lo=lo.return}}function vo(e){if(e!==lo)return!1;if(!ho)return bo(e),ho=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vd(e.type,e.memoizedProps)),t=!t),t&&co&&go(e),bo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));co=Nd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));co=Nd(e)}else 27===n?(n=co,Td(e.type)?(e=Md,Md=null,co=e):co=n):co=lo?Id(e.stateNode.nextSibling):null;return!0}function _o(){co=lo=null,ho=!1}function wo(){var e=fo;return null!==e&&(null===Cl?Cl=e:Cl.push.apply(Cl,e),fo=null),e}function xo(e){null===fo?fo=[e]:fo.push(e)}var Do=R(null),Eo=null,So=null;function To(e,t,n){V(Do,t._currentValue),t._currentValue=n}function Ao(e){e._currentValue=Do.current,z(Do)}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var u=i;i=o;for(var l=0;l<t.length;l++)if(u.context===t[l]){i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),ko(i.return,n,e),r||(s=null);break e}i=u.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),ko(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function Co(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var u=o.type;Zn(o.pendingProps.value,s.value)||(null!==e?e.push(u):e=[u])}}else if(o===X.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(ch):e=[ch])}o=o.return}null!==e&&Fo(t,e,n,r),t.flags|=262144}function Oo(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Po(e){Eo=e,So=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Io(e){return No(Eo,e)}function Mo(e,t){return null===Eo&&Po(e),No(e,t)}function No(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===So){if(null===e)throw Error(a(308));So=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else So=So.next=t;return n}var Lo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},jo=r.unstable_scheduleCallback,Bo=r.unstable_NormalPriority,Ro={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zo(){return{controller:new Lo,data:new Map,refCount:0}}function Vo(e){e.refCount--,0===e.refCount&&jo(Bo,function(){e.controller.abort()})}var Uo=null,Go=0,Ho=0,Wo=null;function qo(){if(0===--Go&&null!==Uo){null!==Wo&&(Wo.status="fulfilled");var e=Uo;Uo=null,Ho=0,Wo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Xo=M.S;M.S=function(e,t){Il=ue(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Uo){var n=Uo=[];Go=0,Ho=Uc(),Wo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Go++,t.then(qo,qo)}(0,t),null!==Xo&&Xo(e,t)};var Yo=R(null);function Ko(){var e=Yo.current;return null!==e?e:pl.pooledCache}function $o(e,t){V(Yo,null===t?Yo.current:t.pool)}function Qo(){var e=Ko();return null===e?null:{parent:Ro._currentValue,pool:e}}var Zo=Error(a(460)),Jo=Error(a(474)),ei=Error(a(542)),ti={then:function(){}};function ni(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ri(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw si(e=t.reason),e;default:if("string"===typeof t.status)t.then(Pt,Pt);else{if(null!==(e=pl)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw si(e=t.reason),e}throw ii=t,Zo}}function oi(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ii=t,Zo;throw t}}var ii=null;function ai(){if(null===ii)throw Error(a(459));var e=ii;return ii=null,e}function si(e){if(e===Zo||e===ei)throw Error(a(483))}var ui=null,li=0;function ci(e){var t=li;return li+=1,null===ui&&(ui=[]),ri(ui,e,t)}function di(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hi(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&oi(i)===t.type)?(di(t=o(t,n.props),n),t.return=e,t):(di(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Gr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return di(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=qr(t,e.mode,n)).return=e,t;case T:return h(e,t=oi(t),n)}if(I(t)||C(t))return(t=Gr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ci(t),n);if(t.$$typeof===w)return h(e,Mo(e,t),n);hi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===o?l(e,t,n,r):null;case g:return n.key===o?c(e,t,n,r):null;case T:return f(e,t,n=oi(n),r)}if(I(n)||C(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ci(n),r);if(n.$$typeof===w)return f(e,t,Mo(e,n),r);hi(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case T:return p(e,t,n,r=oi(r),o)}if(I(r)||C(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return p(e,t,n,ci(r),o);if(r.$$typeof===w)return p(e,t,n,Mo(t,r),o);hi(t,r)}return null}function b(u,l,c,d){if("object"===typeof c&&null!==c&&c.type===y&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var v=c.key;null!==l;){if(l.key===v){if((v=c.type)===y){if(7===l.tag){n(u,l.sibling),(d=o(l,c.props.children)).return=u,u=d;break e}}else if(l.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===T&&oi(v)===l.type){n(u,l.sibling),di(d=o(l,c.props),c),d.return=u,u=d;break e}n(u,l);break}t(u,l),l=l.sibling}c.type===y?((d=Gr(c.props.children,u.mode,d,c.key)).return=u,u=d):(di(d=Ur(c.type,c.key,c.props,null,u.mode,d),c),d.return=u,u=d)}return s(u);case g:e:{for(v=c.key;null!==l;){if(l.key===v){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){n(u,l.sibling),(d=o(l,c.children||[])).return=u,u=d;break e}n(u,l);break}t(u,l),l=l.sibling}(d=qr(c,u.mode,d)).return=u,u=d}return s(u);case T:return b(u,l,c=oi(c),d)}if(I(c))return function(o,a,s,u){for(var l=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(o,d,s[m],u);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),a=i(y,a,m),null===c?l=y:c.sibling=y,c=y,d=g}if(m===s.length)return n(o,d),ho&&oo(o,m),l;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],u))&&(a=i(d,a,m),null===c?l=d:c.sibling=d,c=d);return ho&&oo(o,m),l}for(d=r(d);m<s.length;m++)null!==(g=p(d,o,m,s[m],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===c?l=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(o,e)}),ho&&oo(o,m),l}(u,l,c,d);if(C(c)){if("function"!==typeof(v=C(c)))throw Error(a(150));return function(o,s,u,l){if(null==u)throw Error(a(151));for(var c=null,d=null,m=s,g=s=0,y=null,b=u.next();null!==m&&!b.done;g++,b=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=f(o,m,b.value,l);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(o,m),s=i(v,s,g),null===d?c=v:d.sibling=v,d=v,m=y}if(b.done)return n(o,m),ho&&oo(o,g),c;if(null===m){for(;!b.done;g++,b=u.next())null!==(b=h(o,b.value,l))&&(s=i(b,s,g),null===d?c=b:d.sibling=b,d=b);return ho&&oo(o,g),c}for(m=r(m);!b.done;g++,b=u.next())null!==(b=p(m,o,g,b.value,l))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=i(b,s,g),null===d?c=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(o,e)}),ho&&oo(o,g),c}(u,l,c=v.call(c),d)}if("function"===typeof c.then)return b(u,l,ci(c),d);if(c.$$typeof===w)return b(u,l,Mo(u,c),d);hi(u,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==l&&6===l.tag?(n(u,l.sibling),(d=o(l,c)).return=u,u=d):(n(u,l),(d=Hr(c,u.mode,d)).return=u,u=d),s(u)):n(u,l)}return function(e,t,n,r){try{li=0;var o=b(e,t,n,r);return ui=null,o}catch(a){if(a===Zo||a===ei)throw a;var i=Br(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var pi=fi(!0),mi=fi(!1),gi=!1;function yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Nr(e),Mr(e,null,n),t}return Or(e,r,t,n),Nr(e)}function wi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}function xi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Di=!1;function Ei(){if(Di){if(null!==Wo)throw Wo}}function Si(e,t,n,r){Di=!1;var o=e.updateQueue;gi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?i=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==i){var d=o.baseState;for(a=0,c=l=u=null,s=i;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(gl&h)===h:(r&h)===h){0!==h&&h===Ho&&(Di=!0),null!==c&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:gi=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=p,u=d):c=c.next=p,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===c&&(u=d),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=c,null===i&&(o.shared.lanes=0),El|=a,e.lanes=a,e.memoizedState=d}}function Ti(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Ai(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ti(n[e],t)}var ki=R(null),Fi=R(0);function Ci(e,t){V(Fi,e=xl),V(ki,t),xl=e|t.baseLanes}function Oi(){V(Fi,xl),V(ki,ki.current)}function Pi(){xl=Fi.current,z(ki),z(Fi)}var Ii=R(null),Mi=null;function Ni(e){var t=e.alternate;V(zi,1&zi.current),V(Ii,e),null===Mi&&(null===t||null!==ki.current||null!==t.memoizedState)&&(Mi=e)}function Li(e){V(zi,zi.current),V(Ii,e),null===Mi&&(Mi=e)}function ji(e){22===e.tag?(V(zi,zi.current),V(Ii,e),null===Mi&&(Mi=e)):Bi()}function Bi(){V(zi,zi.current),V(Ii,Ii.current)}function Ri(e){z(Ii),Mi===e&&(Mi=null),z(zi)}var zi=R(0);function Vi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Od(n)||Pd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ui=0,Gi=null,Hi=null,Wi=null,qi=!1,Xi=!1,Yi=!1,Ki=0,$i=0,Qi=null,Zi=0;function Ji(){throw Error(a(321))}function ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ta(e,t,n,r,o,i){return Ui=i,Gi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?gs:ys,Yi=!1,i=n(r,o),Yi=!1,Xi&&(i=ra(t,n,r,o)),na(e),i}function na(e){M.H=ms;var t=null!==Hi&&null!==Hi.next;if(Ui=0,Wi=Hi=Gi=null,qi=!1,$i=0,Qi=null,t)throw Error(a(300));null===e||Is||null!==(e=e.dependencies)&&Oo(e)&&(Is=!0)}function ra(e,t,n,r){Gi=e;var o=0;do{if(Xi&&(Qi=null),$i=0,Xi=!1,25<=o)throw Error(a(301));if(o+=1,Wi=Hi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}M.H=bs,i=t(n,r)}while(Xi);return i}function oa(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?ca(t):t,e=e.useState()[0],(null!==Hi?Hi.memoizedState:null)!==e&&(Gi.flags|=1024),t}function ia(){var e=0!==Ki;return Ki=0,e}function aa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function sa(e){if(qi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}qi=!1}Ui=0,Wi=Hi=Gi=null,Xi=!1,$i=Ki=0,Qi=null}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wi?Gi.memoizedState=Wi=e:Wi=Wi.next=e,Wi}function la(){if(null===Hi){var e=Gi.alternate;e=null!==e?e.memoizedState:null}else e=Hi.next;var t=null===Wi?Gi.memoizedState:Wi.next;if(null!==t)Wi=t,Hi=e;else{if(null===e){if(null===Gi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Hi=e).memoizedState,baseState:Hi.baseState,baseQueue:Hi.baseQueue,queue:Hi.queue,next:null},null===Wi?Gi.memoizedState=Wi=e:Wi=Wi.next=e}return Wi}function ca(e){var t=$i;return $i+=1,null===Qi&&(Qi=[]),e=ri(Qi,e,t),t=Gi,null===(null===Wi?t.memoizedState:Wi.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?gs:ys),e}function da(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ca(e);if(e.$$typeof===w)return Io(e)}throw Error(a(438,String(e)))}function ha(e){var t=null,n=Gi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Gi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Gi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function fa(e,t){return"function"===typeof t?t(e):t}function pa(e){return ma(la(),Hi,e)}function ma(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var u=s=null,l=null,c=t=o.next,d=!1;do{var h=-536870913&c.lane;if(h!==c.lane?(gl&h)===h:(Ui&h)===h){var f=c.revertLane;if(0===f)null!==l&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Ho&&(d=!0);else{if((Ui&f)===f){c=c.next,f===Ho&&(d=!0);continue}h={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(u=l=h,s=i):l=l.next=h,Gi.lanes|=f,El|=f}h=c.action,Yi&&n(i,h),i=c.hasEagerState?c.eagerState:n(i,h)}else f={lane:h,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(u=l=f,s=i):l=l.next=f,Gi.lanes|=h,El|=h;c=c.next}while(null!==c&&c!==t);if(null===l?s=i:l.next=u,!Zn(i,e.memoizedState)&&(Is=!0,d&&null!==(n=Wo)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=l,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ga(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Zn(i,t.memoizedState)||(Is=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ya(e,t,n){var r=Gi,o=la(),i=ho;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Zn((Hi||o).memoizedState,n);if(s&&(o.memoizedState=n,Is=!0),o=o.queue,Ua(_a.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==Wi&&1&Wi.memoizedState.tag){if(r.flags|=2048,ja(9,{destroy:void 0},va.bind(null,r,o,n,t),null),null===pl)throw Error(a(349));i||0!==(127&Ui)||ba(r,t,n)}return n}function ba(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Gi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Gi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function va(e,t,n,r){t.value=n,t.getSnapshot=r,wa(t)&&xa(e)}function _a(e,t,n){return n(function(){wa(t)&&xa(e)})}function wa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function xa(e){var t=Ir(e,2);null!==t&&Yl(t,e,2)}function Da(e){var t=ua();if("function"===typeof e){var n=e;if(e=n(),Yi){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function Ea(e,t,n,r){return e.baseState=n,ma(e,Hi,"function"===typeof r?r:fa)}function Sa(e,t,n,r,o){if(hs(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==M.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Ta(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Ta(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=M.T,a={};M.T=a;try{var s=n(o,r),u=M.S;null!==u&&u(a,s),Aa(e,t,s)}catch(l){Fa(e,t,l)}finally{null!==i&&null!==a.types&&(i.types=a.types),M.T=i}}else try{Aa(e,t,i=n(o,r))}catch(c){Fa(e,t,c)}}function Aa(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ka(e,t,n)},function(n){return Fa(e,t,n)}):ka(e,t,n)}function ka(e,t,n){t.status="fulfilled",t.value=n,Ca(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ta(e,n)))}function Fa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ca(t),t=t.next}while(t!==r)}e.action=null}function Ca(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Oa(e,t){return t}function Pa(e,t){if(ho){var n=pl.formState;if(null!==n){e:{var r=Gi;if(ho){if(co){t:{for(var o=co,i=po;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Id(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){co=Id(o.nextSibling),r="F!"===o.data;break e}}go(r)}r=!1}r&&(t=n[0])}}return(n=ua()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:t},n.queue=r,n=ls.bind(null,Gi,r),r.dispatch=n,r=Da(!1),i=ds.bind(null,Gi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=ua()).queue=o,n=Sa.bind(null,Gi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ia(e){return Ma(la(),Hi,e)}function Ma(e,t,n){if(t=ma(e,t,Oa)[0],e=pa(fa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ca(t)}catch(a){if(a===Zo)throw ei;throw a}else r=t;var o=(t=la()).queue,i=o.dispatch;return n!==t.memoizedState&&(Gi.flags|=2048,ja(9,{destroy:void 0},Na.bind(null,o,n),null)),[r,i,e]}function Na(e,t){e.action=t}function La(e){var t=la(),n=Hi;if(null!==n)return Ma(t,n,e);la(),t=t.memoizedState;var r=(n=la()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ja(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Gi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Gi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return la().memoizedState}function Ra(e,t,n,r){var o=ua();Gi.flags|=e,o.memoizedState=ja(1|t,{destroy:void 0},n,void 0===r?null:r)}function za(e,t,n,r){var o=la();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Hi&&null!==r&&ea(r,Hi.memoizedState.deps)?o.memoizedState=ja(t,i,n,r):(Gi.flags|=e,o.memoizedState=ja(1|t,i,n,r))}function Va(e,t){Ra(8390656,8,e,t)}function Ua(e,t){za(2048,8,e,t)}function Ga(e){var t=la().memoizedState;return function(e){Gi.flags|=4;var t=Gi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Gi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fl))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ha(e,t){return za(4,2,e,t)}function Wa(e,t){return za(4,4,e,t)}function qa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Xa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,qa.bind(null,t,e),n)}function Ya(){}function Ka(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ea(t,r[1]))return r[0];if(r=e(),Yi){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function Qa(e,t,n){return void 0===n||0!==(1073741824&Ui)&&0===(261930&gl)?e.memoizedState=t:(e.memoizedState=n,e=Xl(),Gi.lanes|=e,El|=e,n)}function Za(e,t,n,r){return Zn(n,t)?n:null!==ki.current?(e=Qa(e,n,r),Zn(e,t)||(Is=!0),e):0===(42&Ui)||0!==(1073741824&Ui)&&0===(261930&gl)?(Is=!0,e.memoizedState=n):(e=Xl(),Gi.lanes|=e,El|=e,t)}function Ja(e,t,n,r,o){var i=N.p;N.p=0!==i&&8>i?i:8;var a=M.T,s={};M.T=s,ds(e,!1,t,n);try{var u=o(),l=M.S;if(null!==l&&l(s,u),null!==u&&"object"===typeof u&&"function"===typeof u.then)cs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(u,r),ql());else cs(e,t,r,ql())}catch(c){cs(e,t,{then:function(){},status:"rejected",reason:c},ql())}finally{N.p=i,null!==a&&null!==s.types&&(a.types=s.types),M.T=a}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=ns(e).queue;Ja(e,o,t,L,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),cs(e,t.next.queue,{},ql())}function os(){return Io(ch)}function is(){return la().memoizedState}function as(){return la().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=ql(),r=_i(t,e=vi(n),n);return null!==r&&(Yl(r,t,n),wi(r,t,n)),t={cache:zo()},void(e.payload=t)}t=t.return}}function us(e,t,n){var r=ql();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?fs(t,n):null!==(n=Pr(e,t,n,r))&&(Yl(n,e,r),ps(n,t,r))}function ls(e,t,n){cs(e,t,n,ql())}function cs(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))fs(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Zn(s,a))return Or(e,t,o,0),null===pl&&Cr(),!1}catch(u){}if(null!==(n=Pr(e,t,o,r)))return Yl(n,e,r),ps(n,t,r),!0}return!1}function ds(e,t,n,r){if(r={lane:2,revertLane:Uc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(a(479))}else null!==(t=Pr(e,n,r,2))&&Yl(t,e,2)}function hs(e){var t=e.alternate;return e===Gi||null!==t&&t===Gi}function fs(e,t){Xi=qi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ps(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}var ms={readContext:Io,use:da,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useLayoutEffect:Ji,useInsertionEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useDeferredValue:Ji,useTransition:Ji,useSyncExternalStore:Ji,useId:Ji,useHostTransitionStatus:Ji,useFormState:Ji,useActionState:Ji,useOptimistic:Ji,useMemoCache:Ji,useCacheRefresh:Ji};ms.useEffectEvent=Ji;var gs={readContext:Io,use:da,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){Ra(4,2,e,t)},useMemo:function(e,t){var n=ua();t=void 0===t?null:t;var r=e();if(Yi){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ua();if(void 0!==n){var o=n(t);if(Yi){ve(!0);try{n(t)}finally{ve(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=us.bind(null,Gi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ua().memoizedState=e},useState:function(e){var t=(e=Da(e)).queue,n=ls.bind(null,Gi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ya,useDeferredValue:function(e,t){return Qa(ua(),e,t)},useTransition:function(){var e=Da(!1);return e=Ja.bind(null,Gi,e.queue,!0,!1),ua().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Gi,o=ua();if(ho){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===pl)throw Error(a(349));0!==(127&gl)||ba(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Va(_a.bind(null,r,i,e),[e]),r.flags|=2048,ja(9,{destroy:void 0},va.bind(null,r,i,n,t),null),n},useId:function(){var e=ua(),t=pl.identifierPrefix;if(ho){var n=ro;t="_"+t+"R_"+(n=(no&~(1<<32-_e(no)-1)).toString(32)+n),0<(n=Ki++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zi++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:os,useFormState:Pa,useActionState:Pa,useOptimistic:function(e){var t=ua();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ds.bind(null,Gi,!0,n),n.dispatch=t,[e,t]},useMemoCache:ha,useCacheRefresh:function(){return ua().memoizedState=ss.bind(null,Gi)},useEffectEvent:function(e){var t=ua(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fl))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},ys={readContext:Io,use:da,useCallback:Ka,useContext:Io,useEffect:Ua,useImperativeHandle:Xa,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:$a,useReducer:pa,useRef:Ba,useState:function(){return pa(fa)},useDebugValue:Ya,useDeferredValue:function(e,t){return Za(la(),Hi.memoizedState,e,t)},useTransition:function(){var e=pa(fa)[0],t=la().memoizedState;return["boolean"===typeof e?e:ca(e),t]},useSyncExternalStore:ya,useId:is,useHostTransitionStatus:os,useFormState:Ia,useActionState:Ia,useOptimistic:function(e,t){return Ea(la(),0,e,t)},useMemoCache:ha,useCacheRefresh:as};ys.useEffectEvent=Ga;var bs={readContext:Io,use:da,useCallback:Ka,useContext:Io,useEffect:Ua,useImperativeHandle:Xa,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:$a,useReducer:ga,useRef:Ba,useState:function(){return ga(fa)},useDebugValue:Ya,useDeferredValue:function(e,t){var n=la();return null===Hi?Qa(n,e,t):Za(n,Hi.memoizedState,e,t)},useTransition:function(){var e=ga(fa)[0],t=la().memoizedState;return["boolean"===typeof e?e:ca(e),t]},useSyncExternalStore:ya,useId:is,useHostTransitionStatus:os,useFormState:La,useActionState:La,useOptimistic:function(e,t){var n=la();return null!==Hi?Ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ha,useCacheRefresh:as};function vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bs.useEffectEvent=Ga;var _s={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ql(),o=vi(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_i(e,o,r))&&(Yl(t,e,r),wi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ql(),o=vi(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_i(e,o,r))&&(Yl(t,e,r),wi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ql(),r=vi(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=_i(e,r,n))&&(Yl(t,e,n),wi(t,e,n))}};function ws(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(o,i))}function xs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_s.enqueueReplaceState(t,t.state,null)}function Ds(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=f({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function Es(e){Tr(e)}function Ss(e){console.error(e)}function Ts(e){Tr(e)}function As(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Fs(e,t,n){return(n=vi(n)).tag=3,n.payload={element:null},n.callback=function(){As(e,t)},n}function Cs(e){return(e=vi(e)).tag=3,e}function Os(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){ks(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!==typeof o&&(null===Ll?Ll=new Set([this]):Ll.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ps=Error(a(461)),Is=!1;function Ms(e,t,n,r){t.child=null===e?mi(t,null,n,r):pi(t,e.child,n,r)}function Ns(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Po(t),r=ta(e,t,n,a,i,o),s=ia(),null===e||Is?(ho&&s&&ao(t),t.flags|=1,Ms(e,t,r,o),t.child):(aa(e,t,o),ou(e,t,o))}function Ls(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Rr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,js(e,t,i,r,o))}if(i=e.child,!iu(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(a,r)&&e.ref===t.ref)return ou(e,t,o)}return t.flags|=1,(e=zr(i,r)).ref=t.ref,e.return=t,t.child=e}function js(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Jn(i,r)&&e.ref===t.ref){if(Is=!1,t.pendingProps=r=i,!iu(e,o))return t.lanes=e.lanes,ou(e,t,o);0!==(131072&e.flags)&&(Is=!0)}}return Hs(e,t,n,r,o)}function Bs(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return zs(e,t,i,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,zs(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$o(0,null!==i?i.cachePool:null),null!==i?Ci(t,i):Oi(),ji(t)}else null!==i?($o(0,i.cachePool),Ci(t,i),Bi(),t.memoizedState=null):(null!==e&&$o(0,null),Oi(),Bi());return Ms(e,t,o,n),t.child}function Rs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zs(e,t,n,r,o){var i=Ko();return i=null===i?null:{parent:Ro._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&$o(0,null),Oi(),ji(t),null!==e&&Co(e,t,r,!0),t.childLanes=o,null}function Vs(e,t){return(t=Js({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Us(e,t,n){return pi(t,e.child,null,n),(e=Vs(t,t.pendingProps)).flags|=2,Ri(t),t.memoizedState=null,e}function Gs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Hs(e,t,n,r,o){return Po(t),n=ta(e,t,n,r,void 0,o),r=ia(),null===e||Is?(ho&&r&&ao(t),t.flags|=1,Ms(e,t,n,o),t.child):(aa(e,t,o),ou(e,t,o))}function Ws(e,t,n,r,o,i){return Po(t),t.updateQueue=null,n=ra(t,r,n,o),na(e),r=ia(),null===e||Is?(ho&&r&&ao(t),t.flags|=1,Ms(e,t,n,i),t.child):(aa(e,t,i),ou(e,t,i))}function qs(e,t,n,r,o){if(Po(t),null===t.stateNode){var i=Lr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Io(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=_s,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},yi(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Io(a):Lr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(vs(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&_s.enqueueReplaceState(i,i.state,null),Si(t,r,i,o),Ei(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,u=Ds(n,s);i.props=u;var l=i.context,c=n.contextType;a=Lr,"object"===typeof c&&null!==c&&(a=Io(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||l!==a)&&xs(t,i,r,a),gi=!1;var h=t.memoizedState;i.state=h,Si(t,r,i,o),Ei(),l=t.memoizedState,s||h!==l||gi?("function"===typeof d&&(vs(t,n,d,r),l=t.memoizedState),(u=gi||ws(t,n,u,r,h,l,a))?(c||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=a,r=u):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,bi(e,t),c=Ds(n,a=t.memoizedProps),i.props=c,d=t.pendingProps,h=i.context,l=n.contextType,u=Lr,"object"===typeof l&&null!==l&&(u=Io(l)),(l="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==u)&&xs(t,i,r,u),gi=!1,h=t.memoizedState,i.state=h,Si(t,r,i,o),Ei();var f=t.memoizedState;a!==d||h!==f||gi||null!==e&&null!==e.dependencies&&Oo(e.dependencies)?("function"===typeof s&&(vs(t,n,s,r),f=t.memoizedState),(c=gi||ws(t,n,c,r,h,f,u)||null!==e&&null!==e.dependencies&&Oo(e.dependencies))?(l||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,u),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,u)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=u,r=c):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Gs(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=pi(t,e.child,null,o),t.child=pi(t,null,n,o)):Ms(e,t,n,o),t.memoizedState=i.state,e=t.child):e=ou(e,t,o),e}function Xs(e,t,n,r){return _o(),t.flags|=256,Ms(e,t,n,r),t.child}var Ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ks(e){return{baseLanes:e,cachePool:Qo()}}function $s(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Al),e}function Qs(e,t,n){var r,o=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&zi.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ho){if(i?Ni(t):Bi(),(e=co)?null!==(e=null!==(e=Cd(e,po))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,lo=t,co=null):e=null,null===e)throw go(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var u=o.children;return o=o.fallback,i?(Bi(),u=Js({mode:"hidden",children:u},i=t.mode),o=Gr(o,i,n,null),u.return=t,o.return=t,u.sibling=o,t.child=u,(o=t.child).memoizedState=Ks(n),o.childLanes=$s(e,r,n),t.memoizedState=Ys,Rs(null,o)):(Ni(t),Zs(t,u))}var l=e.memoizedState;if(null!==l&&null!==(u=l.dehydrated)){if(s)256&t.flags?(Ni(t),t.flags&=-257,t=eu(e,t,n)):null!==t.memoizedState?(Bi(),t.child=e.child,t.flags|=128,t=null):(Bi(),u=o.fallback,i=t.mode,o=Js({mode:"visible",children:o.children},i),(u=Gr(u,i,n,null)).flags|=2,o.return=t,u.return=t,o.sibling=u,t.child=o,pi(t,e.child,null,n),(o=t.child).memoizedState=Ks(n),o.childLanes=$s(e,r,n),t.memoizedState=Ys,t=Rs(null,o));else if(Ni(t),Pd(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(o=Error(a(419))).stack="",o.digest=r,xo({value:o,source:null,stack:null}),t=eu(e,t,n)}else if(Is||Co(e,t,n,!1),r=0!==(n&e.childLanes),Is||r){if(null!==(r=pl)&&(0!==(o=Ne(r,n))&&o!==l.retryLane))throw l.retryLane=o,Ir(e,o),Yl(r,e,o),Ps;Od(u)||ac(),t=eu(e,t,n)}else Od(u)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,co=Id(u.nextSibling),lo=t,ho=!0,fo=null,po=!1,null!==e&&uo(t,e),(t=Zs(t,o.children)).flags|=4096);return t}return i?(Bi(),u=o.fallback,i=t.mode,c=(l=e.child).sibling,(o=zr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?u=zr(c,u):(u=Gr(u,i,n,null)).flags|=2,u.return=t,o.return=t,o.sibling=u,t.child=o,Rs(null,o),o=t.child,null===(u=e.child.memoizedState)?u=Ks(n):(null!==(i=u.cachePool)?(l=Ro._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=Qo(),u={baseLanes:u.baseLanes|n,cachePool:i}),o.memoizedState=u,o.childLanes=$s(e,r,n),t.memoizedState=Ys,Rs(e.child,o)):(Ni(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zs(e,t){return(t=Js({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Js(e,t){return(e=Br(22,e,null,t)).lanes=0,e}function eu(e,t,n){return pi(t,e.child,null,n),(e=Zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function nu(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.treeForkCount=i)}function ru(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var a=zi.current,s=0!==(2&a);if(s?(a=1&a|2,t.flags|=128):a&=1,V(zi,a),Ms(e,t,r,n),r=ho?Zr:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tu(e,n,t);else if(19===e.tag)tu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Vi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),nu(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Vi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}nu(t,!0,n,null,i,r);break;case"together":nu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ou(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),El|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Co(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function iu(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Oo(e))}function au(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Is=!0;else{if(!iu(e,n)&&0===(128&t.flags))return Is=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),To(0,Ro,e.memoizedState.cache),_o();break;case 27:case 5:$(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:To(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Li(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ni(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Qs(e,t,n):(Ni(t),null!==(e=ou(e,t,n))?e.sibling:null);Ni(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Co(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return ru(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(zi,zi.current),r)break;return null;case 22:return t.lanes=0,Bs(e,t,n,t.pendingProps);case 24:To(0,Ro,e.memoizedState.cache)}return ou(e,t,n)}(e,t,n);Is=0!==(131072&e.flags)}else Is=!1,ho&&0!==(1048576&t.flags)&&io(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oi(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var o=e.$$typeof;if(o===x){t.tag=11,t=Ns(null,t,e,r,n);break e}if(o===S){t.tag=14,t=Ls(null,t,e,r,n);break e}}throw t=P(e)||e,Error(a(306,t,""))}Rr(e)?(r=Ds(e,r),t.tag=1,t=qs(null,t,e,r,n)):(t.tag=0,t=Hs(null,t,e,r,n))}return t;case 0:return Hs(e,t,t.type,t.pendingProps,n);case 1:return qs(e,t,r=t.type,o=Ds(r,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,bi(e,t),Si(t,r,null,n);var s=t.memoizedState;if(r=s.cache,To(0,Ro,r),r!==i.cache&&Fo(t,[Ro],n,!0),Ei(),r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Xs(e,t,r,n);break e}if(r!==o){xo(o=Yr(Error(a(424)),t)),t=Xs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(co=Id(e.firstChild),lo=t,ho=!0,fo=null,po=!0,n=mi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_o(),r===o){t=ou(e,t,n);break e}Ms(e,t,r,n)}t=t.child}return t;case 26:return Gs(e,t),null===e?(n=Wd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ho||(n=t.type,e=t.pendingProps,(r=gd(q.current).createElement(n))[Ve]=t,r[Ue]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Wd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&ho&&(r=t.stateNode=jd(t.type,t.pendingProps,q.current),lo=t,po=!0,o=co,Td(t.type)?(Md=o,co=Id(r.firstChild)):co=o),Ms(e,t,t.pendingProps.children,n),Gs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ho&&((o=r=co)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Id(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,po))?(t.stateNode=r,lo=t,co=Id(r.firstChild),po=!1,o=!0):o=!1),o||go(t)),$(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,vd(o,i)?r=null:null!==s&&vd(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=ta(e,t,oa,null,null,n),ch._currentValue=o),Gs(e,t),Ms(e,t,r,n),t.child;case 6:return null===e&&ho&&((e=n=co)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Id(e.nextSibling)))return null}return e}(n,t.pendingProps,po))?(t.stateNode=n,lo=t,co=null,e=!0):e=!1),e||go(t)),null;case 13:return Qs(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=pi(t,null,r,n):Ms(e,t,r,n),t.child;case 11:return Ns(e,t,t.type,t.pendingProps,n);case 7:return Ms(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ms(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,To(0,t.type,r.value),Ms(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Po(t),r=r(o=Io(o)),t.flags|=1,Ms(e,t,r,n),t.child;case 14:return Ls(e,t,t.type,t.pendingProps,n);case 15:return js(e,t,t.type,t.pendingProps,n);case 19:return ru(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ho){if("hidden"===r.mode)return e=Vs(t,r),t.lanes=536870912,Rs(null,e);if(Li(t),(e=co)?null!==(e=null!==(e=Cd(e,po))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,lo=t,co=null):e=null,null===e)throw go(t);return t.lanes=536870912,null}return Vs(t,r)}var i=e.memoizedState;if(null!==i){var s=i.dehydrated;if(Li(t),o)if(256&t.flags)t.flags&=-257,t=Us(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Is||Co(e,t,n,!1),o=0!==(n&e.childLanes),Is||o){if(null!==(r=pl)&&0!==(s=Ne(r,n))&&s!==i.retryLane)throw i.retryLane=s,Ir(e,s),Yl(r,e,s),Ps;ac(),t=Us(e,t,n)}else e=i.treeContext,co=Id(s.nextSibling),lo=t,ho=!0,fo=null,po=!1,null!==e&&uo(t,e),(t=Vs(t,r)).flags|=4096;return t}return(e=zr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Bs(e,t,n,t.pendingProps);case 24:return Po(t),r=Io(Ro),null===e?(null===(o=Ko())&&(o=pl,i=zo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},yi(t),To(0,Ro,o)):(0!==(e.lanes&n)&&(bi(e,t),Si(t,null,null,n),Ei()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),To(0,Ro,r)):(r=i.cache,To(0,Ro,r),r!==o.cache&&Fo(t,[Ro],n,!0))),Ms(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function su(e){e.flags|=4}function uu(e,t,n,r,o){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!rc())throw ii=ti,Jo;e.flags|=8192}}else e.flags&=-16777217}function lu(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!oh(t)){if(!rc())throw ii=ti,Jo;e.flags|=8192}}function cu(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,kl|=t)}function du(e,t){if(!ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fu(e,t,n){var r=t.pendingProps;switch(so(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hu(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ao(Ro),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vo(t)?su(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wo())),hu(t),null;case 26:var o=t.type,i=t.memoizedState;return null===e?(su(t),null!==i?(hu(t),lu(t,i)):(hu(t),uu(t,o,0,0,n))):i?i!==e.memoizedState?(su(t),hu(t),lu(t,i)):(hu(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&su(t),hu(t),uu(t,o,0,0,n)),null;case 27:if(Q(t),n=q.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&su(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hu(t),null}e=H.current,vo(t)?yo(t):(e=jd(o,r,n),t.stateNode=e,su(t))}return hu(t),null;case 5:if(Q(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&su(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hu(t),null}if(i=H.current,vo(t))yo(t);else{var s=gd(q.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(i=s.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i="string"===typeof r.is?s.createElement(o,{is:r.is}):s.createElement(o)}}i[Ve]=t,i[Ue]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)i.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=i;e:switch(hd(i,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&su(t)}}return hu(t),uu(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&su(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=q.current,vo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=lo))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ld(e.nodeValue,n)))||go(t,!0)}else(e=gd(e).createTextNode(r))[Ve]=t,t.stateNode=e}return hu(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vo(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[Ve]=t}else _o(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hu(t),e=!1}else n=wo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ri(t),t):(Ri(t),null);if(0!==(128&t.flags))throw Error(a(558))}return hu(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=vo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[Ve]=t}else _o(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hu(t),o=!1}else o=wo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(Ri(t),t):(Ri(t),null)}return Ri(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cu(t,t.updateQueue),hu(t),null);case 4:return K(),null===e&&Jc(t.stateNode.containerInfo),hu(t),null;case 10:return Ao(t.type),hu(t),null;case 19:if(z(zi),null===(r=t.memoizedState))return hu(t),null;if(o=0!==(128&t.flags),null===(i=r.rendering))if(o)du(r,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=Vi(e))){for(t.flags|=128,du(r,!1),e=i.updateQueue,t.updateQueue=e,cu(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return V(zi,1&zi.current|2),ho&&oo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ue()>Ml&&(t.flags|=128,o=!0,du(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Vi(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,cu(t,e),du(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!ho)return hu(t),null}else 2*ue()-r.renderingStartTime>Ml&&536870912!==n&&(t.flags|=128,o=!0,du(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ue(),e.sibling=null,n=zi.current,V(zi,o?1&n|2:1&n),ho&&oo(t,r.treeForkCount),e):(hu(t),null);case 22:case 23:return Ri(t),Pi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hu(t),6&t.subtreeFlags&&(t.flags|=8192)):hu(t),null!==(n=t.updateQueue)&&cu(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Yo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ao(Ro),hu(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function pu(e,t){switch(so(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ao(Ro),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(Ri(t),null===t.alternate)throw Error(a(340));_o()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ri(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));_o()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(zi),null;case 4:return K(),null;case 10:return Ao(t.type),null;case 22:case 23:return Ri(t),Pi(),null!==e&&z(Yo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ao(Ro),null;default:return null}}function mu(e,t){switch(so(t),t.tag){case 3:Ao(Ro),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 31:null!==t.memoizedState&&Ri(t);break;case 13:Ri(t);break;case 19:z(zi);break;case 10:Ao(t.type);break;case 22:case 23:Ri(t),Pi(),null!==e&&z(Yo);break;case 24:Ao(Ro)}}function gu(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(s){Dc(t,t.return,s)}}function yu(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var u=n,l=s;try{l()}catch(c){Dc(o,u,c)}}}r=r.next}while(r!==i)}}catch(c){Dc(t,t.return,c)}}function bu(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ai(t,n)}catch(r){Dc(e,e.return,r)}}}function vu(e,t,n){n.props=Ds(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Dc(e,t,r)}}function _u(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){Dc(e,t,o)}}function wu(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){Dc(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){Dc(e,t,i)}else n.current=null}function xu(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){Dc(e,e.return,o)}}function Du(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,u=null,l=null,c=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(p)||cd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":o=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":u=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&cd(e,t,f,p,r,h)}}return void bt(e,s,u,l,c,d,i,o);case"select":for(i in p=s=u=f=null,n)if(l=n[i],n.hasOwnProperty(i)&&null!=l)switch(i){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(i)||cd(e,t,i,null,r,l)}for(o in r)if(i=r[o],l=n[o],r.hasOwnProperty(o)&&(null!=i||null!=l))switch(o){case"value":f=i;break;case"defaultValue":u=i;break;case"multiple":s=i;default:i!==l&&cd(e,t,o,i,r,l)}return t=u,n=s,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(u in p=f=null,n)if(o=n[u],n.hasOwnProperty(u)&&null!=o&&!r.hasOwnProperty(u))switch(u){case"value":case"children":break;default:cd(e,t,u,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&cd(e,t,s,o,r,i)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else cd(e,t,m,null,r,f);for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if("selected"===l)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else cd(e,t,l,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&cd(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:cd(e,t,c,f,r,p)}return;default:if(kt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&dd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,r,p);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&null!=f&&!r.hasOwnProperty(b)&&cd(e,t,b,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||cd(e,t,h,f,r,p)}(r,e.type,n,t),r[Ue]=t}catch(o){Dc(e,e.return,o)}}function Eu(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function Su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Eu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pt));else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tu(e,t,n),e=e.sibling;null!==e;)Tu(e,t,n),e=e.sibling}function Au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Au(e,t,n),e=e.sibling;null!==e;)Au(e,t,n),e=e.sibling}function ku(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);hd(t,r,n),t[Ve]=e,t[Ue]=n}catch(i){Dc(e,e.return,i)}}var Fu=!1,Cu=!1,Ou=!1,Pu="function"===typeof WeakSet?WeakSet:Set,Iu=null;function Mu(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yu(e,n),4&r&&gu(5,n);break;case 1:if(Yu(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Dc(n,n.return,a)}else{var o=Ds(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Dc(n,n.return,s)}}64&r&&bu(n),512&r&&_u(n,n.return);break;case 3:if(Yu(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ai(e,t)}catch(a){Dc(n,n.return,a)}}break;case 27:null===t&&4&r&&ku(n);case 26:case 5:Yu(e,n),null===t&&4&r&&xu(n),512&r&&_u(n,n.return);break;case 12:Yu(e,n);break;case 31:Yu(e,n),4&r&&zu(e,n);break;case 13:Yu(e,n),4&r&&Vu(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Ac.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Fu)){t=null!==t&&null!==t.memoizedState||Cu,o=Fu;var i=Cu;Fu=r,(Cu=t)&&!i?$u(e,n,0!==(8772&n.subtreeFlags)):Yu(e,n),Fu=o,Cu=i}break;case 30:break;default:Yu(e,n)}}function Nu(e){var t=e.alternate;null!==t&&(e.alternate=null,Nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Lu=null,ju=!1;function Bu(e,t,n){for(n=n.child;null!==n;)Ru(e,t,n),n=n.sibling}function Ru(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ye,n)}catch(i){}switch(n.tag){case 26:Cu||wu(n,t),Bu(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Cu||wu(n,t);var r=Lu,o=ju;Td(n.type)&&(Lu=n.stateNode,ju=!1),Bu(e,t,n),Bd(n.stateNode),Lu=r,ju=o;break;case 5:Cu||wu(n,t);case 6:if(r=Lu,o=ju,Lu=null,Bu(e,t,n),ju=o,null!==(Lu=r))if(ju)try{(9===Lu.nodeType?Lu.body:"HTML"===Lu.nodeName?Lu.ownerDocument.body:Lu).removeChild(n.stateNode)}catch(a){Dc(n,t,a)}else try{Lu.removeChild(n.stateNode)}catch(a){Dc(n,t,a)}break;case 18:null!==Lu&&(ju?(Ad(9===(e=Lu).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Hh(e)):Ad(Lu,n.stateNode));break;case 4:r=Lu,o=ju,Lu=n.stateNode.containerInfo,ju=!0,Bu(e,t,n),Lu=r,ju=o;break;case 0:case 11:case 14:case 15:yu(2,n,t),Cu||yu(4,n,t),Bu(e,t,n);break;case 1:Cu||(wu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&vu(n,t,r)),Bu(e,t,n);break;case 21:Bu(e,t,n);break;case 22:Cu=(r=Cu)||null!==n.memoizedState,Bu(e,t,n),Cu=r;break;default:Bu(e,t,n)}}function zu(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hh(e)}catch(n){Dc(t,t.return,n)}}}function Vu(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hh(e)}catch(n){Dc(t,t.return,n)}}function Uu(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pu),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pu),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=kc.bind(null,e,t);t.then(r,r)}})}function Gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 27:if(Td(u.type)){Lu=u.stateNode,ju=!1;break e}break;case 5:Lu=u.stateNode,ju=!1;break e;case 3:case 4:Lu=u.stateNode.containerInfo,ju=!0;break e}u=u.return}if(null===Lu)throw Error(a(160));Ru(i,s,o),Lu=null,ju=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wu(t,e),t=t.sibling}var Hu=null;function Wu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gu(t,e),qu(e),4&r&&(yu(3,e,e.return),gu(3,e),yu(5,e,e.return));break;case 1:Gu(t,e),qu(e),512&r&&(Cu||null===n||wu(n,n.return)),64&r&&Fu&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Hu;if(Gu(t,e),qu(e),512&r&&(Cu||null===n||wu(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Ye]||i[Ve]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),hd(i,r,n),i[Ve]=e,et(i),r=i;break e;case"link":var s=nh("link","href",o).get(r+(n.href||""));if(s)for(var u=0;u<s.length;u++)if((i=s[u]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(u,1);break t}hd(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=nh("meta","content",o).get(r+(n.content||"")))for(u=0;u<s.length;u++)if((i=s[u]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(u,1);break t}hd(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[Ve]=e,et(i),r=i}e.stateNode=r}else rh(o,e.type,e.stateNode);else e.stateNode=Qd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?rh(o,e.type,e.stateNode):Qd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Du(e,e.memoizedProps,n.memoizedProps)}break;case 27:Gu(t,e),qu(e),512&r&&(Cu||null===n||wu(n,n.return)),null!==n&&4&r&&Du(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Gu(t,e),qu(e),512&r&&(Cu||null===n||wu(n,n.return)),32&e.flags){o=e.stateNode;try{Et(o,"")}catch(m){Dc(e,e.return,m)}}4&r&&null!=e.stateNode&&Du(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(Ou=!0);break;case 6:if(Gu(t,e),qu(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Dc(e,e.return,m)}}break;case 3:if(th=null,o=Hu,Hu=Vd(t.containerInfo),Gu(t,e),Hu=o,qu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Hh(t.containerInfo)}catch(m){Dc(e,e.return,m)}Ou&&(Ou=!1,Xu(e));break;case 4:r=Hu,Hu=Vd(e.stateNode.containerInfo),Gu(t,e),qu(e),Hu=r;break;case 12:default:Gu(t,e),qu(e);break;case 31:case 19:Gu(t,e),qu(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Uu(e,r)));break;case 13:Gu(t,e),qu(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Pl=ue()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Uu(e,r)));break;case 22:o=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,c=Fu,d=Cu;if(Fu=c||o,Cu=d||l,Gu(t,e),Cu=d,Fu=c,qu(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||l||Fu||Cu||Ku(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(i=l.stateNode,o)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{u=l.stateNode;var h=l.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;u.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Dc(l,l.return,m)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=o?"":l.memoizedProps}catch(m){Dc(l,l.return,m)}}}else if(18===t.tag){if(null===n){l=t;try{var p=l.stateNode;o?kd(p,!0):kd(l.stateNode,!1)}catch(m){Dc(l,l.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Uu(e,n))));case 30:case 21:}}function qu(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Eu(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var o=n.stateNode;Au(e,Su(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(Et(i,""),n.flags&=-33),Au(e,Su(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;Tu(e,Su(e),s);break;default:throw Error(a(161))}}catch(u){Dc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Xu(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Xu(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yu(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Mu(e,t.alternate,t),t=t.sibling}function Ku(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yu(4,t,t.return),Ku(t);break;case 1:wu(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&vu(t,t.return,n),Ku(t);break;case 27:Bd(t.stateNode);case 26:case 5:wu(t,t.return),Ku(t);break;case 22:null===t.memoizedState&&Ku(t);break;default:Ku(t)}e=e.sibling}}function $u(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:$u(o,i,n),gu(4,i);break;case 1:if($u(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(l){Dc(r,r.return,l)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var u=o.shared.hiddenCallbacks;if(null!==u)for(o.shared.hiddenCallbacks=null,o=0;o<u.length;o++)Ti(u[o],s)}catch(l){Dc(r,r.return,l)}}n&&64&a&&bu(i),_u(i,i.return);break;case 27:ku(i);case 26:case 5:$u(o,i,n),n&&null===r&&4&a&&xu(i),_u(i,i.return);break;case 12:$u(o,i,n);break;case 31:$u(o,i,n),n&&4&a&&zu(o,i);break;case 13:$u(o,i,n),n&&4&a&&Vu(o,i);break;case 22:null===i.memoizedState&&$u(o,i,n),_u(i,i.return);break;case 30:break;default:$u(o,i,n)}t=t.sibling}}function Qu(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vo(n))}function Zu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vo(e))}function Ju(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)el(e,t,n,r),t=t.sibling}function el(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ju(e,t,n,r),2048&o&&gu(9,t);break;case 1:case 31:case 13:default:Ju(e,t,n,r);break;case 3:Ju(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vo(e)));break;case 12:if(2048&o){Ju(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Dc(t,t.return,u)}}else Ju(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Ju(e,t,n,r):nl(e,t):2&i._visibility?Ju(e,t,n,r):(i._visibility|=2,tl(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&o&&Qu(a,t);break;case 24:Ju(e,t,n,r),2048&o&&Zu(t.alternate,t)}}function tl(e,t,n,r,o){for(o=o&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,a=t,s=n,u=r,l=a.flags;switch(a.tag){case 0:case 11:case 15:tl(i,a,s,u,o),gu(8,a);break;case 23:break;case 22:var c=a.stateNode;null!==a.memoizedState?2&c._visibility?tl(i,a,s,u,o):nl(i,a):(c._visibility|=2,tl(i,a,s,u,o)),o&&2048&l&&Qu(a.alternate,a);break;case 24:tl(i,a,s,u,o),o&&2048&l&&Zu(a.alternate,a);break;default:tl(i,a,s,u,o)}t=t.sibling}}function nl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:nl(n,r),2048&o&&Qu(r.alternate,r);break;case 24:nl(n,r),2048&o&&Zu(r.alternate,r);break;default:nl(n,r)}t=t.sibling}}var rl=8192;function ol(e,t,n){if(e.subtreeFlags&rl)for(e=e.child;null!==e;)il(e,t,n),e=e.sibling}function il(e,t,n){switch(e.tag){case 26:ol(e,t,n),e.flags&rl&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var o=qd(r.href),i=t.querySelector(Xd(o));if(i)return null!==(t=i._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ah.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void et(i);i=t.ownerDocument||t,r=Yd(r),(o=Rd.get(o))&&Jd(r,o),et(i=i.createElement("link"));var a=i;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ah.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hu,e.memoizedState,e.memoizedProps);break;case 5:default:ol(e,t,n);break;case 3:case 4:var r=Hu;Hu=Vd(e.stateNode.containerInfo),ol(e,t,n),Hu=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rl,rl=16777216,ol(e,t,n),rl=r):ol(e,t,n))}}function al(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Iu=r,cl(r,e)}al(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ul(e),e=e.sibling}function ul(e){switch(e.tag){case 0:case 11:case 15:sl(e),2048&e.flags&&yu(9,e,e.return);break;case 3:case 12:default:sl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ll(e)):sl(e)}}function ll(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Iu=r,cl(r,e)}al(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yu(8,t,t.return),ll(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ll(t));break;default:ll(t)}e=e.sibling}}function cl(e,t){for(;null!==Iu;){var n=Iu;switch(n.tag){case 0:case 11:case 15:yu(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Iu=r;else e:for(n=e;null!==Iu;){var o=(r=Iu).sibling,i=r.return;if(Nu(r),r===n){Iu=null;break e}if(null!==o){o.return=i,Iu=o;break e}Iu=i}}}var dl={getCacheForType:function(e){var t=Io(Ro),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Io(Ro).controller.signal}},hl="function"===typeof WeakMap?WeakMap:Map,fl=0,pl=null,ml=null,gl=0,yl=0,bl=null,vl=!1,_l=!1,wl=!1,xl=0,Dl=0,El=0,Sl=0,Tl=0,Al=0,kl=0,Fl=null,Cl=null,Ol=!1,Pl=0,Il=0,Ml=1/0,Nl=null,Ll=null,jl=0,Bl=null,Rl=null,zl=0,Vl=0,Ul=null,Gl=null,Hl=0,Wl=null;function ql(){return 0!==(2&fl)&&0!==gl?gl&-gl:null!==M.T?Uc():Be()}function Xl(){if(0===Al)if(0===(536870912&gl)||ho){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),Al=e}else Al=536870912;return null!==(e=Ii.current)&&(e.flags|=32),Al}function Yl(e,t,n){(e!==pl||2!==yl&&9!==yl)&&null===e.cancelPendingCommit||(tc(e,0),Zl(e,gl,Al,!1)),Pe(e,n),0!==(2&fl)&&e===pl||(e===pl&&(0===(2&fl)&&(Sl|=n),4===Dl&&Zl(e,gl,Al,!1)),Nc(e))}function Kl(e,t,n){if(0!==(6&fl))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||ke(e,t),o=r?function(e,t){var n=fl;fl|=2;var r=oc(),o=ic();pl!==e||gl!==t?(Nl=null,Ml=ue()+500,tc(e,t)):_l=ke(e,t);e:for(;;)try{if(0!==yl&&null!==ml){t=ml;var i=bl;t:switch(yl){case 1:yl=0,bl=null,hc(e,t,i,1);break;case 2:case 9:if(ni(i)){yl=0,bl=null,dc(t);break}t=function(){2!==yl&&9!==yl||pl!==e||(yl=7),Nc(e)},i.then(t,t);break e;case 3:yl=7;break e;case 4:yl=5;break e;case 7:ni(i)?(yl=0,bl=null,dc(t)):(yl=0,bl=null,hc(e,t,i,7));break;case 5:var s=null;switch(ml.tag){case 26:s=ml.memoizedState;case 5:case 27:var u=ml;if(s?oh(s):u.stateNode.complete){yl=0,bl=null;var l=u.sibling;if(null!==l)ml=l;else{var c=u.return;null!==c?(ml=c,fc(c)):ml=null}break t}}yl=0,bl=null,hc(e,t,i,5);break;case 6:yl=0,bl=null,hc(e,t,i,6);break;case 8:ec(),Dl=6;break e;default:throw Error(a(462))}}lc();break}catch(d){nc(e,d)}return So=Eo=null,M.H=r,M.A=o,fl=n,null!==ml?0:(pl=null,gl=0,Cr(),Dl)}(e,t):sc(e,t,!0),i=r;;){if(0===o){_l&&!r&&Zl(e,t,0,!1);break}if(n=e.current.alternate,!i||Ql(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var u=e;o=Fl;var l=u.current.memoizedState.isDehydrated;if(l&&(tc(u,s).flags|=256),2!==(s=sc(u,s,!1))){if(wl&&!l){u.errorRecoveryDisabledLanes|=i,Sl|=i,o=4;break e}i=Cl,Cl=o,null!==i&&(null===Cl?Cl=i:Cl.push.apply(Cl,i))}o=s}if(i=!1,2!==o)continue}}if(1===o){tc(e,0),Zl(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Zl(r,t,Al,!vl);break e;case 2:Cl=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(o=Pl+300-ue())){if(Zl(r,t,Al,!vl),0!==Ae(r,0,!0))break e;zl=t,r.timeoutHandle=wd($l.bind(null,r,n,Cl,Nl,Ol,t,Al,Sl,kl,vl,i,"Throttled",-0,0),o)}else $l(r,n,Cl,Nl,Ol,t,Al,Sl,kl,vl,i,null,-0,0)}break}o=sc(e,t,!1),i=!1}Nc(e)}function $l(e,t,n,r,o,i,a,s,u,l,c,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){il(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var p=(62914560&i)===i?Pl-ue():(4194048&i)===i?Il-ue():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&uh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&uh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ih&&(ih=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,a=o.initiatorType,s=o.duration;if(i&&s&&fd(a)){for(a=0,s=o.responseEnd,r+=1;r<n.length;r++){var u=n[r],l=u.startTime;if(l>s)break;var c=u.transferSize,d=u.initiatorType;c&&fd(d)&&(a+=c*((u=u.responseEnd)<s?1:(s-l)/(u-l)))}if(--r,t+=8*(i+a)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&uh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ih?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,p)))return zl=i,e.cancelPendingCommit=p(mc.bind(null,e,t,i,n,r,o,a,s,u,c,d,null,h,f)),void Zl(e,i,a,!l)}mc(e,t,i,n,r,o,a,s,u)}function Ql(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Zn(i(),o))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zl(e,t,n,r){t&=~Tl,t&=~Sl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-_e(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&Ie(e,n,t)}function Jl(){return 0!==(6&fl)||(Lc(0,!1),!1)}function ec(){if(null!==ml){if(0===yl)var e=ml.return;else So=Eo=null,sa(e=ml),ui=null,li=0,e=ml;for(;null!==e;)mu(e.alternate,e),e=e.return;ml=null}}function tc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zl=0,ec(),pl=e,ml=n=zr(e.current,null),gl=t,yl=0,bl=null,vl=!1,_l=ke(e,t),wl=!1,kl=Al=Tl=Sl=El=Dl=0,Cl=Fl=null,Ol=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-_e(r),i=1<<o;t|=e[o],r&=~i}return xl=t,Cr(),n}function nc(e,t){Gi=null,M.H=ms,t===Zo||t===ei?(t=ai(),yl=3):t===Jo?(t=ai(),yl=4):yl=t===Ps?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bl=t,null===ml&&(Dl=1,As(e,Yr(t,e.current)))}function rc(){var e=Ii.current;return null===e||((4194048&gl)===gl?null===Mi:((62914560&gl)===gl||0!==(536870912&gl))&&e===Mi)}function oc(){var e=M.H;return M.H=ms,null===e?ms:e}function ic(){var e=M.A;return M.A=dl,e}function ac(){Dl=4,vl||(4194048&gl)!==gl&&null!==Ii.current||(_l=!0),0===(134217727&El)&&0===(134217727&Sl)||null===pl||Zl(pl,gl,Al,!1)}function sc(e,t,n){var r=fl;fl|=2;var o=oc(),i=ic();pl===e&&gl===t||(Nl=null,tc(e,t)),t=!1;var a=Dl;e:for(;;)try{if(0!==yl&&null!==ml){var s=ml,u=bl;switch(yl){case 8:ec(),a=6;break e;case 3:case 2:case 9:case 6:null===Ii.current&&(t=!0);var l=yl;if(yl=0,bl=null,hc(e,s,u,l),n&&_l){a=0;break e}break;default:l=yl,yl=0,bl=null,hc(e,s,u,l)}}uc(),a=Dl;break}catch(c){nc(e,c)}return t&&e.shellSuspendCounter++,So=Eo=null,fl=r,M.H=o,M.A=i,null===ml&&(pl=null,gl=0,Cr()),a}function uc(){for(;null!==ml;)cc(ml)}function lc(){for(;null!==ml&&!ae();)cc(ml)}function cc(e){var t=au(e.alternate,e,xl);e.memoizedProps=e.pendingProps,null===t?fc(e):ml=t}function dc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ws(n,t,t.pendingProps,t.type,void 0,gl);break;case 11:t=Ws(n,t,t.pendingProps,t.type.render,t.ref,gl);break;case 5:sa(t);default:mu(n,t),t=au(n,t=ml=Vr(t,xl),xl)}e.memoizedProps=e.pendingProps,null===t?fc(e):ml=t}function hc(e,t,n,r){So=Eo=null,sa(t),ui=null,li=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Co(t,n,o,!0),null!==(n=Ii.current)){switch(n.tag){case 31:case 13:return null===Mi?ac():null===n.alternate&&0===Dl&&(Dl=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Ec(e,r,o)),!1;case 22:return n.flags|=65536,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Ec(e,r,o)),!1}throw Error(a(435,n.tag))}return Ec(e,r,o),ac(),!1}if(ho)return null!==(t=Ii.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==mo&&xo(Yr(e=Error(a(422),{cause:r}),n))):(r!==mo&&xo(Yr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Yr(r,n),xi(e,o=Fs(e.stateNode,r,o)),4!==Dl&&(Dl=2)),!1;var i=Error(a(520),{cause:r});if(i=Yr(i,n),null===Fl?Fl=[i]:Fl.push(i),4!==Dl&&(Dl=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,xi(n,e=Fs(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Ll||!Ll.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Os(o=Cs(o),e,n,r),xi(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,gl))return Dl=1,As(e,Yr(n,e.current)),void(ml=null)}catch(i){if(null!==o)throw ml=o,i;return Dl=1,As(e,Yr(n,e.current)),void(ml=null)}32768&t.flags?(ho||1===r?e=!0:_l||0!==(536870912&gl)?e=!1:(vl=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ii.current)&&13===r.tag&&(r.flags|=16384))),pc(t,e)):fc(t)}function fc(e){var t=e;do{if(0!==(32768&t.flags))return void pc(t,vl);e=t.return;var n=fu(t.alternate,t,xl);if(null!==n)return void(ml=n);if(null!==(t=t.sibling))return void(ml=t);ml=t=e}while(null!==t);0===Dl&&(Dl=5)}function pc(e,t){do{var n=pu(e.alternate,e);if(null!==n)return n.flags&=32767,void(ml=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ml=e);ml=e=n}while(null!==e);Dl=6,ml=null}function mc(e,t,n,r,o,i,s,u,l){e.cancelPendingCommit=null;do{_c()}while(0!==jl);if(0!==(6&fl))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,u=e.expirationTimes,l=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-_e(n),d=1<<c;s[c]=0,u[c]=-1;var h=l[c];if(null!==h)for(l[c]=null,c=0;c<h.length;c++){var f=h[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ie(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Fr,s,u,l),e===pl&&(ml=pl=null,gl=0),Rl=t,Bl=e,zl=n,Vl=i,Ul=o,Gl=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,oe(he,function(){return wc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null,o=N.p,N.p=2,s=fl,fl|=4;try{!function(e,t){if(e=e.containerInfo,pd=vh,or(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(u=s+o),h!==i||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===o&&(u=s),f===i&&++d===r&&(l=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},vh=!1,Iu=t;null!==Iu;)if(e=(t=Iu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Iu=e;else for(;null!==Iu;){switch(i=(t=Iu).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=Ds(n.type,o);e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Dc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Fd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Iu=e;break}Iu=t.return}}(e,t)}finally{fl=s,N.p=o,M.T=r}}jl=1,gc(),yc(),bc()}}function gc(){if(1===jl){jl=0;var e=Bl,t=Rl,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var r=N.p;N.p=2;var o=fl;fl|=4;try{Wu(t,e);var i=md,a=rr(e.containerInfo),s=i.focusedElem,u=i.selectionRange;if(a!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==u&&or(s)){var l=u.start,c=u.end;if(void 0===c&&(c=l),"selectionStart"in s)s.selectionStart=l,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(u.start,p),g=void 0===u.end?m:Math.min(u.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=tr(s,m),b=tr(s,g);if(y&&b&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==b.node||f.focusOffset!==b.offset)){var v=d.createRange();v.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(v),f.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),f.addRange(v))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var _=d[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}vh=!!pd,md=pd=null}finally{fl=o,N.p=r,M.T=n}}e.current=t,jl=2}}function yc(){if(2===jl){jl=0;var e=Bl,t=Rl,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var r=N.p;N.p=2;var o=fl;fl|=4;try{Mu(e,t.alternate,t)}finally{fl=o,N.p=r,M.T=n}}jl=3}}function bc(){if(4===jl||3===jl){jl=0,se();var e=Bl,t=Rl,n=zl,r=Gl;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jl=5:(jl=0,Rl=Bl=null,vc(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Ll=null),je(n),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(u){}if(null!==r){t=M.T,o=N.p,N.p=2,M.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];i(s.value,{componentStack:s.stack})}}finally{M.T=t,N.p=o}}0!==(3&zl)&&_c(),Nc(e),o=e.pendingLanes,0!==(261930&n)&&0!==(42&o)?e===Wl?Hl++:(Hl=0,Wl=e):Hl=0,Lc(0,!1)}}function vc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vo(t)))}function _c(){return gc(),yc(),bc(),wc()}function wc(){if(5!==jl)return!1;var e=Bl,t=Vl;Vl=0;var n=je(zl),r=M.T,o=N.p;try{N.p=32>n?32:n,M.T=null,n=Ul,Ul=null;var i=Bl,s=zl;if(jl=0,Rl=Bl=null,zl=0,0!==(6&fl))throw Error(a(331));var u=fl;if(fl|=4,ul(i.current),el(i,i.current,s,n),fl=u,Lc(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ye,i)}catch(l){}return!0}finally{N.p=o,M.T=r,vc(e,t)}}function xc(e,t,n){t=Yr(n,t),null!==(e=_i(e,t=Fs(e.stateNode,t,2),2))&&(Pe(e,2),Nc(e))}function Dc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ll||!Ll.has(r))){e=Yr(n,e),null!==(r=_i(t,n=Cs(2),2))&&(Os(n,r,t,e),Pe(r,2),Nc(r));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(wl=!0,o.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pl===e&&(gl&n)===n&&(4===Dl||3===Dl&&(62914560&gl)===gl&&300>ue()-Pl?0===(2&fl)&&tc(e,0):Tl|=n,kl===gl&&(kl=0)),Nc(e)}function Tc(e,t){0===t&&(t=Ce()),null!==(e=Ir(e,t))&&(Pe(e,t),Nc(e))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}var Fc=null,Cc=null,Oc=!1,Pc=!1,Ic=!1,Mc=0;function Nc(e){e!==Cc&&null===e.next&&(null===Cc?Fc=Cc=e:Cc=Cc.next=e),Pc=!0,Oc||(Oc=!0,Ed(function(){0!==(6&fl)?oe(ce,jc):Bc()}))}function Lc(e,t){if(!Ic&&Pc){Ic=!0;do{for(var n=!1,r=Fc;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-_e(42|e)+1)-1,i=201326741&(i&=o&~(a&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Vc(r,i))}else i=gl,0===(3&(i=Ae(r,r===pl?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ke(r,i)||(n=!0,Vc(r,i));r=r.next}}while(n);Ic=!1}}function jc(){Bc()}function Bc(){Pc=Oc=!1;var e=0;0!==Mc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==_d&&(_d=e,!0);return _d=null,!1}()&&(e=Mc);for(var t=ue(),n=null,r=Fc;null!==r;){var o=r.next,i=Rc(r,t);0===i?(r.next=null,null===n?Fc=o:n.next=o,null===o&&(Cc=n)):(n=r,(0!==e||0!==(3&i))&&(Pc=!0)),r=o}0!==jl&&5!==jl||Lc(e,!1),0!==Mc&&(Mc=0)}function Rc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-_e(i),s=1<<a,u=o[a];-1===u?0!==(s&n)&&0===(s&r)||(o[a]=Fe(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}if(n=gl,n=Ae(e,e===(t=pl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yl||9===yl)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),je(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=zc.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function zc(e,t){if(0!==jl&&5!==jl)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=gl;return 0===(r=Ae(e,e===pl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Kl(e,r,t),Rc(e,ue()),null!=e.callbackNode&&e.callbackNode===n?zc.bind(null,e):null)}function Vc(e,t){if(_c())return null;Kl(e,t,!0)}function Uc(){if(0===Mc){var e=Ho;0===e&&(e=De,0===(261888&(De<<=1))&&(De=256)),Mc=e}return Mc}function Gc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ot(""+e)}function Hc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wc=0;Wc<Er.length;Wc++){var qc=Er[Wc];Sr(qc.toLowerCase(),"on"+(qc[0].toUpperCase()+qc.slice(1)))}Sr(gr,"onAnimationEnd"),Sr(yr,"onAnimationIteration"),Sr(br,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(vr,"onTransitionRun"),Sr(_r,"onTransitionStart"),Sr(wr,"onTransitionCancel"),Sr(xr,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xc));function Kc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=l;try{i(o)}catch(c){Tr(c)}o.currentTarget=null,i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=l;try{i(o)}catch(c){Tr(c)}o.currentTarget=null,i=u}}}}function $c(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Qc(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[Zc]){e[Zc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yc.has(t)||Qc(t,!1,e),Qc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zc]||(t[Zc]=!0,Qc("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Th(t)){case 2:var o=_h;break;case 8:o=wh;break;default:o=xh}n=o.bind(null,t,n,e),o=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function td(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==s;){if(null===(a=$e(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Rt(function(){var r=i,o=Mt(n),a=[];e:{var s=Dr.get(e);if(void 0!==s){var l=nn,c=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":l=bn;break;case"focusin":c="focus",l=ln;break;case"focusout":c="blur",l=ln;break;case"beforeblur":case"afterblur":l=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case gr:case yr:case br:l=cn;break;case xr:l=wn;break;case"scroll":case"scrollend":l=on;break;case"wheel":l=xn;break;case"copy":case"cut":case"paste":l=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=vn;break;case"toggle":case"beforetoggle":l=Dn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=zt(m,f))&&d.push(nd(m,g,p)),h)break;m=m.return}0<d.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===It||!(c=n.relatedTarget||n.fromElement)||!$e(c)&&!c[Ge])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?$e(c):null)&&(h=u(c),d=c.tag,c!==h||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=r),l!==c)){if(d=sn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=vn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==l?s:Ze(l),p=null==c?s:Ze(c),(s=new d(g,m+"leave",l,n,o)).target=h,s.relatedTarget=p,g=null,$e(o)===r&&((d=new d(f,m+"enter",c,n,o)).target=p,d.relatedTarget=h,g=d),h=g,l&&c)e:{for(d=od,m=c,p=0,g=f=l;g;g=d(g))p++;g=0;for(var y=m;y;y=d(y))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==l&&id(a,s,l,d,!1),null!==c&&null!==h&&id(a,h,c,d,!0)}if("select"===(l=(s=r?Ze(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var b=Vn;else if(Nn(s))if(Un)b=Qn;else{b=Kn;var v=Yn}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&kt(r.elementType)&&(b=Vn):b=$n;switch(b&&(b=b(e,r))?Ln(a,b,n,o):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&_t(s,"number",s.value)),v=r?Ze(r):window,e){case"focusin":(Nn(v)||"true"===v.contentEditable)&&(ar=v,sr=r,ur=null);break;case"focusout":ur=sr=ar=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(a,n,o);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(a,n,o)}var _;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else In?On(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(kn&&"ko"!==n.locale&&(In||"onCompositionStart"!==w?"onCompositionEnd"===w&&In&&(_=Xt()):(Wt="value"in(Ht=o)?Ht.value:Ht.textContent,In=!0)),0<(v=rd(r,w)).length&&(w=new hn(w,e,null,n,o),a.push({event:w,listeners:v}),_?w.data=_:null!==(_=Pn(n))&&(w.data=_))),(_=An?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!Sn&&On(e,t)?(e=Xt(),qt=Wt=Ht=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=rd(r,"onBeforeInput")).length&&(v=new hn("onBeforeInput","beforeinput",null,n,o),a.push({event:v,listeners:w}),v.data=_)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Gc((o[Ue]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ue]||null)?Gc(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new nn("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Mc){var e=a?Hc(o,a):new FormData(o);ts(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=a?Hc(o,a):new FormData(o),ts(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Kc(a,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=zt(e,n))&&r.unshift(nd(e,o,i)),null!=(o=zt(e,t))&&r.push(nd(e,o,i))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function id(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(s=s.tag,null!==u&&u===r)break;5!==s&&26!==s&&27!==s||null===l||(u=l,o?null!=(l=zt(n,i))&&a.unshift(nd(n,l,u)):o||null!=(l=zt(n,i))&&a.push(nd(n,l,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ad=/\r\n?/g,sd=/\u0000|\uFFFD/g;function ud(e){return("string"===typeof e?e:""+e).replace(ad,"\n").replace(sd,"")}function ld(e,t){return t=ud(t),ud(e)===t}function cd(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":At(e,r,i);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&cd(e,t,"name",o.name,o,null),cd(e,t,"formEncType",o.formEncType,o,null),cd(e,t,"formMethod",o.formMethod,o,null),cd(e,t,"formTarget",o.formTarget,o,null)):(cd(e,t,"encType",o.encType,o,null),cd(e,t,"method",o.method,o,null),cd(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"onScroll":null!=r&&$c("scroll",e);break;case"onScrollEnd":null!=r&&$c("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ot(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$c("beforetoggle",e),$c("toggle",e),ut(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ut(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ut(e,n=Ft.get(n)||n,r)}}function dd(e,t,n,r,o,i){switch(n){case"style":At(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&$c("scroll",e);break;case"onScrollEnd":null!=r&&$c("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Ue]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ut(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$c("error",e),$c("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:cd(e,t,r,s,n,null)}}return i&&cd(e,t,"srcSet",n.srcSet,n,null),void(o&&cd(e,t,"src",n.src,n,null));case"input":$c("invalid",e);var u=r=s=i=null,l=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":s=d;break;case"checked":l=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:cd(e,t,o,d,n,null)}}return void vt(e,r,u,l,c,s,i,!1);case"select":for(i in $c("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(u=n[i]))switch(i){case"value":r=u;break;case"defaultValue":s=u;break;case"multiple":o=u;default:cd(e,t,i,u,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?wt(e,!!o,t,!1):null!=n&&wt(e,!!o,n,!0));case"textarea":for(s in $c("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(u=n[s]))switch(s){case"value":o=u;break;case"defaultValue":i=u;break;case"children":r=u;break;case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(91));break;default:cd(e,t,s,u,n,null)}return void Dt(e,o,i,r);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))if("selected"===l)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else cd(e,t,l,o,n,null);return;case"dialog":$c("beforetoggle",e),$c("toggle",e),$c("cancel",e),$c("close",e);break;case"iframe":case"object":$c("load",e);break;case"video":case"audio":for(o=0;o<Xc.length;o++)$c(Xc[o],e);break;case"image":$c("error",e),$c("load",e);break;case"details":$c("toggle",e);break;case"embed":case"source":case"link":$c("error",e),$c("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:cd(e,t,c,o,n,null)}return;default:if(kt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&dd(e,t,d,o,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(null!=(o=n[u])&&cd(e,t,u,o,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _d=null;var wd="function"===typeof setTimeout?setTimeout:void 0,xd="function"===typeof clearTimeout?clearTimeout:void 0,Dd="function"===typeof Promise?Promise:void 0,Ed="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Dd?function(e){return Dd.resolve(null).then(e).catch(Sd)}:wd;function Sd(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Ad(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Hh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Bd(e.ownerDocument.documentElement);else if("head"===n){Bd(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var a=i.nextSibling,s=i.nodeName;i[Ye]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=a}}else"body"===n&&Bd(e.ownerDocument.body);n=o}while(n);Hh(t)}function kd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Fd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Fd(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Cd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Id(e.nextSibling)))return null}return e}function Od(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Id(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Md=null;function Nd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Id(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function jd(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Bd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var Rd=new Map,zd=new Set;function Vd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ud=N.d;N.d={f:function(){var e=Ud.f(),t=Jl();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):Ud.r(e)},D:function(e){Ud.D(e),Hd("dns-prefetch",e,null)},C:function(e,t){Ud.C(e,t),Hd("preconnect",e,t)},L:function(e,t,n){Ud.L(e,t,n);var r=Gd;if(r&&e&&t){var o='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+yt(n.imageSizes)+'"]')):o+='[href="'+yt(e)+'"]';var i=o;switch(t){case"style":i=qd(e);break;case"script":i=Kd(e)}Rd.has(i)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Rd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Xd(i))||"script"===t&&r.querySelector($d(i))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Ud.m(e,t);var n=Gd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Kd(e)}if(!Rd.has(i)&&(e=f({rel:"modulepreload",href:e},t),Rd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($d(i)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Ud.X(e,t);var n=Gd;if(n&&e){var r=Je(n).hoistableScripts,o=Kd(e),i=r.get(o);i||((i=n.querySelector($d(o)))||(e=f({src:e,async:!0},t),(t=Rd.get(o))&&eh(e,t),et(i=n.createElement("script")),hd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Ud.S(e,t,n);var r=Gd;if(r&&e){var o=Je(r).hoistableStyles,i=qd(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Xd(i)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Rd.get(i))&&Jd(e,n);var u=a=r.createElement("link");et(u),hd(u,"link",e),u._p=new Promise(function(e,t){u.onload=e,u.onerror=t}),u.addEventListener("load",function(){s.loading|=1}),u.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Zd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){Ud.M(e,t);var n=Gd;if(n&&e){var r=Je(n).hoistableScripts,o=Kd(e),i=r.get(o);i||((i=n.querySelector($d(o)))||(e=f({src:e,async:!0,type:"module"},t),(t=Rd.get(o))&&eh(e,t),et(i=n.createElement("script")),hd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Gd="undefined"===typeof document?null:document;function Hd(e,t,n){var r=Gd;if(r&&"string"===typeof t&&t){var o=yt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),zd.has(o)||(zd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Wd(e,t,n,r){var o,i,s,u,l=(l=q.current)?Vd(l):null;if(!l)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=qd(n.href),(r=(n=Je(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=qd(n.href);var c=Je(l).hoistableStyles,d=c.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=l.querySelector(Xd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Rd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Rd.set(e,n),c||(o=l,i=e,s=n,u=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=o.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),hd(i,"link",s),et(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Kd(n),(r=(n=Je(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qd(e){return'href="'+yt(e)+'"'}function Xd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Kd(e){return'[src="'+yt(e)+'"]'}function $d(e){return"script[async]"+e}function Qd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var o=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",o),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":o=qd(n.href);var i=e.querySelector(Xd(o));if(i)return t.state.loading|=4,t.instance=i,et(i),i;r=Yd(n),(o=Rd.get(o))&&Jd(r,o),et(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(i,"link",r),t.state.loading|=4,Zd(i,n.precedence,e),t.instance=i;case"script":return i=Kd(n.src),(o=e.querySelector($d(i)))?(t.instance=o,et(o),o):(r=n,(o=Rd.get(i))&&eh(r=f({},n),o),et(o=(e=e.ownerDocument||e).createElement("script")),hd(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,o=th=new Map;o.set(n,r)}else(r=(o=th).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Ye]||i[Ve]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function oh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ih=0;function ah(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sh=null;function uh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sh=new Map,t.forEach(lh,e),sh=null,ah.call(e))}function lh(e,t){if(!(4&t.state.loading)){var n=sh.get(e);if(n)var r=n.get(null);else{n=new Map,sh.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=ah.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var ch={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function dh(e,t,n,r,o,i,a,s,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function hh(e,t,n,r,o,i,a,s,u,l,c,d){return e=new dh(e,t,n,a,u,l,c,d,s),t=1,!0===i&&(t|=24),i=Br(3,null,null,t),e.current=i,i.stateNode=e,(t=zo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},yi(i),e}function fh(e){return e?e=Lr:Lr}function ph(e,t,n,r,o,i){o=fh(o),null===r.context?r.context=o:r.pendingContext=o,(r=vi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=_i(e,r,t))&&(Yl(n,0,t),wi(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Ir(e,67108864);null!==t&&Yl(t,0,67108864),gh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=ql(),n=Ir(e,t=Le(t));null!==n&&Yl(n,0,t),gh(e,t)}}var vh=!0;function _h(e,t,n,r){var o=M.T;M.T=null;var i=N.p;try{N.p=2,xh(e,t,n,r)}finally{N.p=i,M.T=o}}function wh(e,t,n,r){var o=M.T;M.T=null;var i=N.p;try{N.p=8,xh(e,t,n,r)}finally{N.p=i,M.T=o}}function xh(e,t,n,r){if(vh){var o=Dh(r);if(null===o)td(e,t,r,Eh,n),Nh(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return kh=Lh(kh,e,t,n,r,o),!0;case"dragenter":return Fh=Lh(Fh,e,t,n,r,o),!0;case"mouseover":return Ch=Lh(Ch,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Oh.set(i,Lh(Oh.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ph.set(i,Lh(Ph.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Nh(e,r),4&t&&-1<Mh.indexOf(e)){for(;null!==o;){var i=Qe(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=Te(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var u=1<<31-_e(a);s.entanglements[1]|=u,a&=~u}Nc(i),0===(6&fl)&&(Ml=ue()+500,Lc(0,!1))}}break;case 31:case 13:null!==(s=Ir(i,2))&&Yl(s,0,2),Jl(),gh(i,2)}if(null===(i=Dh(r))&&td(e,t,r,Eh,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else td(e,t,r,null,n)}}function Dh(e){return Sh(e=Mt(e))}var Eh=null;function Sh(e){if(Eh=null,null!==(e=$e(e))){var t=u(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ce:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ah=!1,kh=null,Fh=null,Ch=null,Oh=new Map,Ph=new Map,Ih=[],Mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nh(e,t){switch(e){case"focusin":case"focusout":kh=null;break;case"dragenter":case"dragleave":Fh=null;break;case"mouseover":case"mouseout":Ch=null;break;case"pointerover":case"pointerout":Oh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function Lh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Qe(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function jh(e){var t=$e(e.target);if(null!==t){var n=u(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Re(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Re(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dh(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function Rh(e,t,n){Bh(e)&&n.delete(t)}function zh(){Ah=!1,null!==kh&&Bh(kh)&&(kh=null),null!==Fh&&Bh(Fh)&&(Fh=null),null!==Ch&&Bh(Ch)&&(Ch=null),Oh.forEach(Rh),Ph.forEach(Rh)}function Vh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ah||(Ah=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zh)))}var Uh=null;function Gh(e){Uh!==e&&(Uh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uh===e&&(Uh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Sh(r||n))continue;break}var i=Qe(n);null!==i&&(e.splice(t,3),t-=3,ts(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Hh(e){function t(t){return Vh(t,e)}null!==kh&&Vh(kh,e),null!==Fh&&Vh(Fh,e),null!==Ch&&Vh(Ch,e),Oh.forEach(t),Ph.forEach(t);for(var n=0;n<Ih.length;n++){var r=Ih[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ih.length&&null===(n=Ih[0]).blockedOn;)jh(n),null===n.blockedOn&&Ih.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[Ue]||null;if("function"===typeof i)a||Gh(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[Ue]||null)s=a.formAction;else if(null!==Sh(o))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Gh(n)}}}function Wh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function qh(e){this._internalRoot=e}function Xh(e){this._internalRoot=e}Xh.prototype.render=qh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ph(t.current,ql(),e,t,null,null)},Xh.prototype.unmount=qh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Jl(),t[Ge]=null}},Xh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Be();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ih.length&&0!==t&&t<Ih[n].priority;n++);Ih.splice(n,0,e),0===n&&jh(e)}};var Yh=o.version;if("19.2.3"!==Yh)throw Error(a(527,Yh,"19.2.3"));N.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=u(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return d(o),e;if(i===r)return d(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Kh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{ye=$h.inject(Kh),be=$h}catch(Zh){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=Es,i=Ss,u=Ts;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(u=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,o,i,u,Wh),e[Ge]=t.current,Jc(e),new qh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=Es,u=Ss,l=Ts,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(u=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=hh(e,1,!0,t,0,r,o,c,i,u,l,Wh)).context=fh(null),n=t.current,(o=vi(r=Le(r=ql()))).callback=null,_i(n,o,r),n=r,t.current.lanes=n,Pe(t,n),Nc(t),e[Ge]=t.current,Jc(e),new Xh(t)},t.version="19.2.3"},9(){},43(e,t,n){"use strict";e.exports=n(288)},52(){},143(){},288(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var w=_.prototype=new v;w.constructor=_,g(w,b.prototype),w.isPureReactComponent=!0;var x=Array.isArray;function D(){}var E={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function T(e,t,r){var o=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:r}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function F(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u,l,c=!1;if(null===e)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case h:return C((c=e._init)(e._payload),t,o,i,a)}}if(c)return a=a(e),c=""===i?"."+F(e,0):i,x(a)?(o="",null!=c&&(o=c.replace(k,"$&/")+"/"),C(a,t,o,"",function(e){return e})):null!=a&&(A(a)&&(u=a,l=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+c,a=T(u.type,l,u.props)),t.push(a)),1;c=0;var d,f=""===i?".":i+":";if(x(e))for(var m=0;m<e.length;m++)c+=C(i=e[m],t,o,s=f+F(i,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)c+=C(i=i.value,t,o,s=f+F(i,m++),a);else if("object"===s){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(D,D):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function O(e,t,n){if(null==e)return e;var r=[],o=0;return C(e,r,"","",function(e){return t.call(n,e,o++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},M={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=M,t.Component=b,t.Fragment=o,t.Profiler=a,t.PureComponent=_,t.StrictMode=i,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return T(e.type,o,r)},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),u=0;u<a;u++)s[u]=arguments[u+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return T(e,i,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),o=E.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,I)}catch(i){I(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.3"},373(module,__unused_webpack_exports,__webpack_require__){var e;self,e=__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(e,t,n)=>{var r,o=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return P.buffer!=M&&q(P.buffer),N}function o(){return P.buffer!=M&&q(P.buffer),L}function i(){return P.buffer!=M&&q(P.buffer),j}function a(){return P.buffer!=M&&q(P.buffer),B}function s(){return P.buffer!=M&&q(P.buffer),R}var u,l,c;e=e||{},u||(u=void 0!==e?e:{}),u.ready=new Promise(function(e,t){l=e,c=t});var d,h,f,p,m,g,y=Object.assign({},u),b="./this.program",v=(e,t)=>{throw t},_="object"==typeof window,w="function"==typeof importScripts,x="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,D=u.ENVIRONMENT_IS_PTHREAD||!1,E="";function S(e){return u.locateFile?u.locateFile(e,E):E+e}if(x){let t;E=w?n(908).dirname(E)+"/":"//",g=()=>{m||(p=n(1384),m=n(908))},d=function(e,t){return g(),e=m.normalize(e),p.readFileSync(e,t?void 0:"utf8")},f=e=>((e=d(e,!0)).buffer||(e=new Uint8Array(e)),e),h=(e,t,n)=>{g(),e=m.normalize(e),p.readFile(e,function(e,r){e?n(e):t(r.buffer)})},1<process.argv.length&&(b=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof le))throw e}),process.on("unhandledRejection",function(e){throw e}),v=(e,t)=>{if(J())throw process.exitCode=e,t;t instanceof le||C("exiting due to exception: "+t),process.exit(e)},u.inspect=function(){return"[Emscripten Module object]"};try{t=n(9925)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}n.g.Worker=t.Worker}else(_||w)&&(w?E=self.location.href:"undefined"!=typeof document&&document.currentScript&&(E=document.currentScript.src),r&&(E=r),E=0!==E.indexOf("blob:")?E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):"",x||(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),h=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));x&&"undefined"==typeof performance&&(n.g.performance=n(6953).performance);var T=console.log.bind(console),A=console.warn.bind(console);x&&(g(),T=e=>p.writeSync(1,e+"\n"),A=e=>p.writeSync(2,e+"\n"));var k,F=u.print||T,C=u.printErr||A;Object.assign(u,y),y=null,u.thisProgram&&(b=u.thisProgram),u.quit&&(v=u.quit),u.wasmBinary&&(k=u.wasmBinary);var O=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&ie("no native wasm support detected");var P,I,M,N,L,j,B,R,z=!1,V="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function U(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&V)return V.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var o=e[t++];if(128&o){var i=63&e[t++];if(192==(224&o))r+=String.fromCharCode((31&o)<<6|i);else{var a=63&e[t++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&e[t++])?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else r+=String.fromCharCode(o)}return r}function G(e,t){return(e>>>=0)?U(o(),e,t):""}function H(e,t,n,r){if(!(0<r))return 0;var o=n>>>=0;r=n+r-1;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),127>=a){if(n>=r)break;t[n++>>>0]=a}else{if(2047>=a){if(n+1>=r)break;t[n++>>>0]=192|a>>6}else{if(65535>=a){if(n+2>=r)break;t[n++>>>0]=224|a>>12}else{if(n+3>=r)break;t[n++>>>0]=240|a>>18,t[n++>>>0]=128|a>>12&63}t[n++>>>0]=128|a>>6&63}t[n++>>>0]=128|63&a}}return t[n>>>0]=0,n-o}function W(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function q(e){M=e,u.HEAP8=N=new Int8Array(e),u.HEAP16=new Int16Array(e),u.HEAP32=j=new Int32Array(e),u.HEAPU8=L=new Uint8Array(e),u.HEAPU16=new Uint16Array(e),u.HEAPU32=B=new Uint32Array(e),u.HEAPF32=new Float32Array(e),u.HEAPF64=R=new Float64Array(e)}D&&(M=u.buffer);var X=u.INITIAL_MEMORY||16777216;if(D)P=u.wasmMemory,M=u.buffer;else if(u.wasmMemory)P=u.wasmMemory;else if(!((P=new WebAssembly.Memory({initial:X/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw C("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),x&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");P&&(M=P.buffer),X=M.byteLength,q(M);var Y,K=[],$=[],Q=[],Z=[];function J(){return O||!1}function ee(){var e=u.preRun.shift();K.unshift(e)}var te,ne=0,re=null,oe=null;function ie(e){throw D?postMessage({cmd:"onAbort",arg:e}):u.onAbort&&u.onAbort(e),C(e="Aborted("+e+")"),z=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function ae(){return te.startsWith("data:application/octet-stream;base64,")}function se(){var e=te;try{if(e==te&&k)return new Uint8Array(k);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(e){ie(e)}}te="ort-wasm-threaded.wasm",ae()||(te=S(te));var ue={};function le(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ce(e){(e=pe.Vb[e])||ie(),pe.mc(e)}function de(e){var t=pe.Cc();if(!t)return 6;pe.ac.push(t),pe.Vb[e.Ub]=t,t.Ub=e.Ub;var n={cmd:"run",start_routine:e.Ic,arg:e.zc,pthread_ptr:e.Ub};return t.$b=()=>{n.time=performance.now(),t.postMessage(n,e.Nc)},t.loaded&&(t.$b(),delete t.$b),0}function he(e){if(D)return Xe(1,1,e);J()||(pe.oc(),u.onExit&&u.onExit(e),z=!0),v(e,new le(e))}function fe(e,t){if(!t&&D)throw ge(e),"unwind";J()||D||(yt(),me(Q),gt(0),rt[1].length&&ot(1,10),rt[2].length&&ot(2,10),pe.oc()),he(e)}var pe={Yb:[],ac:[],qc:[],Vb:{},fc:function(){D&&pe.Ec()},Pc:function(){},Ec:function(){pe.receiveObjectTransfer=pe.Gc,pe.threadInitTLS=pe.pc,pe.setExitStatus=pe.nc,O=!1},nc:function(){},oc:function(){for(var e of Object.values(pe.Vb))pe.mc(e);for(e of pe.Yb)e.terminate();pe.Yb=[]},mc:function(e){var t=e.Ub;delete pe.Vb[t],pe.Yb.push(e),pe.ac.splice(pe.ac.indexOf(e),1),e.Ub=0,xt(t)},Gc:function(){},pc:function(){pe.qc.forEach(e=>e())},Fc:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ub&&(pe.Bc=e.Ub),n.targetThread&&n.targetThread!=ft()){var o=pe.Vb[n.Qc];o?o.postMessage(n,n.transferList):C('Internal error! Worker sent a message "'+r+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?Ve(n.queue):"spawnThread"===r?de(n):"cleanupThread"===r?ce(n.thread):"killThread"===r?(n=n.thread,r=pe.Vb[n],delete pe.Vb[n],r.terminate(),xt(n),pe.ac.splice(pe.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?pe.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.$b&&(e.$b(),delete e.$b)):"print"===r?F("Thread "+n.threadId+": "+n.text):"printErr"===r?C("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&C("worker sent an unknown command "+r);pe.Bc=void 0},e.onerror=e=>{throw C("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},x&&(e.on("message",function(t){e.onmessage({data:t})}),e.on("error",function(t){e.onerror(t)}),e.on("detachedExit",function(){})),e.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||r,wasmMemory:P,wasmModule:I})},yc:function(){var e=S("ort-wasm-threaded.worker.js");pe.Yb.push(new Worker(e))},Cc:function(){return 0==pe.Yb.length&&(pe.yc(),pe.Fc(pe.Yb[0])),pe.Yb.pop()}};function me(e){for(;0<e.length;)e.shift()(u)}function ge(e){if(D)return Xe(2,0,e);try{fe(e)}catch(e){e instanceof le||"unwind"==e||v(1,e)}}u.PThread=pe,u.establishStackSpace=function(){var e=ft(),t=i()[e+44>>2>>>0];e=i()[e+48>>2>>>0],St(t,t-e),At(t)};var ye=[];function be(e){var t=ye[e];return t||(e>=ye.length&&(ye.length=e+1),ye[e]=t=Y.get(e)),t}u.invokeEntryPoint=function(e,t){e=be(e)(t),J()?pe.nc(e):Dt(e)};var ve,_e,we=[],xe=0,De=0;function Ee(e){this.Zb=e,this.Sb=e-24,this.xc=function(e){a()[this.Sb+4>>2>>>0]=e},this.bc=function(){return a()[this.Sb+4>>2>>>0]},this.wc=function(e){a()[this.Sb+8>>2>>>0]=e},this.Dc=function(){return a()[this.Sb+8>>2>>>0]},this.rc=function(){i()[this.Sb>>2>>>0]=0},this.hc=function(e){e=e?1:0,t()[(this.Sb+12|0)>>>0]=e},this.uc=function(){return 0!=t()[(this.Sb+12|0)>>>0]},this.ic=function(e){e=e?1:0,t()[(this.Sb+13|0)>>>0]=e},this.kc=function(){return 0!=t()[(this.Sb+13|0)>>>0]},this.fc=function(e,t){this.cc(0),this.xc(e),this.wc(t),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(i(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(i(),this.Sb>>2,1)},this.cc=function(e){a()[this.Sb+16>>2>>>0]=e},this.tc=function(){return a()[this.Sb+16>>2>>>0]},this.vc=function(){if(Ct(this.bc()))return a()[this.Zb>>2>>>0];var e=this.tc();return 0!==e?e:this.Zb}}function Se(e){return mt(new Ee(e).Sb)}function Te(e,t,n,r){return D?Xe(3,1,e,t,n,r):Ae(e,t,n,r)}function Ae(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return C("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var o=[];return D&&0===o.length?Te(e,t,n,r):(e={Ic:n,Ub:e,zc:r,Nc:o},D?(e.Oc="spawnThread",postMessage(e,o),0):de(e))}function ke(e,t,n){return D?Xe(4,1,e,t,n):0}function Fe(e,t){if(D)return Xe(5,1,e,t)}function Ce(e,t){if(D)return Xe(6,1,e,t)}function Oe(e,t,n){if(D)return Xe(7,1,e,t,n)}function Pe(e,t,n){return D?Xe(8,1,e,t,n):0}function Ie(e,t){if(D)return Xe(9,1,e,t)}function Me(e,t,n){if(D)return Xe(10,1,e,t,n)}function Ne(e,t,n,r){if(D)return Xe(11,1,e,t,n,r)}function Le(e,t,n,r){if(D)return Xe(12,1,e,t,n,r)}function je(e,t,n,r){if(D)return Xe(13,1,e,t,n,r)}function Be(e){if(D)return Xe(14,1,e)}function Re(e,t){if(D)return Xe(15,1,e,t)}function ze(e,t,n){if(D)return Xe(16,1,e,t,n)}function Ve(e){Atomics.store(i(),e>>2,1),ft()&&wt(e),Atomics.compareExchange(i(),e>>2,1,0)}function Ue(e){return a()[e>>>2]+4294967296*i()[e+4>>>2]}function Ge(e,t,n,r,o,i){return D?Xe(17,1,e,t,n,r,o,i):-52}function He(e,t,n,r,o,i){if(D)return Xe(18,1,e,t,n,r,o,i)}function We(e){var n=W(e)+1,r=pt(n);return r&&H(e,t(),r,n),r}function qe(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(D)return Xe(19,1,e,t,n);var o=(new Date).getFullYear(),s=new Date(o,0,1),u=new Date(o,6,1);o=s.getTimezoneOffset();var l=u.getTimezoneOffset(),c=Math.max(o,l);i()[e>>2>>>0]=60*c,i()[t>>2>>>0]=Number(o!=l),e=r(s),t=r(u),e=We(e),t=We(t),l<o?(a()[n>>2>>>0]=e,a()[n+4>>2>>>0]=t):(a()[n>>2>>>0]=t,a()[n+4>>2>>>0]=e)}function Xe(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=Tt();return e=e(),At(t),e}(()=>{for(var o=kt(8*n),i=o>>3,a=0;a<n;a++){var u=r[2+a];s()[i+a>>>0]=u}return _t(e,n,o,t)})}u.executeNotifiedProxyingQueue=Ve,_e=x?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:D?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var Ye,Ke=[],$e={};function Qe(){if(!Ye){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"};for(e in $e)void 0===$e[e]?delete t[e]:t[e]=$e[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ye=n}return Ye}function Ze(e,n){if(D)return Xe(20,1,e,n);var r=0;return Qe().forEach(function(o,i){var s=n+r;for(i=a()[e+4*i>>2>>>0]=s,s=0;s<o.length;++s)t()[(0|i++)>>>0]=o.charCodeAt(s);t()[(0|i)>>>0]=0,r+=o.length+1}),0}function Je(e,t){if(D)return Xe(21,1,e,t);var n=Qe();a()[e>>2>>>0]=n.length;var r=0;return n.forEach(function(e){r+=e.length+1}),a()[t>>2>>>0]=r,0}function et(e){return D?Xe(22,1,e):52}function tt(e,t,n,r){return D?Xe(23,1,e,t,n,r):52}function nt(e,t,n,r,o){return D?Xe(24,1,e,t,n,r,o):70}var rt=[null,[],[]];function ot(e,t){var n=rt[e];0===t||10===t?((1===e?F:C)(U(n,0)),n.length=0):n.push(t)}function it(e,t,n,r){if(D)return Xe(25,1,e,t,n,r);for(var i=0,s=0;s<n;s++){var u=a()[t>>2>>>0],l=a()[t+4>>2>>>0];t+=8;for(var c=0;c<l;c++)ot(e,o()[u+c>>>0]);i+=l}return a()[r>>2>>>0]=i,0}var at=0;function st(e){return 0==e%4&&(0!=e%100||0==e%400)}var ut=[31,29,31,30,31,30,31,31,30,31,30,31],lt=[31,28,31,30,31,30,31,31,30,31,30,31];function ct(e,n,r,o){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return a(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function l(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Wb;for(e=new Date(new Date(e.Xb+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(st(e.getFullYear())?ut:lt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=l(new Date(e.getFullYear(),0,4)),n=l(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var d=i()[o+40>>2>>>0];for(var h in o={Lc:i()[o>>2>>>0],Kc:i()[o+4>>2>>>0],dc:i()[o+8>>2>>>0],jc:i()[o+12>>2>>>0],ec:i()[o+16>>2>>>0],Xb:i()[o+20>>2>>>0],Tb:i()[o+24>>2>>>0],Wb:i()[o+28>>2>>>0],Rc:i()[o+32>>2>>>0],Jc:i()[o+36>>2>>>0],Mc:d?G(d):""},r=G(r),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(h,"g"),d[h]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(h in d={"%a":function(e){return f[e.Tb].substring(0,3)},"%A":function(e){return f[e.Tb]},"%b":function(e){return p[e.ec].substring(0,3)},"%B":function(e){return p[e.ec]},"%C":function(e){return s((e.Xb+1900)/100|0,2)},"%d":function(e){return s(e.jc,2)},"%e":function(e){return a(e.jc,2," ")},"%g":function(e){return c(e).toString().substring(2)},"%G":function(e){return c(e)},"%H":function(e){return s(e.dc,2)},"%I":function(e){return 0==(e=e.dc)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ec-1;t+=(st(e.Xb+1900)?ut:lt)[n++]);return s(e.jc+t,3)},"%m":function(e){return s(e.ec+1,2)},"%M":function(e){return s(e.Kc,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.dc&&12>e.dc?"AM":"PM"},"%S":function(e){return s(e.Lc,2)},"%t":function(){return"\t"},"%u":function(e){return e.Tb||7},"%U":function(e){return s(Math.floor((e.Wb+7-e.Tb)/7),2)},"%V":function(e){var t=Math.floor((e.Wb+7-(e.Tb+6)%7)/7);if(2>=(e.Tb+371-e.Wb-2)%7&&t++,t)53==t&&(4==(n=(e.Tb+371-e.Wb)%7)||3==n&&st(e.Xb)||(t=1));else{t=52;var n=(e.Tb+7-e.Wb-1)%7;(4==n||5==n&&st(e.Xb%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Tb},"%W":function(e){return s(Math.floor((e.Wb+7-(e.Tb+6)%7)/7),2)},"%y":function(e){return(e.Xb+1900).toString().substring(2)},"%Y":function(e){return e.Xb+1900},"%z":function(e){var t=0<=(e=e.Jc);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\0\0"),d)r.includes(h)&&(r=r.replace(new RegExp(h,"g"),d[h](o)));return h=function(e){var t=Array(W(e)+1);return H(e,t,0,t.length),t}(r=r.replace(/\0\0/g,"%")),h.length>n?0:(function(e,n){t().set(e,n>>>0)}(h,e),h.length-1)}pe.fc();var dt=[null,he,ge,Te,ke,Fe,Ce,Oe,Pe,Ie,Me,Ne,Le,je,Be,Re,ze,Ge,He,qe,Ze,Je,et,tt,nt,it],ht={b:function(e){return pt(e+24)+24},n:function(e){return(e=new Ee(e)).uc()||(e.hc(!0),xe--),e.ic(!1),we.push(e),e.sc(),e.vc()},ma:function(e){throw C("Unexpected exception thrown, this is not properly supported - aborting"),z=!0,e},x:function(){Et(0);var e=we.pop();if(e.Hc()&&!e.kc()){var t=e.Dc();t&&be(t)(e.Zb),Se(e.Zb)}De=0},e:function(){var e=De;if(!e)return at=0;var t=new Ee(e);t.cc(e);var n=t.bc();if(!n)return at=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Ft(i,n,t.Sb+16))return at=i,e}return at=n,e},l:function(){var e=De;if(!e)return at=0;var t=new Ee(e);t.cc(e);var n=t.bc();if(!n)return at=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Ft(i,n,t.Sb+16))return at=i,e}return at=n,e},h:function(){var e=De;if(!e)return at=0;var t=new Ee(e);t.cc(e);var n=t.bc();if(!n)return at=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Ft(i,n,t.Sb+16))return at=i,e}return at=n,e},t:Se,M:function(){var e=we.pop();e||ie("no exception to throw");var t=e.Zb;throw e.kc()||(we.push(e),e.ic(!0),e.hc(!1),xe++),De=t,t},c:function(e,t,n){throw new Ee(e).fc(t,n),De=e,xe++,e},pa:function(){return xe},Fa:function(e){bt(e,!w,1,!_),pe.pc()},T:function(e){D?postMessage({cmd:"cleanupThread",thread:e}):ce(e)},xa:Ae,j:function(e){throw De||(De=e),e},H:ke,Ma:Fe,ua:Ce,wa:Oe,oa:Pe,Ka:Ie,Ca:Me,Ja:Ne,V:Le,va:je,sa:Be,La:Re,ta:ze,Ta:function(){},X:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(e,t,n,r){if(e==t)setTimeout(()=>Ve(r));else if(D)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=pe.Vb[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(e,t){e=new Date(1e3*Ue(e)),i()[t>>2>>>0]=e.getUTCSeconds(),i()[t+4>>2>>>0]=e.getUTCMinutes(),i()[t+8>>2>>>0]=e.getUTCHours(),i()[t+12>>2>>>0]=e.getUTCDate(),i()[t+16>>2>>>0]=e.getUTCMonth(),i()[t+20>>2>>>0]=e.getUTCFullYear()-1900,i()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,i()[t+28>>2>>>0]=e},Qa:function(e,t){e=new Date(1e3*Ue(e)),i()[t>>2>>>0]=e.getSeconds(),i()[t+4>>2>>>0]=e.getMinutes(),i()[t+8>>2>>>0]=e.getHours(),i()[t+12>>2>>>0]=e.getDate(),i()[t+16>>2>>>0]=e.getMonth(),i()[t+20>>2>>>0]=e.getFullYear()-1900,i()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;i()[t+28>>2>>>0]=r,i()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),i()[t+32>>2>>>0]=e},Ra:function(e){var t=new Date(i()[e+20>>2>>>0]+1900,i()[e+16>>2>>>0],i()[e+12>>2>>>0],i()[e+8>>2>>>0],i()[e+4>>2>>>0],i()[e>>2>>>0],0),n=i()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),u=Math.min(s,a);return 0>n?i()[e+32>>2>>>0]=Number(a!=s&&u==r):0<n!=(u==r)&&(a=Math.max(s,a),t.setTime(t.getTime()+6e4*((0<n?u:a)-r))),i()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,i()[e+28>>2>>>0]=n,i()[e>>2>>>0]=t.getSeconds(),i()[e+4>>2>>>0]=t.getMinutes(),i()[e+8>>2>>>0]=t.getHours(),i()[e+12>>2>>>0]=t.getDate(),i()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},Aa:Ge,Ba:He,Sa:function e(t,n,r){e.Ac||(e.Ac=!0,qe(t,n,r))},y:function(){ie("")},U:function(){if(!x&&!w){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";ve||(ve={}),ve[e]||(ve[e]=1,x&&(e="warning: "+e),C(e))}},ra:function(){return 4294901760},B:_e,Ia:function(e,t,n){o().copyWithin(e>>>0,t>>>0,t+n>>>0)},F:function(){return x?n(3993).cpus().length:navigator.hardwareConcurrency},Da:function(e,t,n){Ke.length=t,n>>=3;for(var r=0;r<t;r++)Ke[r]=s()[n+r>>>0];return(0>e?ue[-e-1]:dt[e]).apply(null,Ke)},qa:function(e){var t=o().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math;r=Math.max(e,r),i=i.min.call(i,4294901760,r+(65536-r%65536)%65536);e:{try{P.grow(i-M.byteLength+65535>>>16),q(P.buffer);var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},Na:function(){throw"unwind"},Ga:Ze,Ha:Je,J:fe,I:et,S:tt,ga:nt,R:it,d:function(){return at},na:function e(r,o){e.lc||(e.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(x)try{var t=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()));return()=>t.randomBytes(1)[0]}catch(e){}return()=>ie("randomDevice")}());for(var i=0;i<o;i++)t()[(r+i|0)>>>0]=e.lc();return 0},ia:function(e,t,n){var r=Tt();try{return be(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;Et(1,0)}},ja:function(e,t,n){var r=Tt();try{return be(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;Et(1,0)}},K:function(e){var t=Tt();try{return be(e)()}catch(e){if(At(t),e!==e+0)throw e;Et(1,0)}},f:function(e,t){var n=Tt();try{return be(e)(t)}catch(e){if(At(n),e!==e+0)throw e;Et(1,0)}},P:function(e,t,n){var r=Tt();try{return be(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;Et(1,0)}},Q:function(e,t,n){var r=Tt();try{return be(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;Et(1,0)}},k:function(e,t,n){var r=Tt();try{return be(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;Et(1,0)}},p:function(e,t,n,r){var o=Tt();try{return be(e)(t,n,r)}catch(e){if(At(o),e!==e+0)throw e;Et(1,0)}},q:function(e,t,n,r,o){var i=Tt();try{return be(e)(t,n,r,o)}catch(e){if(At(i),e!==e+0)throw e;Et(1,0)}},N:function(e,t,n,r,o,i){var a=Tt();try{return be(e)(t,n,r,o,i)}catch(e){if(At(a),e!==e+0)throw e;Et(1,0)}},s:function(e,t,n,r,o,i){var a=Tt();try{return be(e)(t,n,r,o,i)}catch(e){if(At(a),e!==e+0)throw e;Et(1,0)}},w:function(e,t,n,r,o,i,a){var s=Tt();try{return be(e)(t,n,r,o,i,a)}catch(e){if(At(s),e!==e+0)throw e;Et(1,0)}},L:function(e,t,n,r,o,i,a,s){var u=Tt();try{return be(e)(t,n,r,o,i,a,s)}catch(e){if(At(u),e!==e+0)throw e;Et(1,0)}},E:function(e,t,n,r,o,i,a,s,u,l,c,d){var h=Tt();try{return be(e)(t,n,r,o,i,a,s,u,l,c,d)}catch(e){if(At(h),e!==e+0)throw e;Et(1,0)}},aa:function(e,t,n,r,o,i,a,s){var u=Tt();try{return Rt(e,t,n,r,o,i,a,s)}catch(e){if(At(u),e!==e+0)throw e;Et(1,0)}},_:function(e,t,n,r,o,i,a){var s=Tt();try{return Pt(e,t,n,r,o,i,a)}catch(e){if(At(s),e!==e+0)throw e;Et(1,0)}},Z:function(e,t,n,r,o){var i=Tt();try{return zt(e,t,n,r,o)}catch(e){if(At(i),e!==e+0)throw e;Et(1,0)}},ca:function(e,t,n,r){var o=Tt();try{return jt(e,t,n,r)}catch(e){if(At(o),e!==e+0)throw e;Et(1,0)}},$:function(e){var t=Tt();try{return Ot(e)}catch(e){if(At(t),e!==e+0)throw e;Et(1,0)}},ba:function(e,t){var n=Tt();try{return Bt(e,t)}catch(e){if(At(n),e!==e+0)throw e;Et(1,0)}},Y:function(e,t,n){var r=Tt();try{return It(e,t,n)}catch(e){if(At(r),e!==e+0)throw e;Et(1,0)}},g:function(e){var t=Tt();try{be(e)()}catch(e){if(At(t),e!==e+0)throw e;Et(1,0)}},r:function(e,t){var n=Tt();try{be(e)(t)}catch(e){if(At(n),e!==e+0)throw e;Et(1,0)}},i:function(e,t,n){var r=Tt();try{be(e)(t,n)}catch(e){if(At(r),e!==e+0)throw e;Et(1,0)}},ha:function(e,t,n,r){var o=Tt();try{be(e)(t,n,r)}catch(e){if(At(o),e!==e+0)throw e;Et(1,0)}},m:function(e,t,n,r){var o=Tt();try{be(e)(t,n,r)}catch(e){if(At(o),e!==e+0)throw e;Et(1,0)}},v:function(e,t,n,r,o){var i=Tt();try{be(e)(t,n,r,o)}catch(e){if(At(i),e!==e+0)throw e;Et(1,0)}},u:function(e,t,n,r,o,i){var a=Tt();try{be(e)(t,n,r,o,i)}catch(e){if(At(a),e!==e+0)throw e;Et(1,0)}},O:function(e,t,n,r,o,i,a){var s=Tt();try{be(e)(t,n,r,o,i,a)}catch(e){if(At(s),e!==e+0)throw e;Et(1,0)}},A:function(e,t,n,r,o,i,a,s){var u=Tt();try{be(e)(t,n,r,o,i,a,s)}catch(e){if(At(u),e!==e+0)throw e;Et(1,0)}},ka:function(e,t,n,r,o,i,a,s,u){var l=Tt();try{be(e)(t,n,r,o,i,a,s,u)}catch(e){if(At(l),e!==e+0)throw e;Et(1,0)}},C:function(e,t,n,r,o,i,a,s,u,l,c){var d=Tt();try{be(e)(t,n,r,o,i,a,s,u,l,c)}catch(e){if(At(d),e!==e+0)throw e;Et(1,0)}},D:function(e,t,n,r,o,i,a,s,u,l,c,d,h,f,p,m){var g=Tt();try{be(e)(t,n,r,o,i,a,s,u,l,c,d,h,f,p,m)}catch(e){if(At(g),e!==e+0)throw e;Et(1,0)}},fa:function(e,t,n,r,o,i,a,s){var u=Tt();try{Mt(e,t,n,r,o,i,a,s)}catch(e){if(At(u),e!==e+0)throw e;Et(1,0)}},da:function(e,t,n,r,o,i,a,s,u,l,c,d){var h=Tt();try{Lt(e,t,n,r,o,i,a,s,u,l,c,d)}catch(e){if(At(h),e!==e+0)throw e;Et(1,0)}},ea:function(e,t,n,r,o,i){var a=Tt();try{Nt(e,t,n,r,o,i)}catch(e){if(At(a),e!==e+0)throw e;Et(1,0)}},o:function(e){return e},a:P||u.wasmMemory,G:function(e){at=e},la:ct,z:function(e,t,n,r){return ct(e,t,n,r)}};!function(){function e(e,t){u.asm=e.exports,pe.qc.push(u.asm.sb),Y=u.asm.ub,$.unshift(u.asm.Va),I=t,D||(ne--,u.monitorRunDependencies&&u.monitorRunDependencies(ne),0==ne&&(null!==re&&(clearInterval(re),re=null),oe&&(e=oe,oe=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!k&&(_||w)){if("function"==typeof fetch&&!te.startsWith("file://"))return fetch(te,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+te+"'";return e.arrayBuffer()}).catch(function(){return se()});if(h)return new Promise(function(e,t){h(te,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return se()})}().then(function(e){return WebAssembly.instantiate(e,r)}).then(function(e){return e}).then(e,function(e){C("failed to asynchronously prepare wasm: "+e),ie(e)})}var r={a:ht};if(D||(ne++,u.monitorRunDependencies&&u.monitorRunDependencies(ne)),u.instantiateWasm)try{return u.instantiateWasm(r,e)}catch(e){return C("Module.instantiateWasm callback failed with error: "+e),!1}(k||"function"!=typeof WebAssembly.instantiateStreaming||ae()||te.startsWith("file://")||x||"function"!=typeof fetch?n(t):fetch(te,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,r).then(t,function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),n(t)})})).catch(c)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var ft=u._pthread_self=function(){return(ft=u._pthread_self=u.asm.ob).apply(null,arguments)},pt=u._malloc=function(){return(pt=u._malloc=u.asm.pb).apply(null,arguments)},mt=u._free=function(){return(mt=u._free=u.asm.qb).apply(null,arguments)},gt=u._fflush=function(){return(gt=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var yt=u.___funcs_on_exit=function(){return(yt=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},bt=u.__emscripten_thread_init=function(){return(bt=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var vt,_t=u._emscripten_run_in_main_runtime_thread_js=function(){return(_t=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},wt=u.__emscripten_proxy_execute_task_queue=function(){return(wt=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},xt=u.__emscripten_thread_free_data=function(){return(xt=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Dt=u.__emscripten_thread_exit=function(){return(Dt=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Et=u._setThrew=function(){return(Et=u._setThrew=u.asm.Bb).apply(null,arguments)},St=u._emscripten_stack_set_limits=function(){return(St=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Tt=u.stackSave=function(){return(Tt=u.stackSave=u.asm.Db).apply(null,arguments)},At=u.stackRestore=function(){return(At=u.stackRestore=u.asm.Eb).apply(null,arguments)},kt=u.stackAlloc=function(){return(kt=u.stackAlloc=u.asm.Fb).apply(null,arguments)},Ft=u.___cxa_can_catch=function(){return(Ft=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Ct=u.___cxa_is_pointer_type=function(){return(Ct=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},Ot=u.dynCall_j=function(){return(Ot=u.dynCall_j=u.asm.Ib).apply(null,arguments)},Pt=u.dynCall_iiiiij=function(){return(Pt=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},It=u.dynCall_jii=function(){return(It=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Mt=u.dynCall_viiiiij=function(){return(Mt=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Nt=u.dynCall_vjji=function(){return(Nt=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Lt=u.dynCall_viiijjjii=function(){return(Lt=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},jt=u.dynCall_iij=function(){return(jt=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},Bt=u.dynCall_ji=function(){return(Bt=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},Rt=u.dynCall_iiiiiij=function(){return(Rt=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},zt=u.dynCall_iiij=function(){return(zt=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function Vt(){function e(){if(!vt&&(vt=!0,u.calledRun=!0,!z)&&(D||me($),l(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!D)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();Z.unshift(e)}me(Z)}}if(!(0<ne))if(D)l(u),D||me($),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)ee();me(K),0<ne||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),e()},1)):e())}}if(u.UTF8ToString=G,u.stringToUTF8=function(e,t,n){return H(e,o(),t,n)},u.lengthBytesUTF8=W,u.keepRuntimeAlive=J,u.wasmMemory=P,u.stackSave=Tt,u.stackRestore=At,u.stackAlloc=kt,u.ExitStatus=le,u.PThread=pe,oe=function e(){vt||Vt(),vt||(oe=e)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Vt(),e.ready});e.exports=o},932:(e,t,n)=>{var r,o=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,o,i;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise(function(e,t){o=e,i=t});var a,s,u,l,c,d,h=Object.assign({},t),f="./this.program",p=(e,t)=>{throw t},m="object"==typeof window,g="function"==typeof importScripts,y="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b="";y?(b=g?n(908).dirname(b)+"/":"//",d=()=>{c||(l=n(1384),c=n(908))},a=function(e,t){return d(),e=c.normalize(e),l.readFileSync(e,t?void 0:"utf8")},u=e=>((e=a(e,!0)).buffer||(e=new Uint8Array(e)),e),s=(e,t,n)=>{d(),e=c.normalize(e),l.readFile(e,function(e,r){e?n(e):t(r.buffer)})},1<process.argv.length&&(f=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof Q))throw e}),process.on("unhandledRejection",function(e){throw e}),p=(e,t)=>{if(x||0<V)throw process.exitCode=e,t;t instanceof Q||w("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),r&&(b=r),b=0!==b.indexOf("blob:")?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var v,_=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);Object.assign(t,h),h=null,t.thisProgram&&(f=t.thisProgram),t.quit&&(p=t.quit),t.wasmBinary&&(v=t.wasmBinary);var x=t.noExitRuntime||!1;"object"!=typeof WebAssembly&&X("no native wasm support detected");var D,E,S,T,A,k,F=!1,C="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&C)return C.decode(e.subarray(t,n));for(r="";t<n;){var o=e[t++];if(128&o){var i=63&e[t++];if(192==(224&o))r+=String.fromCharCode((31&o)<<6|i);else{var a=63&e[t++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&e[t++])?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else r+=String.fromCharCode(o)}return r}function P(e,t){return(e>>>=0)?O(T,e,t):""}function I(e,t,n,r){if(!(0<r))return 0;var o=n>>>=0;r=n+r-1;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),127>=a){if(n>=r)break;t[n++>>>0]=a}else{if(2047>=a){if(n+1>=r)break;t[n++>>>0]=192|a>>6}else{if(65535>=a){if(n+2>=r)break;t[n++>>>0]=224|a>>12}else{if(n+3>=r)break;t[n++>>>0]=240|a>>18,t[n++>>>0]=128|a>>12&63}t[n++>>>0]=128|a>>6&63}t[n++>>>0]=128|63&a}}return t[n>>>0]=0,n-o}function M(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function N(){var e=D.buffer;E=e,t.HEAP8=S=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=A=new Int32Array(e),t.HEAPU8=T=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=k=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var L,j=[],B=[],R=[],z=[],V=0;function U(){var e=t.preRun.shift();j.unshift(e)}var G,H=0,W=null,q=null;function X(e){throw t.onAbort&&t.onAbort(e),w(e="Aborted("+e+")"),F=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),i(e),e}function Y(){return G.startsWith("data:application/octet-stream;base64,")}if(G="ort-wasm.wasm",!Y()){var K=G;G=t.locateFile?t.locateFile(K,b):b+K}function $(){var e=G;try{if(e==G&&v)return new Uint8Array(v);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(e){X(e)}}function Q(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Z(e){for(;0<e.length;)e.shift()(t)}var J=[],ee=0,te=0;function ne(e){this.Db=e,this.zb=e-24,this.Ub=function(e){k[this.zb+4>>2>>>0]=e},this.Eb=function(){return k[this.zb+4>>2>>>0]},this.Sb=function(e){k[this.zb+8>>2>>>0]=e},this.Wb=function(){return k[this.zb+8>>2>>>0]},this.Tb=function(){A[this.zb>>2>>>0]=0},this.Ib=function(e){S[(this.zb+12|0)>>>0]=e?1:0},this.Pb=function(){return 0!=S[(this.zb+12|0)>>>0]},this.Jb=function(e){S[(this.zb+13|0)>>>0]=e?1:0},this.Lb=function(){return 0!=S[(this.zb+13|0)>>>0]},this.Rb=function(e,t){this.Fb(0),this.Ub(e),this.Sb(t),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){A[this.zb>>2>>>0]+=1},this.Xb=function(){var e=A[this.zb>>2>>>0];return A[this.zb>>2>>>0]=e-1,1===e},this.Fb=function(e){k[this.zb+16>>2>>>0]=e},this.Ob=function(){return k[this.zb+16>>2>>>0]},this.Qb=function(){if(ke(this.Eb()))return k[this.Db>>2>>>0];var e=this.Ob();return 0!==e?e:this.Db}}function re(e){return _e(new ne(e).zb)}var oe=[];function ie(e){var t=oe[e];return t||(e>=oe.length&&(oe.length=e+1),oe[e]=t=L.get(e)),t}function ae(e){var t=M(e)+1,n=ve(t);return n&&I(e,S,n,t),n}var se={};function ue(){if(!le){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"};for(e in se)void 0===se[e]?delete t[e]:t[e]=se[e];var n=[];for(e in t)n.push(e+"="+t[e]);le=n}return le}var le,ce=[null,[],[]];function de(e,t){var n=ce[e];0===t||10===t?((1===e?_:w)(O(n,0)),n.length=0):n.push(t)}var he=0;function fe(e){return 0==e%4&&(0!=e%100||0==e%400)}var pe=[31,29,31,30,31,30,31,31,30,31,30,31],me=[31,28,31,30,31,30,31,31,30,31,30,31];function ge(e,t,n,r){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function i(e,t){return o(e,t,"0")}function a(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.Bb;for(e=new Date(new Date(e.Cb+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(fe(e.getFullYear())?pe:me)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=a(t,e)?0>=a(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var l=A[r+40>>2>>>0];for(var c in r={$b:A[r>>2>>>0],Zb:A[r+4>>2>>>0],Gb:A[r+8>>2>>>0],Kb:A[r+12>>2>>>0],Hb:A[r+16>>2>>>0],Cb:A[r+20>>2>>>0],Ab:A[r+24>>2>>>0],Bb:A[r+28>>2>>>0],bc:A[r+32>>2>>>0],Yb:A[r+36>>2>>>0],ac:l?P(l):""},n=P(n),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(c,"g"),l[c]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(c in l={"%a":function(e){return d[e.Ab].substring(0,3)},"%A":function(e){return d[e.Ab]},"%b":function(e){return h[e.Hb].substring(0,3)},"%B":function(e){return h[e.Hb]},"%C":function(e){return i((e.Cb+1900)/100|0,2)},"%d":function(e){return i(e.Kb,2)},"%e":function(e){return o(e.Kb,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return i(e.Gb,2)},"%I":function(e){return 0==(e=e.Gb)?e=12:12<e&&(e-=12),i(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Hb-1;t+=(fe(e.Cb+1900)?pe:me)[n++]);return i(e.Kb+t,3)},"%m":function(e){return i(e.Hb+1,2)},"%M":function(e){return i(e.Zb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Gb&&12>e.Gb?"AM":"PM"},"%S":function(e){return i(e.$b,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ab||7},"%U":function(e){return i(Math.floor((e.Bb+7-e.Ab)/7),2)},"%V":function(e){var t=Math.floor((e.Bb+7-(e.Ab+6)%7)/7);if(2>=(e.Ab+371-e.Bb-2)%7&&t++,t)53==t&&(4==(n=(e.Ab+371-e.Bb)%7)||3==n&&fe(e.Cb)||(t=1));else{t=52;var n=(e.Ab+7-e.Bb-1)%7;(4==n||5==n&&fe(e.Cb%400-1))&&t++}return i(t,2)},"%w":function(e){return e.Ab},"%W":function(e){return i(Math.floor((e.Bb+7-(e.Ab+6)%7)/7),2)},"%y":function(e){return(e.Cb+1900).toString().substring(2)},"%Y":function(e){return e.Cb+1900},"%z":function(e){var t=0<=(e=e.Yb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\0\0"),l)n.includes(c)&&(n=n.replace(new RegExp(c,"g"),l[c](r)));return c=function(e){var t=Array(M(e)+1);return I(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),c.length>t?0:(S.set(c,e>>>0),c.length-1)}var ye={a:function(e){return ve(e+24)+24},m:function(e){return(e=new ne(e)).Pb()||(e.Ib(!0),ee--),e.Jb(!1),J.push(e),e.Nb(),e.Qb()},ia:function(e){throw w("Unexpected exception thrown, this is not properly supported - aborting"),F=!0,e},w:function(){De(0);var e=J.pop();if(e.Xb()&&!e.Lb()){var t=e.Wb();t&&ie(t)(e.Db),re(e.Db)}te=0},d:function(){var e=te;if(!e)return he=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return he=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Ae(i,n,t.zb+16))return he=i,e}return he=n,e},k:function(){var e=te;if(!e)return he=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return he=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Ae(i,n,t.zb+16))return he=i,e}return he=n,e},g:function(){var e=te;if(!e)return he=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return he=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Ae(i,n,t.zb+16))return he=i,e}return he=n,e},s:re,L:function(){var e=J.pop();e||X("no exception to throw");var t=e.Db;throw e.Lb()||(J.push(e),e.Jb(!0),e.Ib(!1),ee++),te=t,t},b:function(e,t,n){throw new ne(e).Rb(t,n),te=e,ee++,e},la:function(){return ee},i:function(e){throw te||(te=e),e},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){X("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){X("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(e,t){e=new Date(1e3*(k[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getUTCSeconds(),A[t+4>>2>>>0]=e.getUTCMinutes(),A[t+8>>2>>>0]=e.getUTCHours(),A[t+12>>2>>>0]=e.getUTCDate(),A[t+16>>2>>>0]=e.getUTCMonth(),A[t+20>>2>>>0]=e.getUTCFullYear()-1900,A[t+24>>2>>>0]=e.getUTCDay(),A[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(e,t){e=new Date(1e3*(k[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getSeconds(),A[t+4>>2>>>0]=e.getMinutes(),A[t+8>>2>>>0]=e.getHours(),A[t+12>>2>>>0]=e.getDate(),A[t+16>>2>>>0]=e.getMonth(),A[t+20>>2>>>0]=e.getFullYear()-1900,A[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);A[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,A[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),A[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},Fa:function(e){var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),n=A[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=o.getTimezoneOffset(),s=Math.min(a,i);return 0>n?A[e+32>>2>>>0]=Number(i!=a&&s==r):0<n!=(s==r)&&(i=Math.max(a,i),t.setTime(t.getTime()+6e4*((0<n?s:i)-r))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(t.getTime()-o.getTime())/864e5|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function e(t,n,r){e.Vb||(e.Vb=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var o=(new Date).getFullYear(),i=new Date(o,0,1),a=new Date(o,6,1);o=i.getTimezoneOffset();var s=a.getTimezoneOffset();A[e>>2>>>0]=60*Math.max(o,s),A[t>>2>>>0]=Number(o!=s),e=r(i),t=r(a),e=ae(e),t=ae(t),s<o?(k[n>>2>>>0]=e,k[n+4>>2>>>0]=t):(k[n>>2>>>0]=t,k[n+4>>2>>>0]=e)}(t,n,r))},B:function(){X("")},ma:function(){return 4294901760},I:y?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),xa:function(e,t,n){T.copyWithin(e>>>0,t>>>0,t+n>>>0)},G:function(e){var t=T.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var o=Math;r=Math.max(e,r),o=o.min.call(o,4294901760,r+(65536-r%65536)%65536);e:{try{D.grow(o-E.byteLength+65535>>>16),N();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},va:function(e,t){var n=0;return ue().forEach(function(r,o){var i=t+n;for(o=k[e+4*o>>2>>>0]=i,i=0;i<r.length;++i)S[(0|o++)>>>0]=r.charCodeAt(i);S[(0|o)>>>0]=0,n+=r.length+1}),0},wa:function(e,t){var n=ue();k[e>>2>>>0]=n.length;var r=0;return n.forEach(function(e){r+=e.length+1}),k[t>>2>>>0]=r,0},ba:function(e){x||0<V||(xe(),Z(R),we(0),ce[1].length&&de(1,10),ce[2].length&&de(2,10)),x||0<V||(t.onExit&&t.onExit(e),F=!0),p(e,new Q(e))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(e,t,n,r){for(var o=0,i=0;i<n;i++){var a=k[t>>2>>>0],s=k[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++)de(e,T[a+u>>>0]);o+=s}return k[r>>2>>>0]=o,0},c:function(){return he},ja:function e(t,r){e.Mb||(e.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(y)try{var t=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()));return()=>t.randomBytes(1)[0]}catch(e){}return()=>X("randomDevice")}());for(var o=0;o<r;o++)S[(t+o|0)>>>0]=e.Mb();return 0},ea:function(e,t,n){var r=Ee();try{return ie(e)(t,n)}catch(e){if(Se(r),e!==e+0)throw e;De(1,0)}},fa:function(e,t,n){var r=Ee();try{return ie(e)(t,n)}catch(e){if(Se(r),e!==e+0)throw e;De(1,0)}},J:function(e){var t=Ee();try{return ie(e)()}catch(e){if(Se(t),e!==e+0)throw e;De(1,0)}},e:function(e,t){var n=Ee();try{return ie(e)(t)}catch(e){if(Se(n),e!==e+0)throw e;De(1,0)}},N:function(e,t,n){var r=Ee();try{return ie(e)(t,n)}catch(e){if(Se(r),e!==e+0)throw e;De(1,0)}},O:function(e,t,n){var r=Ee();try{return ie(e)(t,n)}catch(e){if(Se(r),e!==e+0)throw e;De(1,0)}},j:function(e,t,n){var r=Ee();try{return ie(e)(t,n)}catch(e){if(Se(r),e!==e+0)throw e;De(1,0)}},o:function(e,t,n,r){var o=Ee();try{return ie(e)(t,n,r)}catch(e){if(Se(o),e!==e+0)throw e;De(1,0)}},p:function(e,t,n,r,o){var i=Ee();try{return ie(e)(t,n,r,o)}catch(e){if(Se(i),e!==e+0)throw e;De(1,0)}},M:function(e,t,n,r,o,i){var a=Ee();try{return ie(e)(t,n,r,o,i)}catch(e){if(Se(a),e!==e+0)throw e;De(1,0)}},r:function(e,t,n,r,o,i){var a=Ee();try{return ie(e)(t,n,r,o,i)}catch(e){if(Se(a),e!==e+0)throw e;De(1,0)}},v:function(e,t,n,r,o,i,a){var s=Ee();try{return ie(e)(t,n,r,o,i,a)}catch(e){if(Se(s),e!==e+0)throw e;De(1,0)}},K:function(e,t,n,r,o,i,a,s){var u=Ee();try{return ie(e)(t,n,r,o,i,a,s)}catch(e){if(Se(u),e!==e+0)throw e;De(1,0)}},D:function(e,t,n,r,o,i,a,s,u,l,c,d){var h=Ee();try{return ie(e)(t,n,r,o,i,a,s,u,l,c,d)}catch(e){if(Se(h),e!==e+0)throw e;De(1,0)}},X:function(e,t,n,r,o,i,a,s){var u=Ee();try{return je(e,t,n,r,o,i,a,s)}catch(e){if(Se(u),e!==e+0)throw e;De(1,0)}},V:function(e,t,n,r,o,i,a){var s=Ee();try{return Ce(e,t,n,r,o,i,a)}catch(e){if(Se(s),e!==e+0)throw e;De(1,0)}},U:function(e,t,n,r,o){var i=Ee();try{return Be(e,t,n,r,o)}catch(e){if(Se(i),e!==e+0)throw e;De(1,0)}},Z:function(e,t,n,r){var o=Ee();try{return Ne(e,t,n,r)}catch(e){if(Se(o),e!==e+0)throw e;De(1,0)}},W:function(e){var t=Ee();try{return Fe(e)}catch(e){if(Se(t),e!==e+0)throw e;De(1,0)}},Y:function(e,t){var n=Ee();try{return Le(e,t)}catch(e){if(Se(n),e!==e+0)throw e;De(1,0)}},T:function(e,t,n){var r=Ee();try{return Oe(e,t,n)}catch(e){if(Se(r),e!==e+0)throw e;De(1,0)}},f:function(e){var t=Ee();try{ie(e)()}catch(e){if(Se(t),e!==e+0)throw e;De(1,0)}},q:function(e,t){var n=Ee();try{ie(e)(t)}catch(e){if(Se(n),e!==e+0)throw e;De(1,0)}},h:function(e,t,n){var r=Ee();try{ie(e)(t,n)}catch(e){if(Se(r),e!==e+0)throw e;De(1,0)}},da:function(e,t,n,r){var o=Ee();try{ie(e)(t,n,r)}catch(e){if(Se(o),e!==e+0)throw e;De(1,0)}},l:function(e,t,n,r){var o=Ee();try{ie(e)(t,n,r)}catch(e){if(Se(o),e!==e+0)throw e;De(1,0)}},t:function(e,t,n,r,o){var i=Ee();try{ie(e)(t,n,r,o)}catch(e){if(Se(i),e!==e+0)throw e;De(1,0)}},u:function(e,t,n,r,o,i){var a=Ee();try{ie(e)(t,n,r,o,i)}catch(e){if(Se(a),e!==e+0)throw e;De(1,0)}},x:function(e,t,n,r,o,i,a){var s=Ee();try{ie(e)(t,n,r,o,i,a)}catch(e){if(Se(s),e!==e+0)throw e;De(1,0)}},z:function(e,t,n,r,o,i,a,s){var u=Ee();try{ie(e)(t,n,r,o,i,a,s)}catch(e){if(Se(u),e!==e+0)throw e;De(1,0)}},ga:function(e,t,n,r,o,i,a,s,u){var l=Ee();try{ie(e)(t,n,r,o,i,a,s,u)}catch(e){if(Se(l),e!==e+0)throw e;De(1,0)}},A:function(e,t,n,r,o,i,a,s,u,l,c){var d=Ee();try{ie(e)(t,n,r,o,i,a,s,u,l,c)}catch(e){if(Se(d),e!==e+0)throw e;De(1,0)}},C:function(e,t,n,r,o,i,a,s,u,l,c,d,h,f,p,m){var g=Ee();try{ie(e)(t,n,r,o,i,a,s,u,l,c,d,h,f,p,m)}catch(e){if(Se(g),e!==e+0)throw e;De(1,0)}},aa:function(e,t,n,r,o,i,a,s){var u=Ee();try{Pe(e,t,n,r,o,i,a,s)}catch(e){if(Se(u),e!==e+0)throw e;De(1,0)}},_:function(e,t,n,r,o,i,a,s,u,l,c,d){var h=Ee();try{Me(e,t,n,r,o,i,a,s,u,l,c,d)}catch(e){if(Se(h),e!==e+0)throw e;De(1,0)}},$:function(e,t,n,r,o,i){var a=Ee();try{Ie(e,t,n,r,o,i)}catch(e){if(Se(a),e!==e+0)throw e;De(1,0)}},n:function(e){return e},F:function(e){he=e},ha:ge,y:function(e,t,n,r){return ge(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,D=t.asm.Ka,N(),L=t.asm.ib,B.unshift(t.asm.La),H--,t.monitorRunDependencies&&t.monitorRunDependencies(H),0==H&&(null!==W&&(clearInterval(W),W=null),q&&(e=q,q=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!v&&(m||g)){if("function"==typeof fetch&&!G.startsWith("file://"))return fetch(G,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+G+"'";return e.arrayBuffer()}).catch(function(){return $()});if(s)return new Promise(function(e,t){s(G,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return $()})}().then(function(e){return WebAssembly.instantiate(e,o)}).then(function(e){return e}).then(e,function(e){w("failed to asynchronously prepare wasm: "+e),X(e)})}var o={a:ye};if(H++,t.monitorRunDependencies&&t.monitorRunDependencies(H),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||Y()||G.startsWith("file://")||y||"function"!=typeof fetch?r(n):fetch(G,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,o).then(n,function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)})})).catch(i)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.La).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.Ma).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Na).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.Oa).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.Pa).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.Qa).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.Ra).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.Sa).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Ta).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Ua).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.Va).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Wa).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.Xa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.Ya).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.Za).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm._a).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.$a).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.ab).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.bb).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.cb).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.db).apply(null,arguments)};var be,ve=t._malloc=function(){return(ve=t._malloc=t.asm.eb).apply(null,arguments)},_e=t._free=function(){return(_e=t._free=t.asm.fb).apply(null,arguments)},we=t._fflush=function(){return(we=t._fflush=t.asm.gb).apply(null,arguments)},xe=t.___funcs_on_exit=function(){return(xe=t.___funcs_on_exit=t.asm.hb).apply(null,arguments)},De=t._setThrew=function(){return(De=t._setThrew=t.asm.jb).apply(null,arguments)},Ee=t.stackSave=function(){return(Ee=t.stackSave=t.asm.kb).apply(null,arguments)},Se=t.stackRestore=function(){return(Se=t.stackRestore=t.asm.lb).apply(null,arguments)},Te=t.stackAlloc=function(){return(Te=t.stackAlloc=t.asm.mb).apply(null,arguments)},Ae=t.___cxa_can_catch=function(){return(Ae=t.___cxa_can_catch=t.asm.nb).apply(null,arguments)},ke=t.___cxa_is_pointer_type=function(){return(ke=t.___cxa_is_pointer_type=t.asm.ob).apply(null,arguments)},Fe=t.dynCall_j=function(){return(Fe=t.dynCall_j=t.asm.pb).apply(null,arguments)},Ce=t.dynCall_iiiiij=function(){return(Ce=t.dynCall_iiiiij=t.asm.qb).apply(null,arguments)},Oe=t.dynCall_jii=function(){return(Oe=t.dynCall_jii=t.asm.rb).apply(null,arguments)},Pe=t.dynCall_viiiiij=function(){return(Pe=t.dynCall_viiiiij=t.asm.sb).apply(null,arguments)},Ie=t.dynCall_vjji=function(){return(Ie=t.dynCall_vjji=t.asm.tb).apply(null,arguments)},Me=t.dynCall_viiijjjii=function(){return(Me=t.dynCall_viiijjjii=t.asm.ub).apply(null,arguments)},Ne=t.dynCall_iij=function(){return(Ne=t.dynCall_iij=t.asm.vb).apply(null,arguments)},Le=t.dynCall_ji=function(){return(Le=t.dynCall_ji=t.asm.wb).apply(null,arguments)},je=t.dynCall_iiiiiij=function(){return(je=t.dynCall_iiiiiij=t.asm.xb).apply(null,arguments)},Be=t.dynCall_iiij=function(){return(Be=t.dynCall_iiij=t.asm.yb).apply(null,arguments)};function Re(){function e(){if(!be&&(be=!0,t.calledRun=!0,!F)){if(Z(B),o(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();z.unshift(e)}Z(z)}}if(!(0<H)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)U();Z(j),0<H||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e())}}if(t.UTF8ToString=P,t.stringToUTF8=function(e,t,n){return I(e,T,t,n)},t.lengthBytesUTF8=M,t.stackSave=Ee,t.stackRestore=Se,t.stackAlloc=Te,q=function e(){be||Re(),be||(q=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return Re(),e.ready});e.exports=o},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise(function(o,a){n[r]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,a(e))}})}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(e,t,n){for(var o,i=null,a=[],s=0,u=0;t<n;){var l=e[t++];switch(u){case 0:a[s++]=r[l>>2],o=(3&l)<<4,u=1;break;case 1:a[s++]=r[o|l>>4],o=(15&l)<<2,u=2;break;case 2:a[s++]=r[o|l>>6],a[s++]=r[63&l],u=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=r[o],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(e,t,n){for(var r,i=n,s=0,u=0;u<e.length;){var l=e.charCodeAt(u++);if(61===l&&s>1)break;if(void 0===(l=o[l]))throw Error(a);switch(s){case 0:r=l,s=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,s=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,s=3;break;case 3:t[n++]=(3&r)<<6|l,s=0}}if(1===s)throw Error(a);return n-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(e,r,o){t[0]=e,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?o:i,e.writeFloatBE=r?i:o,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}}function a(e,t,n){var r=e(t,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=a.bind(null,o),e.readFloatBE=a.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(e,r,o){t[0]=e,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?o:i,e.writeDoubleBE=r?i:o,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,o,i+t),e(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))e(0,o,i+t),e(2146959360,o,i+n);else if(r>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=r*Math.pow(2,-u))>>>0,o,i+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+n)}}}function a(e,t,n,r,o){var i=e(r,o+t),a=e(r,o+n),s=2*(a>>31)+1,u=a>>>20&2047,l=4294967296*(1048575&a)+i;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=a.bind(null,o,0,4),e.readDoubleBE=a.bind(null,i,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},6662:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return e(n);a+n>r&&(i=e(r),a=0);var s=t.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},4997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,i=[],a=0;t<n;)(r=e[t++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(e,t,n){for(var r,o,i=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-i}},3442:(e,t)=>{"use strict";t.__esModule=!0;var n=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=n},3720:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},i={};function a(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=u(e,(0|e)<0?-1:0,!0),a&&(i[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=u(e,e<0?-1:0,!1),a&&(o[e]=n),n)}function s(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=f)return x}else{if(e<=-p)return D;if(e+1>=p)return w}return e<0?s(-e,t).neg():u(e%h|0,e/h|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=u;var l=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var o=s(l(n,8)),i=g,a=0;a<e.length;a+=8){var u=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+u),n);if(u<8){var h=s(l(n,u));i=i.mul(h).add(s(d))}else i=(i=i.mul(o)).add(s(d))}return i.unsigned=t,i}function d(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?c(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var h=4294967296,f=h*h,p=f/2,m=a(1<<24),g=a(0);n.ZERO=g;var y=a(0,!0);n.UZERO=y;var b=a(1);n.ONE=b;var v=a(1,!0);n.UONE=v;var _=a(-1);n.NEG_ONE=_;var w=u(-1,2147483647,!1);n.MAX_VALUE=w;var x=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var D=u(0,-2147483648,!1);n.MIN_VALUE=D;var E=n.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(D)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=s(l(e,6),this.unsigned),i=this,a="";;){var u=i.div(o),c=(i.sub(u.mul(o)).toInt()>>>0).toString(e);if((i=u).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(D)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(D)?D:this.not().add(b)},E.neg=E.negate,E.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,l=e.low>>>16,c=0,h=0,f=0,p=0;return f+=(p+=i+(65535&e.low))>>>16,h+=(f+=o+l)>>>16,c+=(h+=n+s)>>>16,c+=t+a,u((f&=65535)<<16|(p&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},E.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(D))return e.isOdd()?D:g;if(e.eq(D))return this.isOdd()?D:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,l=e.high>>>16,c=65535&e.high,h=e.low>>>16,f=65535&e.low,p=0,y=0,b=0,v=0;return b+=(v+=a*f)>>>16,y+=(b+=i*f)>>>16,b&=65535,y+=(b+=a*h)>>>16,p+=(y+=o*f)>>>16,y&=65535,p+=(y+=i*h)>>>16,y&=65535,p+=(y+=a*c)>>>16,p+=n*f+o*h+i*c+a*l,u((b&=65535)<<16|(v&=65535),(p&=65535)<<16|(y&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return v;i=y}else{if(this.eq(D))return e.eq(b)||e.eq(_)?D:e.eq(D)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:_:(o=this.sub(e.mul(n)),i=n.add(o.div(e)));if(e.eq(D))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),c=a<=48?1:l(2,a-48),h=s(n),f=h.mul(e);f.isNegative()||f.gt(o);)f=(h=s(n-=c,this.unsigned)).mul(e);h.isZero()&&(h=b),i=i.add(h),o=o.sub(f)}return i},E.div=E.divide,E.modulo=function(e){return r(e)||(e=d(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return u(~this.low,~this.high,this.unsigned)},E.and=function(e){return r(e)||(e=d(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return r(e)||(e=d(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return r(e)||(e=d(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1446:(e,t,n)=>{"use strict";var r,o,i,a=n(2100),s=a.Reader,u=a.Writer,l=a.util,c=a.roots.default||(a.roots.default={});c.onnx=((i={}).Version=(r={},(o=Object.create(r))[r[0]="_START_VERSION"]=0,o[r[1]="IR_VERSION_2017_10_10"]=1,o[r[2]="IR_VERSION_2017_10_30"]=2,o[r[3]="IR_VERSION_2017_11_3"]=3,o[r[4]="IR_VERSION_2019_1_22"]=4,o[r[5]="IR_VERSION"]=5,o),i.AttributeProto=function(){function e(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.s=l.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.floats=l.emptyArray,e.prototype.ints=l.emptyArray,e.prototype.strings=l.emptyArray,e.prototype.tensors=l.emptyArray,e.prototype.graphs=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.f&&e.hasOwnProperty("f")&&t.uint32(21).float(e.f),null!=e.i&&e.hasOwnProperty("i")&&t.uint32(24).int64(e.i),null!=e.s&&e.hasOwnProperty("s")&&t.uint32(34).bytes(e.s),null!=e.t&&e.hasOwnProperty("t")&&c.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),null!=e.g&&e.hasOwnProperty("g")&&c.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),null!=e.floats&&e.floats.length){t.uint32(58).fork();for(var n=0;n<e.floats.length;++n)t.float(e.floats[n]);t.ldelim()}if(null!=e.ints&&e.ints.length){for(t.uint32(66).fork(),n=0;n<e.ints.length;++n)t.int64(e.ints[n]);t.ldelim()}if(null!=e.strings&&e.strings.length)for(n=0;n<e.strings.length;++n)t.uint32(74).bytes(e.strings[n]);if(null!=e.tensors&&e.tensors.length)for(n=0;n<e.tensors.length;++n)c.onnx.TensorProto.encode(e.tensors[n],t.uint32(82).fork()).ldelim();if(null!=e.graphs&&e.graphs.length)for(n=0;n<e.graphs.length;++n)c.onnx.GraphProto.encode(e.graphs[n],t.uint32(90).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(106).string(e.docString),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(160).int32(e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&t.uint32(170).string(e.refAttrName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.AttributeProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 21:r.refAttrName=e.string();break;case 13:r.docString=e.string();break;case 20:r.type=e.int32();break;case 2:r.f=e.float();break;case 3:r.i=e.int64();break;case 4:r.s=e.bytes();break;case 5:r.t=c.onnx.TensorProto.decode(e,e.uint32());break;case 6:r.g=c.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.floats.push(e.float());else r.floats.push(e.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.ints.push(e.int64());else r.ints.push(e.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(e.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(c.onnx.TensorProto.decode(e,e.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(c.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&!l.isString(e.refAttrName))return"refAttrName: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.f&&e.hasOwnProperty("f")&&"number"!=typeof e.f)return"f: number expected";if(null!=e.i&&e.hasOwnProperty("i")&&!(l.isInteger(e.i)||e.i&&l.isInteger(e.i.low)&&l.isInteger(e.i.high)))return"i: integer|Long expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||l.isString(e.s)))return"s: buffer expected";if(null!=e.t&&e.hasOwnProperty("t")&&(n=c.onnx.TensorProto.verify(e.t)))return"t."+n;if(null!=e.g&&e.hasOwnProperty("g")&&(n=c.onnx.GraphProto.verify(e.g)))return"g."+n;if(null!=e.floats&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if("number"!=typeof e.floats[t])return"floats: number[] expected"}if(null!=e.ints&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(l.isInteger(e.ints[t])||e.ints[t]&&l.isInteger(e.ints[t].low)&&l.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected"}if(null!=e.strings&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&"number"==typeof e.strings[t].length||l.isString(e.strings[t])))return"strings: buffer[] expected"}if(null!=e.tensors&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(n=c.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+n}if(null!=e.graphs&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t){var n;if(n=c.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.AttributeProto)return e;var t=new c.onnx.AttributeProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.refAttrName&&(t.refAttrName=String(e.refAttrName)),null!=e.docString&&(t.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10}if(null!=e.f&&(t.f=Number(e.f)),null!=e.i&&(l.Long?(t.i=l.Long.fromValue(e.i)).unsigned=!1:"string"==typeof e.i?t.i=parseInt(e.i,10):"number"==typeof e.i?t.i=e.i:"object"==typeof e.i&&(t.i=new l.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),null!=e.s&&("string"==typeof e.s?l.base64.decode(e.s,t.s=l.newBuffer(l.base64.length(e.s)),0):e.s.length&&(t.s=e.s)),null!=e.t){if("object"!=typeof e.t)throw TypeError(".onnx.AttributeProto.t: object expected");t.t=c.onnx.TensorProto.fromObject(e.t)}if(null!=e.g){if("object"!=typeof e.g)throw TypeError(".onnx.AttributeProto.g: object expected");t.g=c.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var n=0;n<e.floats.length;++n)t.floats[n]=Number(e.floats[n])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],n=0;n<e.ints.length;++n)l.Long?(t.ints[n]=l.Long.fromValue(e.ints[n])).unsigned=!1:"string"==typeof e.ints[n]?t.ints[n]=parseInt(e.ints[n],10):"number"==typeof e.ints[n]?t.ints[n]=e.ints[n]:"object"==typeof e.ints[n]&&(t.ints[n]=new l.LongBits(e.ints[n].low>>>0,e.ints[n].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],n=0;n<e.strings.length;++n)"string"==typeof e.strings[n]?l.base64.decode(e.strings[n],t.strings[n]=l.newBuffer(l.base64.length(e.strings[n])),0):e.strings[n].length&&(t.strings[n]=e.strings[n])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],n=0;n<e.tensors.length;++n){if("object"!=typeof e.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[n]=c.onnx.TensorProto.fromObject(e.tensors[n])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],n=0;n<e.graphs.length;++n){if("object"!=typeof e.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[n]=c.onnx.GraphProto.fromObject(e.graphs[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[]),t.defaults){if(n.name="",n.f=0,l.Long){var r=new l.Long(0,0,!1);n.i=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.i=t.longs===String?"0":0;t.bytes===String?n.s="":(n.s=[],t.bytes!==Array&&(n.s=l.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.type=t.enums===String?"UNDEFINED":0,n.refAttrName=""}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.f&&e.hasOwnProperty("f")&&(n.f=t.json&&!isFinite(e.f)?String(e.f):e.f),null!=e.i&&e.hasOwnProperty("i")&&("number"==typeof e.i?n.i=t.longs===String?String(e.i):e.i:n.i=t.longs===String?l.Long.prototype.toString.call(e.i):t.longs===Number?new l.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),null!=e.s&&e.hasOwnProperty("s")&&(n.s=t.bytes===String?l.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),null!=e.t&&e.hasOwnProperty("t")&&(n.t=c.onnx.TensorProto.toObject(e.t,t)),null!=e.g&&e.hasOwnProperty("g")&&(n.g=c.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){n.floats=[];for(var o=0;o<e.floats.length;++o)n.floats[o]=t.json&&!isFinite(e.floats[o])?String(e.floats[o]):e.floats[o]}if(e.ints&&e.ints.length)for(n.ints=[],o=0;o<e.ints.length;++o)"number"==typeof e.ints[o]?n.ints[o]=t.longs===String?String(e.ints[o]):e.ints[o]:n.ints[o]=t.longs===String?l.Long.prototype.toString.call(e.ints[o]):t.longs===Number?new l.LongBits(e.ints[o].low>>>0,e.ints[o].high>>>0).toNumber():e.ints[o];if(e.strings&&e.strings.length)for(n.strings=[],o=0;o<e.strings.length;++o)n.strings[o]=t.bytes===String?l.base64.encode(e.strings[o],0,e.strings[o].length):t.bytes===Array?Array.prototype.slice.call(e.strings[o]):e.strings[o];if(e.tensors&&e.tensors.length)for(n.tensors=[],o=0;o<e.tensors.length;++o)n.tensors[o]=c.onnx.TensorProto.toObject(e.tensors[o],t);if(e.graphs&&e.graphs.length)for(n.graphs=[],o=0;o<e.graphs.length;++o)n.graphs[o]=c.onnx.GraphProto.toObject(e.graphs[o],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?c.onnx.AttributeProto.AttributeType[e.type]:e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&(n.refAttrName=e.refAttrName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e.AttributeType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="INT"]=2,t[e[3]="STRING"]=3,t[e[4]="TENSOR"]=4,t[e[5]="GRAPH"]=5,t[e[6]="FLOATS"]=6,t[e[7]="INTS"]=7,t[e[8]="STRINGS"]=8,t[e[9]="TENSORS"]=9,t[e[10]="GRAPHS"]=10,t}(),e}(),i.ValueInfoProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.type&&e.hasOwnProperty("type")&&c.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(26).string(e.docString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.ValueInfoProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.type=c.onnx.TypeProto.decode(e,e.uint32());break;case 3:r.docString=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")){var t=c.onnx.TypeProto.verify(e.type);if(t)return"type."+t}return null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.ValueInfoProto)return e;var t=new c.onnx.ValueInfoProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.type){if("object"!=typeof e.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=c.onnx.TypeProto.fromObject(e.type)}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type=null,n.docString=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=c.onnx.TypeProto.toObject(e.type,t)),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),i.NodeProto=function(){function e(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.input=l.emptyArray,e.prototype.output=l.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=l.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.input&&e.input.length)for(var n=0;n<e.input.length;++n)t.uint32(10).string(e.input[n]);if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)t.uint32(18).string(e.output[n]);if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.opType&&e.hasOwnProperty("opType")&&t.uint32(34).string(e.opType),null!=e.attribute&&e.attribute.length)for(n=0;n<e.attribute.length;++n)c.onnx.AttributeProto.encode(e.attribute[n],t.uint32(42).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(58).string(e.domain),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.NodeProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(e.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(e.string());break;case 3:r.name=e.string();break;case 4:r.opType=e.string();break;case 7:r.domain=e.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(c.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:r.docString=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!l.isString(e.input[t]))return"input: string[] expected"}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!l.isString(e.output[t]))return"output: string[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.opType&&e.hasOwnProperty("opType")&&!l.isString(e.opType))return"opType: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!l.isString(e.domain))return"domain: string expected";if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var n=c.onnx.AttributeProto.verify(e.attribute[t]);if(n)return"attribute."+n}}return null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.NodeProto)return e;var t=new c.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var n=0;n<e.input.length;++n)t.input[n]=String(e.input[n])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n)t.output[n]=String(e.output[n])}if(null!=e.name&&(t.name=String(e.name)),null!=e.opType&&(t.opType=String(e.opType)),null!=e.domain&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],n=0;n<e.attribute.length;++n){if("object"!=typeof e.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[n]=c.onnx.AttributeProto.fromObject(e.attribute[n])}}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.input=[],n.output=[],n.attribute=[]),t.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),e.input&&e.input.length){n.input=[];for(var r=0;r<e.input.length;++r)n.input[r]=e.input[r]}if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=e.output[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.opType&&e.hasOwnProperty("opType")&&(n.opType=e.opType),e.attribute&&e.attribute.length)for(n.attribute=[],r=0;r<e.attribute.length;++r)n.attribute[r]=c.onnx.AttributeProto.toObject(e.attribute[r],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),i.ModelProto=function(){function e(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.irVersion=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=l.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.irVersion&&e.hasOwnProperty("irVersion")&&t.uint32(8).int64(e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&t.uint32(18).string(e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&t.uint32(26).string(e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(34).string(e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&t.uint32(40).int64(e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&c.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),null!=e.opsetImport&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)c.onnx.OperatorSetIdProto.encode(e.opsetImport[n],t.uint32(66).fork()).ldelim();if(null!=e.metadataProps&&e.metadataProps.length)for(n=0;n<e.metadataProps.length;++n)c.onnx.StringStringEntryProto.encode(e.metadataProps[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.ModelProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.irVersion=e.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(c.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:r.producerName=e.string();break;case 3:r.producerVersion=e.string();break;case 4:r.domain=e.string();break;case 5:r.modelVersion=e.int64();break;case 6:r.docString=e.string();break;case 7:r.graph=c.onnx.GraphProto.decode(e,e.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&!(l.isInteger(e.irVersion)||e.irVersion&&l.isInteger(e.irVersion.low)&&l.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(n=c.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+n}if(null!=e.producerName&&e.hasOwnProperty("producerName")&&!l.isString(e.producerName))return"producerName: string expected";if(null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&!l.isString(e.producerVersion))return"producerVersion: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!l.isString(e.domain))return"domain: string expected";if(null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&!(l.isInteger(e.modelVersion)||e.modelVersion&&l.isInteger(e.modelVersion.low)&&l.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.graph&&e.hasOwnProperty("graph")&&(n=c.onnx.GraphProto.verify(e.graph)))return"graph."+n;if(null!=e.metadataProps&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t){var n;if(n=c.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.ModelProto)return e;var t=new c.onnx.ModelProto;if(null!=e.irVersion&&(l.Long?(t.irVersion=l.Long.fromValue(e.irVersion)).unsigned=!1:"string"==typeof e.irVersion?t.irVersion=parseInt(e.irVersion,10):"number"==typeof e.irVersion?t.irVersion=e.irVersion:"object"==typeof e.irVersion&&(t.irVersion=new l.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if("object"!=typeof e.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[n]=c.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n])}}if(null!=e.producerName&&(t.producerName=String(e.producerName)),null!=e.producerVersion&&(t.producerVersion=String(e.producerVersion)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.modelVersion&&(l.Long?(t.modelVersion=l.Long.fromValue(e.modelVersion)).unsigned=!1:"string"==typeof e.modelVersion?t.modelVersion=parseInt(e.modelVersion,10):"number"==typeof e.modelVersion?t.modelVersion=e.modelVersion:"object"==typeof e.modelVersion&&(t.modelVersion=new l.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),null!=e.docString&&(t.docString=String(e.docString)),null!=e.graph){if("object"!=typeof e.graph)throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=c.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],n=0;n<e.metadataProps.length;++n){if("object"!=typeof e.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[n]=c.onnx.StringStringEntryProto.fromObject(e.metadataProps[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.opsetImport=[],n.metadataProps=[]),t.defaults){if(l.Long){var r=new l.Long(0,0,!1);n.irVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.irVersion=t.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",l.Long?(r=new l.Long(0,0,!1),n.modelVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.modelVersion=t.longs===String?"0":0,n.docString="",n.graph=null}if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&("number"==typeof e.irVersion?n.irVersion=t.longs===String?String(e.irVersion):e.irVersion:n.irVersion=t.longs===String?l.Long.prototype.toString.call(e.irVersion):t.longs===Number?new l.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&(n.producerName=e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&(n.producerVersion=e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&("number"==typeof e.modelVersion?n.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:n.modelVersion=t.longs===String?l.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new l.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&(n.graph=c.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){n.opsetImport=[];for(var o=0;o<e.opsetImport.length;++o)n.opsetImport[o]=c.onnx.OperatorSetIdProto.toObject(e.opsetImport[o],t)}if(e.metadataProps&&e.metadataProps.length)for(n.metadataProps=[],o=0;o<e.metadataProps.length;++o)n.metadataProps[o]=c.onnx.StringStringEntryProto.toObject(e.metadataProps[o],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),i.StringStringEntryProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.StringStringEntryProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!l.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!l.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.StringStringEntryProto)return e;var t=new c.onnx.StringStringEntryProto;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),i.TensorAnnotation=function(){function e(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&t.uint32(10).string(e.tensorName),null!=e.quantParameterTensorNames&&e.quantParameterTensorNames.length)for(var n=0;n<e.quantParameterTensorNames.length;++n)c.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorAnnotation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.tensorName=e.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorName&&e.hasOwnProperty("tensorName")&&!l.isString(e.tensorName))return"tensorName: string expected";if(null!=e.quantParameterTensorNames&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var n=c.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(n)return"quantParameterTensorNames."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.TensorAnnotation)return e;var t=new c.onnx.TensorAnnotation;if(null!=e.tensorName&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n){if("object"!=typeof e.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[n]=c.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.quantParameterTensorNames=[]),t.defaults&&(n.tensorName=""),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&(n.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<e.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=c.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),i.GraphProto=function(){function e(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.node=l.emptyArray,e.prototype.name="",e.prototype.initializer=l.emptyArray,e.prototype.docString="",e.prototype.input=l.emptyArray,e.prototype.output=l.emptyArray,e.prototype.valueInfo=l.emptyArray,e.prototype.quantizationAnnotation=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.node&&e.node.length)for(var n=0;n<e.node.length;++n)c.onnx.NodeProto.encode(e.node[n],t.uint32(10).fork()).ldelim();if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.initializer&&e.initializer.length)for(n=0;n<e.initializer.length;++n)c.onnx.TensorProto.encode(e.initializer[n],t.uint32(42).fork()).ldelim();if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(82).string(e.docString),null!=e.input&&e.input.length)for(n=0;n<e.input.length;++n)c.onnx.ValueInfoProto.encode(e.input[n],t.uint32(90).fork()).ldelim();if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)c.onnx.ValueInfoProto.encode(e.output[n],t.uint32(98).fork()).ldelim();if(null!=e.valueInfo&&e.valueInfo.length)for(n=0;n<e.valueInfo.length;++n)c.onnx.ValueInfoProto.encode(e.valueInfo[n],t.uint32(106).fork()).ldelim();if(null!=e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n=0;n<e.quantizationAnnotation.length;++n)c.onnx.TensorAnnotation.encode(e.quantizationAnnotation[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.GraphProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(c.onnx.NodeProto.decode(e,e.uint32()));break;case 2:r.name=e.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(c.onnx.TensorProto.decode(e,e.uint32()));break;case 10:r.docString=e.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(c.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(n=c.onnx.NodeProto.verify(e.node[t]))return"node."+n}if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.initializer&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(n=c.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+n}if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(n=c.onnx.ValueInfoProto.verify(e.input[t]))return"input."+n}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(n=c.onnx.ValueInfoProto.verify(e.output[t]))return"output."+n}if(null!=e.valueInfo&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(n=c.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+n}if(null!=e.quantizationAnnotation&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var n;if(n=c.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.GraphProto)return e;var t=new c.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var n=0;n<e.node.length;++n){if("object"!=typeof e.node[n])throw TypeError(".onnx.GraphProto.node: object expected");t.node[n]=c.onnx.NodeProto.fromObject(e.node[n])}}if(null!=e.name&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],n=0;n<e.initializer.length;++n){if("object"!=typeof e.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[n]=c.onnx.TensorProto.fromObject(e.initializer[n])}}if(null!=e.docString&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],n=0;n<e.input.length;++n){if("object"!=typeof e.input[n])throw TypeError(".onnx.GraphProto.input: object expected");t.input[n]=c.onnx.ValueInfoProto.fromObject(e.input[n])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n){if("object"!=typeof e.output[n])throw TypeError(".onnx.GraphProto.output: object expected");t.output[n]=c.onnx.ValueInfoProto.fromObject(e.output[n])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],n=0;n<e.valueInfo.length;++n){if("object"!=typeof e.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[n]=c.onnx.ValueInfoProto.fromObject(e.valueInfo[n])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],n=0;n<e.quantizationAnnotation.length;++n){if("object"!=typeof e.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[n]=c.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),t.defaults&&(n.name="",n.docString=""),e.node&&e.node.length){n.node=[];for(var r=0;r<e.node.length;++r)n.node[r]=c.onnx.NodeProto.toObject(e.node[r],t)}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.initializer&&e.initializer.length)for(n.initializer=[],r=0;r<e.initializer.length;++r)n.initializer[r]=c.onnx.TensorProto.toObject(e.initializer[r],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.input&&e.input.length)for(n.input=[],r=0;r<e.input.length;++r)n.input[r]=c.onnx.ValueInfoProto.toObject(e.input[r],t);if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=c.onnx.ValueInfoProto.toObject(e.output[r],t);if(e.valueInfo&&e.valueInfo.length)for(n.valueInfo=[],r=0;r<e.valueInfo.length;++r)n.valueInfo[r]=c.onnx.ValueInfoProto.toObject(e.valueInfo[r],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<e.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=c.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),i.TensorProto=function(){function e(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dims=l.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=l.emptyArray,e.prototype.int32Data=l.emptyArray,e.prototype.stringData=l.emptyArray,e.prototype.int64Data=l.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=l.newBuffer([]),e.prototype.externalData=l.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=l.emptyArray,e.prototype.uint64Data=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.dims&&e.dims.length){t.uint32(10).fork();for(var n=0;n<e.dims.length;++n)t.int64(e.dims[n]);t.ldelim()}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&t.uint32(16).int32(e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&c.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),null!=e.floatData&&e.floatData.length){for(t.uint32(34).fork(),n=0;n<e.floatData.length;++n)t.float(e.floatData[n]);t.ldelim()}if(null!=e.int32Data&&e.int32Data.length){for(t.uint32(42).fork(),n=0;n<e.int32Data.length;++n)t.int32(e.int32Data[n]);t.ldelim()}if(null!=e.stringData&&e.stringData.length)for(n=0;n<e.stringData.length;++n)t.uint32(50).bytes(e.stringData[n]);if(null!=e.int64Data&&e.int64Data.length){for(t.uint32(58).fork(),n=0;n<e.int64Data.length;++n)t.int64(e.int64Data[n]);t.ldelim()}if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(66).string(e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&t.uint32(74).bytes(e.rawData),null!=e.doubleData&&e.doubleData.length){for(t.uint32(82).fork(),n=0;n<e.doubleData.length;++n)t.double(e.doubleData[n]);t.ldelim()}if(null!=e.uint64Data&&e.uint64Data.length){for(t.uint32(90).fork(),n=0;n<e.uint64Data.length;++n)t.uint64(e.uint64Data[n]);t.ldelim()}if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(98).string(e.docString),null!=e.externalData&&e.externalData.length)for(n=0;n<e.externalData.length;++n)c.onnx.StringStringEntryProto.encode(e.externalData[n],t.uint32(106).fork()).ldelim();return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&t.uint32(112).int32(e.dataLocation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.dims.push(e.int64());else r.dims.push(e.int64());break;case 2:r.dataType=e.int32();break;case 3:r.segment=c.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.floatData.push(e.float());else r.floatData.push(e.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.int32Data.push(e.int32());else r.int32Data.push(e.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(e.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.int64Data.push(e.int64());else r.int64Data.push(e.int64());break;case 8:r.name=e.string();break;case 12:r.docString=e.string();break;case 9:r.rawData=e.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:r.dataLocation=e.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.doubleData.push(e.double());else r.doubleData.push(e.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.uint64Data.push(e.uint64());else r.uint64Data.push(e.uint64());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(l.isInteger(e.dims[t])||e.dims[t]&&l.isInteger(e.dims[t].low)&&l.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected"}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&!l.isInteger(e.dataType))return"dataType: integer expected";if(null!=e.segment&&e.hasOwnProperty("segment")&&(n=c.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+n;if(null!=e.floatData&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if("number"!=typeof e.floatData[t])return"floatData: number[] expected"}if(null!=e.int32Data&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!l.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(null!=e.stringData&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&"number"==typeof e.stringData[t].length||l.isString(e.stringData[t])))return"stringData: buffer[] expected"}if(null!=e.int64Data&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(l.isInteger(e.int64Data[t])||e.int64Data[t]&&l.isInteger(e.int64Data[t].low)&&l.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.rawData&&e.hasOwnProperty("rawData")&&!(e.rawData&&"number"==typeof e.rawData.length||l.isString(e.rawData)))return"rawData: buffer expected";if(null!=e.externalData&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var n;if(n=c.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+n}}if(null!=e.dataLocation&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=e.doubleData&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if("number"!=typeof e.doubleData[t])return"doubleData: number[] expected"}if(null!=e.uint64Data&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(l.isInteger(e.uint64Data[t])||e.uint64Data[t]&&l.isInteger(e.uint64Data[t].low)&&l.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof c.onnx.TensorProto)return e;var t=new c.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var n=0;n<e.dims.length;++n)l.Long?(t.dims[n]=l.Long.fromValue(e.dims[n])).unsigned=!1:"string"==typeof e.dims[n]?t.dims[n]=parseInt(e.dims[n],10):"number"==typeof e.dims[n]?t.dims[n]=e.dims[n]:"object"==typeof e.dims[n]&&(t.dims[n]=new l.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber())}if(null!=e.dataType&&(t.dataType=0|e.dataType),null!=e.segment){if("object"!=typeof e.segment)throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=c.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],n=0;n<e.floatData.length;++n)t.floatData[n]=Number(e.floatData[n])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],n=0;n<e.int32Data.length;++n)t.int32Data[n]=0|e.int32Data[n]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],n=0;n<e.stringData.length;++n)"string"==typeof e.stringData[n]?l.base64.decode(e.stringData[n],t.stringData[n]=l.newBuffer(l.base64.length(e.stringData[n])),0):e.stringData[n].length&&(t.stringData[n]=e.stringData[n])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],n=0;n<e.int64Data.length;++n)l.Long?(t.int64Data[n]=l.Long.fromValue(e.int64Data[n])).unsigned=!1:"string"==typeof e.int64Data[n]?t.int64Data[n]=parseInt(e.int64Data[n],10):"number"==typeof e.int64Data[n]?t.int64Data[n]=e.int64Data[n]:"object"==typeof e.int64Data[n]&&(t.int64Data[n]=new l.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber())}if(null!=e.name&&(t.name=String(e.name)),null!=e.docString&&(t.docString=String(e.docString)),null!=e.rawData&&("string"==typeof e.rawData?l.base64.decode(e.rawData,t.rawData=l.newBuffer(l.base64.length(e.rawData)),0):e.rawData.length&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],n=0;n<e.externalData.length;++n){if("object"!=typeof e.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[n]=c.onnx.StringStringEntryProto.fromObject(e.externalData[n])}}switch(e.dataLocation){case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],n=0;n<e.doubleData.length;++n)t.doubleData[n]=Number(e.doubleData[n])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],n=0;n<e.uint64Data.length;++n)l.Long?(t.uint64Data[n]=l.Long.fromValue(e.uint64Data[n])).unsigned=!0:"string"==typeof e.uint64Data[n]?t.uint64Data[n]=parseInt(e.uint64Data[n],10):"number"==typeof e.uint64Data[n]?t.uint64Data[n]=e.uint64Data[n]:"object"==typeof e.uint64Data[n]&&(t.uint64Data[n]=new l.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),t.defaults&&(n.dataType=0,n.segment=null,n.name="",t.bytes===String?n.rawData="":(n.rawData=[],t.bytes!==Array&&(n.rawData=l.newBuffer(n.rawData))),n.docString="",n.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){n.dims=[];for(var r=0;r<e.dims.length;++r)"number"==typeof e.dims[r]?n.dims[r]=t.longs===String?String(e.dims[r]):e.dims[r]:n.dims[r]=t.longs===String?l.Long.prototype.toString.call(e.dims[r]):t.longs===Number?new l.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber():e.dims[r]}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&(n.dataType=e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&(n.segment=c.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(n.floatData=[],r=0;r<e.floatData.length;++r)n.floatData[r]=t.json&&!isFinite(e.floatData[r])?String(e.floatData[r]):e.floatData[r];if(e.int32Data&&e.int32Data.length)for(n.int32Data=[],r=0;r<e.int32Data.length;++r)n.int32Data[r]=e.int32Data[r];if(e.stringData&&e.stringData.length)for(n.stringData=[],r=0;r<e.stringData.length;++r)n.stringData[r]=t.bytes===String?l.base64.encode(e.stringData[r],0,e.stringData[r].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[r]):e.stringData[r];if(e.int64Data&&e.int64Data.length)for(n.int64Data=[],r=0;r<e.int64Data.length;++r)"number"==typeof e.int64Data[r]?n.int64Data[r]=t.longs===String?String(e.int64Data[r]):e.int64Data[r]:n.int64Data[r]=t.longs===String?l.Long.prototype.toString.call(e.int64Data[r]):t.longs===Number?new l.LongBits(e.int64Data[r].low>>>0,e.int64Data[r].high>>>0).toNumber():e.int64Data[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&(n.rawData=t.bytes===String?l.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(n.doubleData=[],r=0;r<e.doubleData.length;++r)n.doubleData[r]=t.json&&!isFinite(e.doubleData[r])?String(e.doubleData[r]):e.doubleData[r];if(e.uint64Data&&e.uint64Data.length)for(n.uint64Data=[],r=0;r<e.uint64Data.length;++r)"number"==typeof e.uint64Data[r]?n.uint64Data[r]=t.longs===String?String(e.uint64Data[r]):e.uint64Data[r]:n.uint64Data[r]=t.longs===String?l.Long.prototype.toString.call(e.uint64Data[r]):t.longs===Number?new l.LongBits(e.uint64Data[r].low>>>0,e.uint64Data[r].high>>>0).toNumber(!0):e.uint64Data[r];if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.externalData&&e.externalData.length)for(n.externalData=[],r=0;r<e.externalData.length;++r)n.externalData[r]=c.onnx.StringStringEntryProto.toObject(e.externalData[r],t);return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&(n.dataLocation=t.enums===String?c.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="UINT8"]=2,t[e[3]="INT8"]=3,t[e[4]="UINT16"]=4,t[e[5]="INT16"]=5,t[e[6]="INT32"]=6,t[e[7]="INT64"]=7,t[e[8]="STRING"]=8,t[e[9]="BOOL"]=9,t[e[10]="FLOAT16"]=10,t[e[11]="DOUBLE"]=11,t[e[12]="UINT32"]=12,t[e[13]="UINT64"]=13,t[e[14]="COMPLEX64"]=14,t[e[15]="COMPLEX128"]=15,t[e[16]="BFLOAT16"]=16,t}(),e.Segment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.begin=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.end=l.Long?l.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.begin&&e.hasOwnProperty("begin")&&t.uint32(8).int64(e.begin),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(16).int64(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorProto.Segment;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.begin=e.int64();break;case 2:r.end=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.begin&&e.hasOwnProperty("begin")&&!(l.isInteger(e.begin)||e.begin&&l.isInteger(e.begin.low)&&l.isInteger(e.begin.high))?"begin: integer|Long expected":null!=e.end&&e.hasOwnProperty("end")&&!(l.isInteger(e.end)||e.end&&l.isInteger(e.end.low)&&l.isInteger(e.end.high))?"end: integer|Long expected":null},e.fromObject=function(e){if(e instanceof c.onnx.TensorProto.Segment)return e;var t=new c.onnx.TensorProto.Segment;return null!=e.begin&&(l.Long?(t.begin=l.Long.fromValue(e.begin)).unsigned=!1:"string"==typeof e.begin?t.begin=parseInt(e.begin,10):"number"==typeof e.begin?t.begin=e.begin:"object"==typeof e.begin&&(t.begin=new l.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),null!=e.end&&(l.Long?(t.end=l.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"==typeof e.end&&(t.end=new l.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(l.Long){var r=new l.Long(0,0,!1);n.begin=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.begin=t.longs===String?"0":0;l.Long?(r=new l.Long(0,0,!1),n.end=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.end=t.longs===String?"0":0}return null!=e.begin&&e.hasOwnProperty("begin")&&("number"==typeof e.begin?n.begin=t.longs===String?String(e.begin):e.begin:n.begin=t.longs===String?l.Long.prototype.toString.call(e.begin):t.longs===Number?new l.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?n.end=t.longs===String?String(e.end):e.end:n.end=t.longs===String?l.Long.prototype.toString.call(e.end):t.longs===Number?new l.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),e.DataLocation=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="EXTERNAL"]=1,t}(),e}(),i.TensorShapeProto=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dim=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.dim&&e.dim.length)for(var n=0;n<e.dim.length;++n)c.onnx.TensorShapeProto.Dimension.encode(e.dim[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorShapeProto;e.pos<n;){var o=e.uint32();o>>>3==1?(r.dim&&r.dim.length||(r.dim=[]),r.dim.push(c.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dim&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var n=c.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(n)return"dim."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.TensorShapeProto)return e;var t=new c.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var n=0;n<e.dim.length;++n){if("object"!=typeof e.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[n]=c.onnx.TensorShapeProto.Dimension.fromObject(e.dim[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dim=[]),e.dim&&e.dim.length){n.dim=[];for(var r=0;r<e.dim.length;++r)n.dim[r]=c.onnx.TensorShapeProto.Dimension.toObject(e.dim[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e.Dimension=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.dimValue=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.dimParam="",e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:l.oneOfGetter(t=["dimValue","dimParam"]),set:l.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&t.uint32(8).int64(e.dimValue),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&t.uint32(18).string(e.dimParam),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(26).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorShapeProto.Dimension;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.dimValue=e.int64();break;case 2:r.dimParam=e.string();break;case 3:r.denotation=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.dimValue&&e.hasOwnProperty("dimValue")&&(t.value=1,!(l.isInteger(e.dimValue)||e.dimValue&&l.isInteger(e.dimValue.low)&&l.isInteger(e.dimValue.high))))return"dimValue: integer|Long expected";if(null!=e.dimParam&&e.hasOwnProperty("dimParam")){if(1===t.value)return"value: multiple values";if(t.value=1,!l.isString(e.dimParam))return"dimParam: string expected"}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!l.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.TensorShapeProto.Dimension)return e;var t=new c.onnx.TensorShapeProto.Dimension;return null!=e.dimValue&&(l.Long?(t.dimValue=l.Long.fromValue(e.dimValue)).unsigned=!1:"string"==typeof e.dimValue?t.dimValue=parseInt(e.dimValue,10):"number"==typeof e.dimValue?t.dimValue=e.dimValue:"object"==typeof e.dimValue&&(t.dimValue=new l.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber())),null!=e.dimParam&&(t.dimParam=String(e.dimParam)),null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&("number"==typeof e.dimValue?n.dimValue=t.longs===String?String(e.dimValue):e.dimValue:n.dimValue=t.longs===String?l.Long.prototype.toString.call(e.dimValue):t.longs===Number?new l.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber():e.dimValue,t.oneofs&&(n.value="dimValue")),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&(n.dimParam=e.dimParam,t.oneofs&&(n.value="dimParam")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),e}(),i.TypeProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.tensorType=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:l.oneOfGetter(t=["tensorType"]),set:l.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&c.onnx.TypeProto.Tensor.encode(e.tensorType,t.uint32(10).fork()).ldelim(),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(50).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TypeProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.tensorType=c.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 6:r.denotation=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorType&&e.hasOwnProperty("tensorType")){var t=c.onnx.TypeProto.Tensor.verify(e.tensorType);if(t)return"tensorType."+t}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!l.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.TypeProto)return e;var t=new c.onnx.TypeProto;if(null!=e.tensorType){if("object"!=typeof e.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");t.tensorType=c.onnx.TypeProto.Tensor.fromObject(e.tensorType)}return null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(n.tensorType=c.onnx.TypeProto.Tensor.toObject(e.tensorType,t),t.oneofs&&(n.value="tensorType")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e.Tensor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.elemType&&e.hasOwnProperty("elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&c.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TypeProto.Tensor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.elemType=e.int32();break;case 2:r.shape=c.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!l.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){var t=c.onnx.TensorShapeProto.verify(e.shape);if(t)return"shape."+t}return null},e.fromObject=function(e){if(e instanceof c.onnx.TypeProto.Tensor)return e;var t=new c.onnx.TypeProto.Tensor;if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");t.shape=c.onnx.TensorShapeProto.fromObject(e.shape)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=0,n.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(n.shape=c.onnx.TensorShapeProto.toObject(e.shape,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),e}(),i.OperatorSetIdProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.domain="",e.prototype.version=l.Long?l.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(10).string(e.domain),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(16).int64(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.OperatorSetIdProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.domain=e.string();break;case 2:r.version=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.domain&&e.hasOwnProperty("domain")&&!l.isString(e.domain)?"domain: string expected":null!=e.version&&e.hasOwnProperty("version")&&!(l.isInteger(e.version)||e.version&&l.isInteger(e.version.low)&&l.isInteger(e.version.high))?"version: integer|Long expected":null},e.fromObject=function(e){if(e instanceof c.onnx.OperatorSetIdProto)return e;var t=new c.onnx.OperatorSetIdProto;return null!=e.domain&&(t.domain=String(e.domain)),null!=e.version&&(l.Long?(t.version=l.Long.fromValue(e.version)).unsigned=!1:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"==typeof e.version&&(t.version=new l.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.domain="",l.Long){var r=new l.Long(0,0,!1);n.version=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.version=t.longs===String?"0":0;return null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?l.Long.prototype.toString.call(e.version):t.longs===Number?new l.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),i),e.exports=c},2100:(e,t,n)=>{"use strict";e.exports=n(9482)},9482:(e,t,n)=>{"use strict";var r=t;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=o,o()},1408:(e,t,n)=>{"use strict";e.exports=u;var r,o=n(9693),i=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var l,c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},d=function(){return o.Buffer?function(e){return(u.create=function(e){return o.Buffer.isBuffer(e)?new r(e):c(e)})(e)}:c};function h(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}u.create=d(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){r=e,u.create=d(),r._configure();var t=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=i;var r=n(1408);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(e){r.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=o;var r=n(9693);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}s.end(!0)})}catch(e){return s.emit("error",e,t),void setTimeout(function(){a(e)},0)}else setTimeout(function(){a(Error("already ended"))},0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,n)=>{"use strict";e.exports=o;var r=n(9693);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(r.isString(e)){if(!r.Long)return o.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?i:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function o(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=o,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},1173:(e,t,n)=>{"use strict";e.exports=d;var r,o=n(9693),i=o.LongBits,a=o.base64,s=o.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}var h=function(){return o.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function f(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=h(),d.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},p.prototype=Object.create(u.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,i.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=i.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(f,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=i.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var y=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(o.isString(e)){var n=d.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new u(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=h(),r._configure()}},3155:(e,t,n)=>{"use strict";e.exports=i;var r=n(1173);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(){r.call(this)}function a(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()},7714:(e,t,n)=>{"use strict";t.R=void 0;const r=n(6919),o=n(7448);t.R=new class{async init(){}async createSessionHandler(e,t){const n=new r.Session(t);return await n.loadModel(e),new o.OnnxjsSessionHandler(n)}}},4200:(e,t,n)=>{"use strict";t.c8=t.rX=void 0;const r=n(1670),o=n(5381),i=n(2157),a=n(2306);t.rX=()=>{if(("number"!=typeof r.env.wasm.initTimeout||r.env.wasm.initTimeout<0)&&(r.env.wasm.initTimeout=0),"boolean"!=typeof r.env.wasm.simd&&(r.env.wasm.simd=!0),"boolean"!=typeof r.env.wasm.proxy&&(r.env.wasm.proxy=!1),"number"!=typeof r.env.wasm.numThreads||!Number.isInteger(r.env.wasm.numThreads)||r.env.wasm.numThreads<=0){const e="undefined"==typeof navigator?(0,o.cpus)().length:navigator.hardwareConcurrency;r.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},t.c8=new class{async init(){(0,t.rX)(),await(0,i.initWasm)()}async createSessionHandler(e,t){const n=new a.OnnxruntimeWebAssemblySessionHandler;return await n.loadModel(e,t),Promise.resolve(n)}}},6018:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(1670),t);const i=n(1670);{const e=n(7714).R;(0,i.registerBackend)("webgl",e,-10)}{const e=n(4200).c8;(0,i.registerBackend)("cpu",e,10),(0,i.registerBackend)("wasm",e,10),(0,i.registerBackend)("xnnpack",e,9)}},246:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class n{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(e=>"".concat(this[e])).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=e=>new n(e)},7778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;const r=n(1446),o=n(9395),i=n(9162),a=n(2517);var s=o.onnxruntime.experimental.fbs;class u{constructor(e){if(this._attributes=new Map,null!=e){for(const t of e)t instanceof r.onnx.AttributeProto?this._attributes.set(t.name,[u.getValue(t),u.getType(t)]):t instanceof s.Attribute&&this._attributes.set(t.name(),[u.getValue(t),u.getType(t)]);if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}set(e,t,n){this._attributes.set(e,[n,t])}delete(e){this._attributes.delete(e)}getFloat(e,t){return this.get(e,"float",t)}getInt(e,t){return this.get(e,"int",t)}getString(e,t){return this.get(e,"string",t)}getTensor(e,t){return this.get(e,"tensor",t)}getFloats(e,t){return this.get(e,"floats",t)}getInts(e,t){return this.get(e,"ints",t)}getStrings(e,t){return this.get(e,"strings",t)}getTensors(e,t){return this.get(e,"tensors",t)}get(e,t,n){const r=this._attributes.get(e);if(void 0===r){if(void 0!==n)return n;throw new Error("required attribute not found: ".concat(e))}if(r[1]!==t)throw new Error("type mismatch: expected ".concat(t," but got ").concat(r[1]));return r[0]}static getType(e){const t=e instanceof r.onnx.AttributeProto?e.type:e.type();switch(t){case r.onnx.AttributeProto.AttributeType.FLOAT:return"float";case r.onnx.AttributeProto.AttributeType.INT:return"int";case r.onnx.AttributeProto.AttributeType.STRING:return"string";case r.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case r.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case r.onnx.AttributeProto.AttributeType.INTS:return"ints";case r.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case r.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error("attribute type is not supported yet: ".concat(r.onnx.AttributeProto.AttributeType[t]))}}static getValue(e){const t=e instanceof r.onnx.AttributeProto?e.type:e.type();if(t===r.onnx.AttributeProto.AttributeType.GRAPH||t===r.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const n=this.getValueNoCheck(e);if(t===r.onnx.AttributeProto.AttributeType.INT&&a.LongUtil.isLong(n))return a.LongUtil.longToNumber(n);if(t===r.onnx.AttributeProto.AttributeType.INTS){const e=n,t=new Array(e.length);for(let n=0;n<e.length;n++){const r=e[n];t[n]=a.LongUtil.longToNumber(r)}return t}if(t===r.onnx.AttributeProto.AttributeType.TENSOR)return e instanceof r.onnx.AttributeProto?i.Tensor.fromProto(n):i.Tensor.fromOrtTensor(n);if(t===r.onnx.AttributeProto.AttributeType.TENSORS){if(e instanceof r.onnx.AttributeProto)return n.map(e=>i.Tensor.fromProto(e));if(e instanceof s.Attribute)return n.map(e=>i.Tensor.fromOrtTensor(e))}if(t===r.onnx.AttributeProto.AttributeType.STRING&&e instanceof r.onnx.AttributeProto){const e=n;return(0,a.decodeUtf8String)(e)}return t===r.onnx.AttributeProto.AttributeType.STRINGS&&e instanceof r.onnx.AttributeProto?n.map(a.decodeUtf8String):n}static getValueNoCheck(e){return e instanceof r.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e)}static getValueNoCheckFromOnnxFormat(e){switch(e.type){case r.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case r.onnx.AttributeProto.AttributeType.INT:return e.i;case r.onnx.AttributeProto.AttributeType.STRING:return e.s;case r.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case r.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case r.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case r.onnx.AttributeProto.AttributeType.INTS:return e.ints;case r.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case r.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case r.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error("unsupported attribute type: ".concat(r.onnx.AttributeProto.AttributeType[e.type]))}}static getValueNoCheckFromOrtFormat(e){switch(e.type()){case s.AttributeType.FLOAT:return e.f();case s.AttributeType.INT:return e.i();case s.AttributeType.STRING:return e.s();case s.AttributeType.TENSOR:return e.t();case s.AttributeType.GRAPH:return e.g();case s.AttributeType.FLOATS:return e.floatsArray();case s.AttributeType.INTS:{const t=[];for(let n=0;n<e.intsLength();n++)t.push(e.ints(n));return t}case s.AttributeType.STRINGS:{const t=[];for(let n=0;n<e.stringsLength();n++)t.push(e.strings(n));return t}case s.AttributeType.TENSORS:{const t=[];for(let n=0;n<e.tensorsLength();n++)t.push(e.tensors(n));return t}default:throw new Error("unsupported attribute type: ".concat(s.AttributeType[e.type()]))}}}t.Attribute=u},7091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBackend=t.backend=void 0;const r=n(5038),o=new Map;async function i(e){const n=t.backend;if(void 0!==n[e]&&function(e){const t=e;return"initialize"in t&&"function"==typeof t.initialize&&"createSessionHandler"in t&&"function"==typeof t.createSessionHandler&&"dispose"in t&&"function"==typeof t.dispose}(n[e])){const t=n[e];let r=t.initialize();if("object"==typeof r&&"then"in r&&(r=await r),r)return o.set(e,t),t}}t.backend={webgl:new r.WebGLBackend},t.resolveBackend=async function e(t){if(!t)return e(["webgl"]);{const e="string"==typeof t?[t]:t;for(const t of e){const e=o.get(t);if(e)return e;const n=await i(t);if(n)return n}}throw new Error("no available backend to use")}},5038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBackend=void 0;const r=n(1670),o=n(6231),i=n(6416),a=n(7305);t.WebGLBackend=class{get contextId(){return r.env.webgl.contextId}set contextId(e){r.env.webgl.contextId=e}get matmulMaxBatchSize(){return r.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(e){r.env.webgl.matmulMaxBatchSize=e}get textureCacheMode(){return r.env.webgl.textureCacheMode}set textureCacheMode(e){r.env.webgl.textureCacheMode=e}get pack(){return r.env.webgl.pack}set pack(e){r.env.webgl.pack=e}get async(){return r.env.webgl.async}set async(e){r.env.webgl.async=e}initialize(){try{return this.glContext=(0,a.createWebGLContext)(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),o.Logger.setWithEnv(r.env),o.Logger.verbose("WebGLBackend","Created WebGLContext: ".concat(typeof this.glContext," with matmulMaxBatchSize: ").concat(this.matmulMaxBatchSize,"; textureCacheMode: ").concat(this.textureCacheMode,"; pack: ").concat(this.pack,"; async: ").concat(this.async,".")),!0}catch(e){return o.Logger.warning("WebGLBackend","Unable to initialize WebGLBackend. ".concat(e)),!1}}createSessionHandler(e){return new i.WebGLSessionHandler(this,e)}dispose(){this.glContext.dispose()}}},5107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsGlslLib=void 0;const r=n(2517),o=n(8520),i=n(5060),a=n(7859),s=n(9390);class u extends o.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new o.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new o.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){const e=this.context.outputTextureLayout;return e.isPacked?this.getPackedOutputSamplingSnippet(e):this.getUnpackedOutputSamplingSnippet(e)}getPackedOutputSamplingSnippet(e){const t=e.unpackedShape,n=[e.width,e.height],r={},a="getOutputCoords";switch(t.length){case 0:r[a]=this.getOutputScalarCoords();break;case 1:r[a]=this.getOutputPacked1DCoords(t,n);break;case 2:r[a]=this.getOutputPacked2DCoords(t,n);break;case 3:r[a]=this.getOutputPacked3DCoords(t,n);break;default:r[a]=this.getOutputPackedNDCoords(t,n)}const s="\n      void setOutput(vec4 val) {\n        ".concat((0,i.getGlsl)(this.context.glContext.version).output," = val;\n      }\n    ");return r.floatTextureSetRGBA=new o.GlslLibRoutine(s),r}getUnpackedOutputSamplingSnippet(e){const t=e.unpackedShape,n=[e.width,e.height],r={},a="getOutputCoords";switch(t.length){case 0:r[a]=this.getOutputScalarCoords();break;case 1:r[a]=this.getOutputUnpacked1DCoords(t,n);break;case 2:r[a]=this.getOutputUnpacked2DCoords(t,n);break;case 3:r[a]=this.getOutputUnpacked3DCoords(t,n);break;case 4:r[a]=this.getOutputUnpacked4DCoords(t,n);break;case 5:r[a]=this.getOutputUnpacked5DCoords(t,n);break;case 6:r[a]=this.getOutputUnpacked6DCoords(t,n);break;default:throw new Error("Unsupported output dimensionality: ".concat(t.length))}const s="\n        void setOutput(float val) {\n          ".concat((0,i.getGlsl)(this.context.glContext.version).output," = vec4(val, 0, 0, 0);\n        }\n    ");return r.floatTextureSetR=new o.GlslLibRoutine(s),r}getOutputScalarCoords(){return new o.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(e,t){const n=t;let r="";return 1===n[0]?(r="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ".concat(n[1],".0);\n          }\n        "),new o.GlslLibRoutine(r)):1===n[1]?(r="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ".concat(n[0],".0);\n          }\n        "),new o.GlslLibRoutine(r)):(r="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(".concat(n[0],", ").concat(n[1],"));\n          return 2 * (resTexRC.y * ").concat(n[0]," + resTexRC.x);\n        }\n      "),new o.GlslLibRoutine(r))}getOutputPacked2DCoords(e,t){let n="";if(r.ArrayUtil.arraysEqual(e,t))return n="\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(".concat(t[0],", ").concat(t[1],"));\n        }\n      "),new o.GlslLibRoutine(n);const i=t,a=Math.ceil(e[1]/2);return n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(i[0],", ").concat(i[1],"));\n\n          int index = resTexRC.y * ").concat(i[0]," + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ").concat(a,") * 2;\n          int c = 2 * (index / ").concat(a,");\n\n          return ivec2(r, c);\n        }\n      "),new o.GlslLibRoutine(n)}getOutputPacked3DCoords(e,t){const n=[t[0],t[1]],r=Math.ceil(e[2]/2),i=r*Math.ceil(e[1]/2),a="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(n[0],", ").concat(n[1],"));\n          int index = resTexRC.y * ").concat(n[0]," + resTexRC.x;\n\n          int b = index / ").concat(i,";\n          index -= b * ").concat(i,";\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ").concat(r,") * 2;\n          int c = 2 * (index / ").concat(r,");\n\n          return ivec3(b, r, c);\n        }\n      ");return new o.GlslLibRoutine(a)}getOutputPackedNDCoords(e,t){const n=[t[0],t[1]],r=Math.ceil(e[e.length-1]/2),i=r*Math.ceil(e[e.length-2]/2);let a=i,s="",u="b, r, c";for(let o=2;o<e.length-1;o++)a*=e[e.length-o-1],s="\n      int b".concat(o," = index / ").concat(a,";\n      index -= b").concat(o," * ").concat(a,";\n    ")+s,u="b".concat(o,", ")+u;const l="\n      ivec".concat(e.length," getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(").concat(n[0],", ").concat(n[1],"));\n        int index = resTexRC.y * ").concat(n[0]," + resTexRC.x;\n\n        ").concat(s,"\n\n        int b = index / ").concat(i,";\n        index -= b * ").concat(i,";\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ").concat(r,") * 2;\n        int c = 2 * (index / ").concat(r,");\n\n        return ivec").concat(e.length,"(").concat(u,");\n      }\n    ");return new o.GlslLibRoutine(l)}getOutputUnpacked1DCoords(e,t){const n="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          return resTexRC.y * ").concat(t[0]," + resTexRC.x;\n        }\n      ");return new o.GlslLibRoutine(n)}getOutputUnpacked2DCoords(e,t){const n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          int r = index / ").concat(e[1],";\n          int c = index - r * ").concat(e[1],";\n          return ivec2(r, c);\n        }\n      ");return new o.GlslLibRoutine(n)}getOutputUnpacked3DCoords(e,t){let n="";const r=e.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=e[r-1];for(let o=r-3;o>=0;--o)i[o]=i[o+1]*e[o+1];const a=["r","c","d"],s=i.map((e,t)=>"int ".concat(a[t]," = index / ").concat(e,"; ").concat(t===i.length-1?"int ".concat(a[t+1]," = index - ").concat(a[t]," * ").concat(e):"index -= ".concat(a[t]," * ").concat(e),";")).join("");return n="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(s,"\n          return ivec3(r, c, d);\n        }\n      "),new o.GlslLibRoutine(n)}getOutputUnpacked4DCoords(e,t){let n="";const r=e.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=e[r-1];for(let o=r-3;o>=0;--o)i[o]=i[o+1]*e[o+1];const a=["r","c","d","d2"],s=i.map((e,t)=>"int ".concat(a[t]," = index / ").concat(e,"; ").concat(t===i.length-1?"int ".concat(a[t+1]," = index - ").concat(a[t]," * ").concat(e):"index -= ".concat(a[t]," * ").concat(e),";")).join("");return n="\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(s,"\n          return ivec4(r, c, d, d2);\n        }\n      "),new o.GlslLibRoutine(n)}getOutputUnpacked5DCoords(e,t){let n="";const r=e.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=e[r-1];for(let o=r-3;o>=0;--o)i[o]=i[o+1]*e[o+1];const a=["r","c","d","d2","d3"],s=i.map((e,t)=>"int ".concat(a[t]," = index / ").concat(e,"; ").concat(t===i.length-1?"int ".concat(a[t+1]," = index - ").concat(a[t]," * ").concat(e):"index -= ".concat(a[t]," * ").concat(e),";")).join("");return n="\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(s,"\n          return ivec5(r, c, d, d2, d3);\n        }\n      "),new o.GlslLibRoutine(n)}getOutputUnpacked6DCoords(e,t){let n="";const r=e.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=e[r-1];for(let o=r-3;o>=0;--o)i[o]=i[o+1]*e[o+1];const a=["r","c","d","d2","d3","d4"],s=i.map((e,t)=>"int ".concat(a[t]," = index / ").concat(e,"; ").concat(t===i.length-1?"int ".concat(a[t+1]," = index - ").concat(a[t]," * ").concat(e):"index -= ".concat(a[t]," * ").concat(e),";")).join("");return n="\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n         int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n         ").concat(s,"\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     "),new o.GlslLibRoutine(n)}getCommonUtilFuncs(){const e={};let t="uvFromFlat";e[t]=new o.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),t="packedUVfrom1D",e[t]=new o.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom2D",e[t]=new o.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom3D",e[t]=new o.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="sampleTexture";const n=(0,i.getGlsl)(this.context.glContext.version);return e[t]=new o.GlslLibRoutine("\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ".concat(n.texture2D,"(textureSampler, uv).r;\n        }")),e}getInputsSamplingSnippets(){const e={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((n,r)=>{const o=this.context.inputTextureLayouts[r],i=(0,s.generateShaderFuncNameFromInputSamplerName)(n);o.isPacked?e[i]=this.getPackedSamplerFromInput(i,n,o):e[i]=this.getUnpackedSamplerFromInput(i,n,o);const a=(0,s.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(n);o.unpackedShape.length<=t.unpackedShape.length&&(o.isPacked?e[a]=this.getPackedSamplerAtOutputCoords(a,o,t,n):e[a]=this.getUnpackedSamplerAtOutputCoords(a,o,t,n))}),e}getPackedSamplerAtOutputCoords(e,t,n,i){const a=t.unpackedShape,u=n.unpackedShape,l=i,c=(0,s.generateShaderFuncNameFromInputSamplerName)(l),d=a.length,h=u.length,f=r.BroadcastUtil.getBroadcastDims(a,u),p=(0,s.getCoordsDataType)(h),m=h-d;let g;const y=(0,s.getGlChannels)();g=0===d?"":h<2&&f.length>=1?"coords = 0;":f.map(e=>"coords.".concat(y[e+m]," = 0;")).join("\n");let b="";b=h<2&&d>0?"coords":a.map((e,t)=>"coords.".concat(y[t+m])).join(", ");let v="return outputValue;";const _=1===r.ShapeUtil.size(a),w=1===r.ShapeUtil.size(u);if(1!==d||_||w){if(_&&!w)v=1===h?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(f.length){const e=d-2,t=d-1;f.indexOf(e)>-1&&f.indexOf(t)>-1?v="return vec4(outputValue.x);":f.indexOf(e)>-1?v="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":f.indexOf(t)>-1&&(v="return vec4(outputValue.xx, outputValue.zz);")}}else v="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";const x="\n      vec4 ".concat(e,"() {\n        ").concat(p," coords = getOutputCoords();\n        \n        int lastDim = coords.").concat(y[h-1],";\n        coords.").concat(y[h-1]," = coords.").concat(y[h-2],";\n        coords.").concat(y[h-2]," = lastDim;\n      \n        ").concat(g,"\n        vec4 outputValue = ").concat(c,"(").concat(b,");\n        ").concat(v,"\n      }\n    ");return new o.GlslLibRoutine(x,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(e,t,n,i){const a=[n.width,n.height],u=[t.width,t.height],l=t.unpackedShape.length,c=n.unpackedShape.length,d=t.unpackedShape,h=n.unpackedShape,f=(0,s.generateShaderFuncNameFromInputSamplerName)(i);if(l===c&&r.ArrayUtil.arraysEqual(u,a)){const t="\n          float ".concat(e,"() {\n            return sampleTexture(").concat(i,", TexCoords);\n          }\n        ");return new o.GlslLibRoutine(t,["coordinates.sampleTexture"])}const p=(0,s.getCoordsDataType)(c),m=r.BroadcastUtil.getBroadcastDims(d,h),g=c-l;let y;const b=(0,s.getGlChannels)();y=0===l?"":c<2&&m.length>=1?"coords = 0;":m.map(e=>"coords.".concat(b[e+g]," = 0;")).join("\n");let v="";v=c<2&&l>0?"coords":t.unpackedShape.map((e,t)=>"coords.".concat(b[t+g])).join(", ");const _="\n        float ".concat(e,"() {\n          ").concat(p," coords = getOutputCoords();\n          ").concat(y,"\n          return ").concat(f,"(").concat(v,");\n        }\n      ");return new o.GlslLibRoutine(_,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(e,t,n){switch(n.unpackedShape.length){case 0:return this.getPackedSamplerScalar(e,t);case 1:return this.getPackedSampler1D(e,t,n);case 2:return this.getPackedSampler2D(e,t,n);case 3:return this.getPackedSampler3D(e,t,n);default:return this.getPackedSamplerND(e,t,n)}}getUnpackedSamplerFromInput(e,t,n){const r=n.unpackedShape;switch(r.length){case 0:return this.getUnpackedSamplerScalar(e,t,n);case 1:return this.getUnpackedSampler1D(e,t,n);case 2:return this.getUnpackedSampler2D(e,t,n);case 3:return this.getUnpackedSampler3D(e,t,n);case 4:return this.getUnpackedSampler4D(e,t,n);case 5:return this.getUnpackedSampler5D(e,t,n);case 6:return this.getUnpackedSampler6D(e,t,n);default:throw new Error("Unsupported dimension ".concat(r.length,"-D"))}}getPackedSamplerScalar(e,t){const n="\n          vec4 ".concat(e,"() {\n            return ").concat((0,i.getGlsl)(this.context.glContext.version).texture2D,"(").concat(t,", halfCR);\n          }\n        ");return new o.GlslLibRoutine(n)}getPackedSampler1D(e,t,n){const r=[n.width,n.height],a=[r[1],r[0]],s=(0,i.getGlsl)(this.context.glContext.version),u="vec4 ".concat(e,"(int index) {\n      vec2 uv = packedUVfrom1D(\n      ").concat(a[0],", ").concat(a[1],", index);\n      return ").concat(s.texture2D,"(").concat(t,", uv);\n    }");return new o.GlslLibRoutine(u,["coordinates.packedUVfrom1D"])}getPackedSampler2D(e,t,n){const a=n.unpackedShape,s=[n.width,n.height],u=(0,i.getGlsl)(this.context.glContext.version),l=s[0],c=s[1];if(null!=s&&r.ArrayUtil.arraysEqual(a,s)){const n="vec4 ".concat(e,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(c,".0, ").concat(l,".0);\n        return ").concat(u.texture2D,"(").concat(t,", uv);\n      }");return new o.GlslLibRoutine(n)}const d=s,h=Math.ceil(a[1]/2),f="vec4 ".concat(e,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(d[1],", ").concat(d[0],", ").concat(h,", row, col);\n      return ").concat(u.texture2D,"(").concat(t,", uv);\n    }");return new o.GlslLibRoutine(f,["coordinates.packedUVfrom2D"])}getPackedSampler3D(e,t,n){const r=n.unpackedShape,a=[n.width,n.height],u=[a[0],a[1]],l=(0,i.getGlsl)(this.context.glContext.version);if(1===r[0]){const i=r.slice(1),a=[1,2],u=(0,s.squeezeInputShape)(r,i),l=["b","row","col"],c=JSON.parse(JSON.stringify(n));c.unpackedShape=u;const d=this.getPackedSamplerFromInput(e,t,c),h="".concat(d.routineBody,"\n      vec4 ").concat(e,"(int b, int row, int col) {\n        return ").concat(e,"(").concat((0,s.getSqueezedParams)(l,a),");\n      } ");return new o.GlslLibRoutine(h,d.dependencies)}const c=u[0],d=u[1],h=Math.ceil(r[2]/2),f="vec4 ".concat(e,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(d,", ").concat(c,", ").concat(h*Math.ceil(r[1]/2),", ").concat(h,", b, row, col);\n      return ").concat(l.texture2D,"(").concat(t,", uv);}");return new o.GlslLibRoutine(f,["coordinates.packedUVfrom3D"])}getPackedSamplerND(e,t,n){const r=n.unpackedShape,a=r.length,s=[n.width,n.height],u=(0,i.getGlsl)(this.context.glContext.version),l=[s[0],s[1]],c=l[1],d=l[0],h=Math.ceil(r[a-1]/2);let f=h*Math.ceil(r[a-2]/2),p="int b, int row, int col",m="b * ".concat(f," + (row / 2) * ").concat(h," + (col / 2)");for(let o=2;o<a-1;o++)p="int b".concat(o,", ")+p,f*=r[a-o-1],m="b".concat(o," * ").concat(f," + ")+m;const g="vec4 ".concat(e,"(").concat(p,") {\n      int index = ").concat(m,";\n      int texR = index / ").concat(d,";\n      int texC = index - texR * ").concat(d,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(d,", ").concat(c,");\n      return ").concat(u.texture2D,"(").concat(t,", uv);\n    }");return new o.GlslLibRoutine(g)}getUnpackedSamplerScalar(e,t,n){const[r,i]=[n.width,n.height];if(1===r&&1===i){const n="\n          float ".concat(e,"() {\n            return sampleTexture(").concat(t,", halfCR);\n          }\n        ");return new o.GlslLibRoutine(n,["coordinates.sampleTexture"])}const a="\n        float ".concat(e,"() {\n          int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(r,", ").concat(i,");\n          vec2 uv = uvFromFlat(").concat(r,", ").concat(i,", offset_").concat(t,");\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new o.GlslLibRoutine(a,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(e,t,n){const r=n.width,i=n.height;if(1===i&&1===r){const n="\n        float ".concat(e,"(int index) {\n          return sampleTexture(").concat(t,", halfCR);\n        }\n      ");return new o.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===i){const n="\n          float ".concat(e,"(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ").concat(r,".0, 0.5);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new o.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===r){const n="\n          float ".concat(e,"(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ").concat(i,".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new o.GlslLibRoutine(n,["coordinates.sampleTexture"])}const a="\n        float ".concat(e,"(int index) {\n          vec2 uv = uvFromFlat(").concat(r,", ").concat(i,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new o.GlslLibRoutine(a,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(e,t,n){const i=n.unpackedShape,u=[n.height,n.width];if(null!=u&&r.ArrayUtil.arraysEqual(i,u)){const n="\n          float ".concat(e,"(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(").concat(u[1],".0, ").concat(u[0],".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new o.GlslLibRoutine(n,["coordinates.sampleTexture"])}const{newShape:l,keptDims:c}=(0,a.squeezeShape)(i),d=l;if(d.length<i.length){const r=(0,s.squeezeInputShape)(i,d),a=JSON.parse(JSON.stringify(n));a.unpackedShape=r;const u=["col","row"],l="\n          ".concat(this.getUnpackedSamplerFromInput(e,t,a).routineBody,"\n          float ").concat(e,"(int row, int col) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(u,c),");\n          }\n        ");return new o.GlslLibRoutine(l,["coordinates.sampleTexture"])}const h=u[1],f=u[0];if(1===f){const n="\n          float ".concat(e,"(int row, int col) {\n            int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(h,", ").concat(f,");\n            float index = dot(vec3(row, col, offset_").concat(t,"), vec3(").concat(i[1],", 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ").concat(h,".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new o.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===h){const n="\n          float ".concat(e,"(int row, int col) {\n            int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(h,", ").concat(f,");\n            float index = dot(vec3(row, col, offset_").concat(t,"), vec3(").concat(i[1],", 1, 1));\n            vec2 uv = vec2((index + 0.5) / ").concat(f,".0, 0.5);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new o.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const p="\n        float ".concat(e,"(int row, int col) {\n          int index = col * ").concat(i[1]," + row;\n          vec2 uv = uvFromFlat(").concat(h,", ").concat(f,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new o.GlslLibRoutine(p,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(e,t,n){const r=n.unpackedShape,i=r[1]*r[2],u=r[2],{newShape:l,keptDims:c}=(0,a.squeezeShape)(r),d=l;if(d.length<r.length){const i=(0,s.squeezeInputShape)(r,d),a=["batch","col","row"],u=JSON.parse(JSON.stringify(n));u.unpackedShape=i;const l=this.getUnpackedSamplerFromInput(e,t,u),h=c.reverse(),f="\n          ".concat(l.routineBody,"\n          float ").concat(e,"(int batch, int row, int col) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(a,h),");\n          }\n        ");return new o.GlslLibRoutine(f,l.dependencies)}const h="\n          float ".concat(e,"(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ").concat(i," + col * ").concat(u," + row;\n            vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n            return sampleTexture(").concat(t,", uv);\n          }\n      ");return new o.GlslLibRoutine(h,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(e,t,n){const r=n.unpackedShape,i=r[3],a=r[2]*i,s="\n        float ".concat(e,"(int row, int col, int depth, int depth2) {\n          int index = row * ").concat(r[1]*a," + col * ").concat(a," +\n              depth2 * ").concat(i," + depth;\n          vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new o.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(e,t,n){const r=n.unpackedShape,i=r[4],u=r[3]*i,l=r[2]*u,c=r[1]*l,{newShape:d,keptDims:h}=(0,a.squeezeShape)(r);if(d.length<r.length){const i=(0,s.squeezeInputShape)(r,d),a=["row","col","depth","depth2","depth3"],u=JSON.parse(JSON.stringify(n));u.unpackedShape=i;const l="\n          ".concat(this.getUnpackedSamplerFromInput(e,t,u).routineBody,"\n          float ").concat(e,"(int row, int col, int depth, int depth2, int depth3) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(a,h),");\n          }\n        ");return new o.GlslLibRoutine(l,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const f="\n        float ".concat(e,"(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ").concat(c," + col * ").concat(l," + depth * ").concat(u," +\n          depth3 * ").concat(i," + depth2;\n          vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new o.GlslLibRoutine(f,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(e,t,n){const r=n.unpackedShape,i=r[5],u=r[4]*i,l=r[3]*u,c=r[2]*l,d=r[1]*c,{newShape:h,keptDims:f}=(0,a.squeezeShape)(r);if(h.length<r.length){const i=(0,s.squeezeInputShape)(r,h),a=["row","col","depth","depth2","depth3","depth4"],u=JSON.parse(JSON.stringify(n));u.unpackedShape=i;const l="\n            ".concat(this.getUnpackedSamplerFromInput(e,t,u).routineBody,"\n            float ").concat(e,"(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ").concat(e,"(").concat((0,s.getSqueezedParams)(a,f),");\n            }\n          ");return new o.GlslLibRoutine(l,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const p="\n          float ".concat(e,"(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ").concat(d," + col * ").concat(c," + depth * ").concat(l," +\n            depth2 * ").concat(u," + depth3 * ").concat(i," + depth4;\n            vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new o.GlslLibRoutine(p,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const e=this.context.outputTextureLayout,t=e.shape.length,n=e.strides,r=e.width,i=e.height,a=[];for(let o=0;o<t-1;++o)a.push("\n        c[".concat(o,"] = offset / ").concat(n[o],";")),a.push("\n        offset -= c[".concat(o,"] * ").concat(n[o],";"));a.push("\n        c[".concat(t-1,"] = offset;"));const s="\n      void toVec(vec2 texCoords, out int c[".concat(t,"]) {\n        int offset = coordsToOffset(texCoords, ").concat(r,", ").concat(i,");\n        ").concat(a.join(""),"\n      }\n      void toVec(int offset, out int c[").concat(t,"]) {\n        ").concat(a.join(""),"\n      }\n    ");return{toVec:new o.GlslLibRoutine(s,["coordinates.coordsToOffset"])}}valueFrom(){const e={};return this.context.programInfo.inputNames.forEach((t,n)=>{const r=this.context.inputTextureLayouts[n],i=(r.unpackedShape.length>0?r.unpackedShape:r.shape).length;let a="_".concat(t);e[a]=new o.GlslLibRoutine(this.getValueFromSingle(t,i,r.width,r.height,!1),["shapeUtils.indicesToOffset".concat(a),"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),a+="_T",e[a]=new o.GlslLibRoutine(this.getValueFromSingle(t,i,r.width,r.height,!0),["shapeUtils.indicesToOffset".concat(a),"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),e}getValueFromSingle(e,t,n,r,o){let a="_".concat(e);return o&&(a+="_T"),"\n        float ".concat(a,"(int m[").concat(t,"]) {\n          int offset = indicesToOffset").concat(a,"(m);\n          vec2 coords = offsetToCoords(offset, ").concat(n,", ").concat(r,");\n          float value = getColorAsFloat(").concat((0,i.getGlsl)(this.context.glContext.version).texture2D,"(").concat(e,", coords));\n          return value;\n        }\n        ")}getPackedValueFrom(e,t,n,r,o){let a="_".concat(e,"_Pack");return o&&(a+="_T"),"\n        vec4 ".concat(a,"(int m[").concat(t,"]) {\n          int offset = indicesToOffset_").concat(e,"(m);\n          vec2 coords = offsetToCoords(offset, ").concat(n,", ").concat(r,");\n          return ").concat((0,i.getGlsl)(this.context.glContext.version).texture2D,"(").concat(e,", coords);\n        }\n        ")}}t.CoordsGlslLib=u},8520:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TopologicalSortGlslRoutines=t.GlslLibRoutineNode=t.GlslLibRoutine=t.GlslLib=t.GlslContext=t.FunctionType=void 0,(n=t.FunctionType||(t.FunctionType={}))[n.ValueBased=0]="ValueBased",n[n.Positional=1]="Positional",t.GlslContext=class{constructor(e,t,n,r){this.glContext=e,this.programInfo=t,this.inputTextureLayouts=n,this.outputTextureLayout=r}},t.GlslLib=class{constructor(e){this.context=e}},t.GlslLibRoutine=class{constructor(e,t){this.routineBody=e,this.dependencies=t}},t.GlslLibRoutineNode=class{constructor(e,t,n){this.name=e,this.dependencies=n||[],t&&(this.routineBody=t)}addDependency(e){e&&this.dependencies.push(e)}},t.TopologicalSortGlslRoutines=class{static returnOrderedNodes(e){if(!e||0===e.length)return[];if(1===e.length)return e;const t=new Set,n=new Set,r=new Array;return this.createOrderedNodes(e,t,n,r),r}static createOrderedNodes(e,t,n,r){for(let o=0;o<e.length;++o)this.dfsTraverse(e[o],t,n,r)}static dfsTraverse(e,t,n,r){if(!e||n.has(e.name))return;if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);const o=e.dependencies;if(o&&o.length>0)for(let i=0;i<o.length;++i)this.dfsTraverse(o[i],t,n,r);r.push(e),n.add(e.name),t.delete(e.name)}}},7341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingGlslLib=void 0;const r=n(8520);class o extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new r.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new r.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){const e=o.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new r.GlslLibRoutine("\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ".concat(e,"\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        "))}}decodeUint8(){const e=o.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new r.GlslLibRoutine("\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ".concat(e,"\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        "))}}static isLittleEndian(){const e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness")}}t.EncodingGlslLib=o},9894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FragColorGlslLib=void 0;const r=n(8520),o=n(5060);class i extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const e=(0,o.getGlsl)(this.context.glContext.version);return{setFragColor:new r.GlslLibRoutine("\n        void setFragColor(float value) {\n            ".concat(e.output," = encode(value);\n        }\n        "),["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new r.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}t.FragColorGlslLib=i},2848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInlines=void 0;const n=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;t.replaceInlines=function(e){const t={};let r;for(;null!==(r=n.exec(e));){const e=r[3].split(",").map(e=>{const t=e.trim().split(" ");return t&&2===t.length?{type:t[0],name:t[1]}:null}).filter(e=>null!==e);t[r[2]]={params:e,body:r[4]}}for(const n in t){const o="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",n),i=new RegExp(o,"gm");for(;null!==(r=i.exec(e));){const o=r[1],i=r[2],a=r[3].split(","),s=o?"".concat(o," ").concat(i,";"):"";let u=t[n].body,l="";t[n].params.forEach((e,t)=>{e&&(l+="".concat(e.type," ").concat(e.name," = ").concat(a[t],";\n"))}),u="".concat(l,"\n ").concat(u),u=u.replace("return","".concat(i," = "));const c="\n      ".concat(s,"\n      {\n        ").concat(u,"\n      }\n      ");e=e.replace(r[0],c)}}return e.replace(n,"")}},8879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlslPreprocessor=void 0;const r=n(8520),o=n(2848),i=n(5483),a=n(5060);t.GlslPreprocessor=class{constructor(e,t,n,o){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new r.GlslContext(e,t,n,o),Object.keys(i.glslRegistry).forEach(e=>{const t=new i.glslRegistry[e](this.context);this.libs[e]=t});const a=this.glslLibRoutineDependencyGraph;for(const i in this.libs){const e=this.libs[i].getFunctions();for(const t in e){const n=i+"."+t;let o;a[n]?(o=a[n],o.routineBody=e[t].routineBody):(o=new r.GlslLibRoutineNode(n,e[t].routineBody),a[n]=o);const s=e[t].dependencies;if(s)for(let e=0;e<s.length;++e)if(a[s[e]])o.addDependency(a[s[e]]);else{const t=new r.GlslLibRoutineNode(s[e]);a[s[e]]=t,o.addDependency(t)}}}}preprocess(){const e=this.context.programInfo;let t=e.shaderSource;return this.context.programInfo.hasMain||(t="".concat(t,"\n      ").concat((0,a.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length))),t=(0,o.replaceInlines)(t),"".concat((0,a.getFragShaderPreamble)(this.context.glContext.version),"\n    ").concat(this.getUniforms(e.inputNames,e.variables),"\n    ").concat(this.getImports(t),"\n    ").concat(t)}getImports(e){const t=this.selectGlslLibRoutinesToBeIncluded(e);if(0===t.length)return"";let n="";for(let r=0;r<t.length;++r){if(!t[r].routineBody)throw new Error("Missing body for the Glsl Library routine: ".concat(t[r].name));n+=t[r].routineBody+"\n"}return n}selectGlslLibRoutinesToBeIncluded(e){const t=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(n=>{const r=n.split(".")[1];-1!==e.indexOf(r)&&t.push(this.glslLibRoutineDependencyGraph[n])}),r.TopologicalSortGlslRoutines.returnOrderedNodes(t)}getUniforms(e,t){const n=[];if(e)for(const r of e)n.push("uniform sampler2D ".concat(r,";"));if(t)for(const r of t)n.push("uniform ".concat(r.type," ").concat(r.name).concat(r.arrayLength?"[".concat(r.arrayLength,"]"):"",";"));return n.join("\n")}}},5483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glslRegistry=void 0;const r=n(5107),o=n(7341),i=n(9894),a=n(2655),s=n(3891);t.glslRegistry={encoding:o.EncodingGlslLib,fragcolor:i.FragColorGlslLib,vec:s.VecGlslLib,shapeUtils:a.ShapeUtilsGlslLib,coordinates:r.CoordsGlslLib}},2655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeUtilsGlslLib=void 0;const r=n(8520);class o extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach((n,o)=>{const i=this.context.inputTextureLayouts[o].unpackedShape;if(i.length<=e){const o=i.length,a=e-o,s="bcastIndices_".concat(n);let u="";for(let e=0;e<o;++e)u+="\n          realIndices[".concat(e,"] = int( mod(float(bcastedIndices[").concat(a+e,"]), ").concat(i[e],".0) );\n          ");const l="\n        void ".concat(s," (int bcastedIndices[").concat(e,"], out int realIndices[").concat(o,"]) {\n          ").concat(u,"\n        }\n        ");t[s]=new r.GlslLibRoutine(l)}}),t}bcastMatmulIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach((n,o)=>{const i=this.context.inputTextureLayouts[o].shape;if(!(i.length<2||i.length>e)){const o=i.length,a=e-o,s="bcastMatmulIndices_".concat(n);let u="";for(let e=0;e<o-2;++e)u+="\n          realIndices[".concat(e,"] = int( mod(float(bcastedIndices[").concat(a+e,"]), ").concat(i[e],".0) );\n          ");const l="\n        void ".concat(s,"(int bcastedIndices[").concat(e,"], out int realIndices[").concat(o,"]) {\n          ").concat(u,"\n          realIndices[").concat(o-1,"] = bcastedIndices[").concat(e-1,"];\n          realIndices[").concat(o-2,"] = bcastedIndices[").concat(e-2,"];\n        }\n        ");t[s]=new r.GlslLibRoutine(l)}}),t}indicesToOffset(){const e={};return this.context.programInfo.inputNames.forEach((t,n)=>{const i=this.context.inputTextureLayouts[n].shape,a=this.context.inputTextureLayouts[n].strides,s=i.length;let u="indicesToOffset_".concat(t);e[u]=new r.GlslLibRoutine(o.indexToOffsetSingle(u,s,a)),u="indicesToOffset_".concat(t,"_T"),e[u]=new r.GlslLibRoutine(o.indexToOffsetSingle(u,s,a.slice().reverse()))}),e}static indexToOffsetSingle(e,t,n){let r="";for(let o=t-1;o>=0;--o)r+="\n        offset += indices[".concat(o,"] * ").concat(n[o],";\n        ");return"\n      int ".concat(e,"(int indices[").concat(t,"]) {\n        int offset = 0;\n        ").concat(r,"\n        return offset;\n      }\n      ")}offsetToIndices(){const e={};return this.context.programInfo.inputNames.forEach((t,n)=>{const i=this.context.inputTextureLayouts[n].shape,a=this.context.inputTextureLayouts[n].strides,s=i.length;let u="offsetToIndices_".concat(t);e[u]=new r.GlslLibRoutine(o.offsetToIndicesSingle(u,s,a)),u="offsetToIndices_".concat(t,"_T"),e[u]=new r.GlslLibRoutine(o.offsetToIndicesSingle(u,s,a.slice().reverse()))}),e}static offsetToIndicesSingle(e,t,n){const r=[];for(let o=0;o<t-1;++o)r.push("\n      indices[".concat(o,"] = offset / ").concat(n[o],";")),r.push("\n        offset -= indices[".concat(o,"] * ").concat(n[o],";"));return r.push("\n      indices[".concat(t-1,"] = offset;")),"\n      void ".concat(e,"(int offset, out int indices[").concat(t,"]) {\n        ").concat(r.join(""),"\n      }\n      ")}incrementIndices(){const e={};return this.context.programInfo.inputNames.forEach((t,n)=>{const o=this.context.inputTextureLayouts[n].shape,i=o.length,a="incrementIndices_".concat(t);let s="";for(let e=0;e<i;++e)s+="\n        shape[".concat(e,"] = ").concat(o[e],";");const u="\n        void ".concat(a,"(int axis, out int indices[").concat(i,"]) {\n          int shape[").concat(i,"];\n          ").concat(s,";\n          for(int i = ").concat(i," -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        ");e[a]=new r.GlslLibRoutine(u)}),e}}t.ShapeUtilsGlslLib=o},5060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFragShaderMain=t.getFragShaderPreamble=t.getVertexShaderSource=t.getGlsl=void 0;const n={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},r={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function o(e){return 1===e?n:r}t.getGlsl=o,t.getVertexShaderSource=function(e){const t=o(e);return"".concat(t.version,"\n      precision highp float;\n      ").concat(t.attribute," vec3 position;\n      ").concat(t.attribute," vec2 textureCoord;\n\n      ").concat(t.varyingVertex," vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }")},t.getFragShaderPreamble=function(e){const t=o(e);return"".concat(t.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(t.varyingFrag," vec2 TexCoords;\n    ").concat(t.outputDeclaration,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    ")},t.getDefaultFragShaderMain=function(e,t){return"\n  void main() {\n    int indices[".concat(t,"];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ").concat(o(e).output," = result;\n  }\n  ")}},3891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VecGlslLib=void 0;const r=n(8520);class o extends r.GlslLib{constructor(e){super(e)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const e=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(const o in t){const i="".concat(o,"Vec");let a="";for(let n=0;n<e;++n)a+="\n          dest[".concat(n,"] ").concat(t[o]," src[").concat(n,"];\n          ");const s="\n        void ".concat(i,"(int src[").concat(e,"], out int dest[").concat(e,"]) {\n          ").concat(a,"\n        }\n        ");n[i]=new r.GlslLibRoutine(s)}return n}copyVec(){const e=this.context.outputTextureLayout.shape.length;let t="";for(let r=0;r<e;++r)t+="\n        dest[".concat(r,"] = src[").concat(r,"];\n        ");const n="\n      void copyVec(int src[".concat(e,"], out int dest[").concat(e,"]) {\n        ").concat(t,"\n      }\n      ");return{copyVec:new r.GlslLibRoutine(n)}}setVecItem(){const e=this.context.outputTextureLayout.shape.length;let t="\n        if(index < 0)\n            index =".concat(e," + index;\n        if (index == 0)\n            m[0] = value;\n        ");for(let r=1;r<e-1;++r)t+="\n        else if (index == ".concat(r,")\n            m[").concat(r,"] = value;\n            ");t+="\n        else\n            m[".concat(e-1,"] = value;\n        ");const n="\n      void setVecItem(out int m[".concat(e,"], int index, int value) {\n        ").concat(t,"\n      }\n        ");return{setVecItem:new r.GlslLibRoutine(n)}}getVecItem(){const e=this.context.outputTextureLayout.shape.length;let t="\n        if(index < 0)\n            index = ".concat(e," + index;\n        if (index == 0)\n            return m[0];\n      ");for(let r=1;r<e-1;++r)t+="\n        else if (index == ".concat(r,")\n            return m[").concat(r,"];\n      ");t+="\n        else\n            return m[".concat(e-1,"];\n        ");const n="\n      int getVecItem(int m[".concat(e,"], int index) {\n        ").concat(t,"\n      }\n    ");return{getVecItem:new r.GlslLibRoutine(n)}}}t.VecGlslLib=o},8316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInferenceHandler=void 0;const r=n(6231),o=n(9162),i=n(2517),a=n(2403),s=n(7019),u=n(8710),l=n(5611),c=n(4057),d=n(2039);t.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,t){return(0,c.calculateTextureWidthAndHeight)(this.session.layoutStrategy,e,t)}executeProgram(e,t){if(t.length<e.inputNames.length)throw new Error("Input size mustn't be less than ".concat(e.inputNames.length,"."));if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");const n=[];for(let u=0;u<e.inputNames.length;++u)n[u]=this.getOrCreateTextureData(t[u],e.inputTypes[u]);const r=((e,t)=>{const n=t.map(e=>"".concat(e.unpackedShape.join(","),";").concat(e.width,"x").concat(e.height)).join("_");let r=e.name;return e.cacheHint&&(r+="["+e.cacheHint+"]"),r+=":"+n,r})(e,n);let o=this.session.programManager.getArtifact(r);const i=o?o.programInfo:"function"==typeof e.get?e.get():e,a=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,i.output.dims,i.output.textureType),s=this.createTextureData(a,i.output.type);return o||(o=this.session.programManager.build(i,n,s),this.session.programManager.setArtifact(r,o)),this.runProgram(o,n,s),s}run(e,t){return this.executeProgram(e,t).tensor}runProgram(e,t,n){for(let r=0;r<t.length;++r)if(!!t[r].isPacked!=(e.programInfo.inputTypes[r]===d.TextureType.packed))throw new Error("input[".concat(r,"] property packed inconsistent"));if(!!n.isPacked!=(e.programInfo.output.textureType===d.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,t,n)}getOrCreateTextureData(e,t){let n=this.getTextureData(e.dataId,t===d.TextureType.packed);if(!n&&(n=this.getTextureData(e.dataId,t!==d.TextureType.packed),n))return t===d.TextureType.packed?this.pack(n):this.unpack(n);if(!n){const r=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,e.dims,t);if(t===d.TextureType.packedLastDimension){const n=1,r=4,o=e.dims;if(4===o.length){const i=[o[0],Math.ceil(o[1]*o[2]*o[3]/r)],a=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,i,t);let s=e.numberData;if(o[1]*o[2]*o[3]%r!=0){const t=o[0],i=o[1]*o[2]*o[3],a=Math.ceil(i*n/r)*r;s=new Float32Array(t*a);for(let r=0;r<t;++r){const t=r*i,o=r*a+r%n*i;s.set(e.numberData.subarray(t,t+i),o)}}return this.createTextureData(a,e.type,s,e,1)}}if(t===d.TextureType.packed){const t=(0,c.createTextureLayoutFromShape)(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),r=this.createTextureData(t,e.type,e.numberData,e,1);n=this.pack(r)}else n=this.createTextureData(r,e.type,e.numberData,e,1)}return n}createTextureDataFromLayoutBindTensor(e,t,n,r){return this.createTextureData(e,t,n,r,1)}createTextureData(e,t,n,o,i){r.Logger.verbose("InferenceHandler","Creating TextureData: layout:[".concat(JSON.stringify(e),"]"));const a=this.session.textureManager.createTextureFromLayout(t,e,n,i);return this.createTextureDataFromTexture(e,t,a,o)}reshapeUnpacked(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.unpacked),r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:i.ShapeUtil.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}reshapePacked(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.packed);if((0,s.isReshapeCheap)(e.dims,t)){const r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:i.ShapeUtil.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}const r=(0,s.processDims3D)(e.dims),o=(0,s.processDims3D)(t),a=this.reshapePacked(e,r),u=this.run((0,s.createPackedReshape3DProgramInfoLoader)(this,a,o),[a]);return this.reshapePacked(u,t)}cast(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.unpacked);return this.createTextureDataFromTexture(n,t,n.texture).tensor}createTextureDataFromTexture(e,t,n,r,i){const a=Object.assign(Object.assign({},e),{tensor:r||new o.Tensor(e.unpackedShape,t,e=>this.readTexture(a),async e=>this.readTextureAsync(a),void 0,i),texture:n});return this.setTextureData(a.tensor.dataId,a,e.isPacked),a}getTextureData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.session.isInitializer(e)?this.session.getTextureData(e,t):t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.session.isInitializer(e)?this.session.setTextureData(e,t,n):(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}isTextureLayoutCached(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!this.getTextureData(e.dataId,t)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,u.encodeAsUint8)(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,u.encodeAsUint8)(this,e))}pack(e){return this.executeProgram((0,a.createPackProgramInfoLoader)(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram((0,l.createUnpackProgramInfoLoader)(this,e.tensor),[e.tensor])}}},1640:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGL_OP_RESOLVE_RULES=void 0;const a=n(2898),s=i(n(7839)),u=n(4196),l=n(2069),c=n(8138),d=n(9663),h=n(5193),f=n(7992),p=n(1253),m=n(4776),g=n(6572),y=n(3346),b=n(5623),v=n(2870),_=n(2143),w=n(4939),x=n(718),D=n(2268),E=n(8117),S=n(2278),T=n(5524),A=n(5975),k=n(3933),F=n(6558),C=n(5723),O=n(3738),P=i(n(4909)),I=n(8428),M=n(9793);t.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",P.abs],["Acos","","7+",P.acos],["Add","","7+",s.add],["And","","7+",s.and],["Asin","","7+",P.asin],["Atan","","7+",P.atan],["AveragePool","","7+",_.averagePool,_.parseAveragePoolAttributes],["BatchNormalization","","7+",a.batchNormalization,a.parseBatchNormalizationAttributes],["Cast","","6+",u.cast,u.parseCastAttributes],["Ceil","","6+",P.ceil],["Clip","","6-10",P.clip,P.parseClipAttributes],["Clip","","11+",P.clipV11],["Concat","","4+",l.concat,l.parseConcatAttributes],["Conv","","1+",c.conv,c.parseConvAttributes],["ConvTranspose","","1+",d.convTranspose,d.parseConvTransposeAttributes],["Cos","","7+",P.cos],["Div","","7+",s.div],["Dropout","","7+",P.identity],["DepthToSpace","","1+",h.depthToSpace,h.parseDepthToSpaceAttributes],["Equal","","7+",s.equal],["Elu","","6+",P.elu,P.parseEluAttributes],["Exp","","6+",P.exp],["Flatten","","1+",f.flatten,f.parseFlattenAttributes],["Floor","","6+",P.floor],["FusedConv","com.microsoft","1+",c.conv,c.parseConvAttributes],["Gather","","1+",p.gather,p.parseGatherAttributes],["Gemm","","7-10",m.gemm,m.parseGemmAttributesV7],["Gemm","","11+",m.gemm,m.parseGemmAttributesV11],["GlobalAveragePool","","1+",_.globalAveragePool,_.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",_.globalMaxPool],["Greater","","7+",s.greater],["Identity","","1+",P.identity],["ImageScaler","","1+",g.imageScaler,g.parseImageScalerAttributes],["InstanceNormalization","","6+",y.instanceNormalization,y.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",P.leakyRelu,P.parseLeakyReluAttributes],["Less","","7+",s.less],["Log","","6+",P.log],["MatMul","","1+",b.matMul,b.parseMatMulAttributes],["MaxPool","","1+",_.maxPool,_.parseMaxPoolAttributes],["Mul","","7+",s.mul],["Neg","","6+",P.neg],["Not","","1+",P.not],["Or","","7+",s.or],["Pad","","2-10",v.padV2,v.parsePadAttributesV2],["Pad","","11+",v.padV11,v.parsePadAttributesV11],["Pow","","7+",s.pow],["PRelu","","7+",s.pRelu],["ReduceLogSum","","1+",w.reduceLogSum,w.parseReduceAttributes],["ReduceMax","","1+",w.reduceMax,w.parseReduceAttributes],["ReduceMean","","1+",w.reduceMean,w.parseReduceAttributes],["ReduceMin","","1+",w.reduceMin,w.parseReduceAttributes],["ReduceProd","","1+",w.reduceProd,w.parseReduceAttributes],["ReduceSum","","1-12",w.reduceSum,w.parseReduceAttributes],["ReduceSumSquare","","1+",w.reduceLogSumSquare,w.parseReduceAttributes],["Relu","","6+",P.relu],["Reshape","","5+",x.reshape],["Resize","","10",D.resize,D.parseResizeAttributesV10],["Resize","","11+",D.resize,D.parseResizeAttributesV11],["Shape","","1+",E.shape],["Sigmoid","","6+",P.sigmoid],["Sin","","7+",P.sin],["Slice","","10+",S.sliceV10],["Slice","","1-9",S.slice,S.parseSliceAttributes],["Softmax","","1-12",T.softmax,T.parseSoftmaxAttributes],["Softmax","","13+",T.softmaxV13,T.parseSoftmaxAttributesV13],["Split","","2-12",A.split,A.parseSplitAttributes],["Sqrt","","6+",P.sqrt],["Squeeze","","1-12",k.squeeze,k.parseSqueezeAttributes],["Squeeze","","13+",k.squeezeV13],["Sub","","7+",s.sub],["Sum","","6+",F.sum],["Tan","","7+",P.tan],["Tanh","","6+",P.tanh],["Tile","","6+",C.tile],["Transpose","","1+",O.transpose,O.parseTransposeAttributes],["Upsample","","7-8",M.upsample,M.parseUpsampleAttributesV7],["Upsample","","9",M.upsample,M.parseUpsampleAttributesV9],["Unsqueeze","","1-12",I.unsqueeze,I.parseUnsqueezeAttributes],["Unsqueeze","","13+",I.unsqueezeV13],["Xor","","7+",s.xor]]},2898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchNormalizationAttributes=t.batchNormalization=void 0;const r=n(246),o=n(5060),i=n(2039),a={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]};t.batchNormalization=(e,t,n)=>(u(t),[e.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:()=>s(e,t,n)}),t)]),t.parseBatchNormalizationAttributes=e=>{const t=e.attributes.getFloat("epsilon",1e-5),n=e.attributes.getFloat("momentum",.9),o=e.attributes.getInt("spatial",1);return(0,r.createAttributeWithCacheKey)({epsilon:t,momentum:n,spatial:o})};const s=(e,t,n)=>{const r=(0,o.getGlsl)(e.session.backend.glContext.version),s=t[0].dims.length,[u,l]=e.calculateTextureWidthAndHeight(t[1].dims,i.TextureType.unpacked),c="\n  float process(int[".concat(s,"] indices) {\n    vec2 position = offsetToCoords(indices[1], ").concat(u,", ").concat(l,");\n    float scale = getColorAsFloat(").concat(r.texture2D,"(Scale, position));\n    float mean = getColorAsFloat(").concat(r.texture2D,"(Mean, position));\n    float variance = getColorAsFloat(").concat(r.texture2D,"(Variance, position));\n    float b = getColorAsFloat(").concat(r.texture2D,"(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(").concat(n.epsilon,")) ) + b;\n  }");return Object.assign(Object.assign({},a),{output:{dims:t[0].dims,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:c})},u=e=>{if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs.");const t=e[0],n=e[1],r=e[2],o=e[3],i=e[4];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==o.dims.length||1!==i.dims.length)throw new Error("invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||o.dims[0]!==t.dims[1]||i.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==i.type&&"float64"!==i.type)throw new Error("invalid input tensor types.")}},7839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xor=t.sub=t.pRelu=t.pow=t.or=t.mul=t.less=t.greater=t.equal=t.div=t.and=t.add=t.glslPRelu=t.glslPow=t.glslXor=t.glslOr=t.glslAnd=t.glslLess=t.glslGreater=t.glslEqual=t.glslSub=t.glslMul=t.glslDiv=t.glslAdd=void 0;const r=n(2517),o=n(8520),i=n(5060),a=n(2039);function s(){const e="add_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a + b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}function u(){const e="div_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a / b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}function l(){const e="mul_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a * b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}function c(){const e="sub_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a - b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}function d(){const e="equal_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}function h(){const e="greater_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}function f(){const e="less_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}function p(){const e="and_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}function m(){const e="or_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}function g(){const e="xor_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}function y(){return function(e){const t="".concat(e,"_");return{body:"\n  float ".concat(t,"(float a, float b) {\n    return ").concat(e,"(a, b);\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return ").concat(e,"(v1, v2);\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}("pow")}function b(){const e="prelu_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}t.glslAdd=s,t.glslDiv=u,t.glslMul=l,t.glslSub=c,t.glslEqual=d,t.glslGreater=h,t.glslLess=f,t.glslAnd=p,t.glslOr=m,t.glslXor=g,t.glslPow=y,t.glslPRelu=b;const v=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t[0].type,o=arguments.length>4?arguments[4]:void 0;const i=e.session.pack?a.TextureType.packed:a.TextureType.unpacked;return{name:n.name,inputNames:["A","B"],inputTypes:[i,i],cacheHint:o,get:()=>_(e,t,n,r)}},_=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t[0].type;const s=e.session.pack?a.TextureType.packed:a.TextureType.unpacked,u=!r.ShapeUtil.areEqual(t[0].dims,t[1].dims);let l=t[0].dims;const c=e.session.pack;if(u){const a=r.BroadcastUtil.calcShape(t[0].dims,t[1].dims,!1);if(!a)throw new Error("Can't perform binary op on the given tensors");l=a;const u=l.length,d=0!==t[0].dims.length?t[0].dims.length:1,h=0!==t[1].dims.length?t[1].dims.length:1,f=0!==t[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",p=0!==t[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",m=(0,i.getGlsl)(e.session.backend.glContext.version),g=c?"\n      ".concat(n.body,"\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ").concat(n.name,"(a, b);\n        ").concat(m.output," = result;\n      }"):"\n      ".concat(n.body,"\n      float process(int indices[").concat(u,"]) {\n        int aindices[").concat(d,"];\n        int bindices[").concat(h,"];\n        ").concat(f,"\n        ").concat(p,"\n        return ").concat(n.name,"(_A(aindices), _B(bindices));\n      }");return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:l,type:o,textureType:s},shaderSource:g,hasMain:c}}const d=(0,i.getGlsl)(e.session.backend.glContext.version),h="\n    ".concat(n.body,"\n    void main() {\n      vec4 v1 = ").concat(d.texture2D,"(A, TexCoords);\n      vec4 v2 = ").concat(d.texture2D,"(B, TexCoords);\n      vec4 result = ").concat(n.name,"(v1, v2);\n      ").concat(d.output," = result;\n    }\n    ");return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:t[0].dims,type:o,textureType:s},shaderSource:h,hasMain:!0}};t.add=(e,t)=>[e.run(v(e,t,s()),t)],t.and=(e,t)=>[e.run(v(e,t,p(),"bool"),t)],t.div=(e,t)=>[e.run(v(e,t,u()),t)],t.equal=(e,t)=>[e.run(v(e,t,d(),"bool"),t)],t.greater=(e,t)=>[e.run(v(e,t,h(),"bool"),t)],t.less=(e,t)=>[e.run(v(e,t,f(),"bool"),t)],t.mul=(e,t)=>[e.run(v(e,t,l()),t)],t.or=(e,t)=>[e.run(v(e,t,m(),"bool"),t)],t.pow=(e,t)=>[e.run(v(e,t,y()),t)],t.pRelu=(e,t)=>[e.run(v(e,t,b()),t)],t.sub=(e,t)=>[e.run(v(e,t,c()),t)],t.xor=(e,t)=>[e.run(v(e,t,g(),"bool"),t)]},4196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCastAttributes=t.cast=void 0;const r=n(2517);t.cast=(e,t,n)=>(o(t),[e.cast(t[0],n)]),t.parseCastAttributes=e=>r.ProtoUtil.tensorDataTypeFromProto(e.attributes.getInt("to"));const o=e=>{if(!e||1!==e.length)throw new Error("Cast requires 1 input.");if("string"===e[0].type)throw new Error("Invalid input type.")}},1163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedConcatProgramInfoLoader=void 0;const r=n(5060),o=n(2039),i=n(9390),a=n(2827);t.createPackedConcatProgramInfoLoader=(e,t,n)=>{const u=(l=t.length,c=n.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:l},(e,t)=>"X".concat(t)),inputTypes:Array(l).fill(o.TextureType.packed),cacheHint:c});var l,c;return Object.assign(Object.assign({},u),{get:()=>((e,t,n,u)=>{const l=n[0].dims.slice();if(u>=l.length||u<-1*l.length)throw new Error("axis specified for concat doesn't match input dimensionality");u<0&&(u=l.length+u);const c=l.slice(0);for(let r=1;r<n.length;r++){const e=n[r].dims.slice();for(let t=0;t<l.length;t++)if(t===u)c[u]+=e[t];else if(l[t]!==e[t])throw new Error("non concat dimensions must match")}const d=c.length,h=(0,a.getChannels)("coords",d),f=(0,i.getCoordsDataType)(d),p=(0,a.unpackFromChannel)(),m=n.map(e=>e.dims),g=(0,i.getGlChannels)(d),y=new Array(m.length-1);y[0]=m[0][u];for(let r=1;r<y.length;r++)y[r]=y[r-1]+m[r][u];const b=g[u],v=g.slice(-2),_=g.join();let w="if (".concat(b," < ").concat(y[0],") {\n        return getChannel(\n            getX0(").concat(_,"), vec2(").concat(v.join(),"));\n        }");for(let r=1;r<y.length;r++){const e=y[r-1];w+="\n            if (".concat(b," < ").concat(y[r],"  && ").concat(b," >= ").concat(y[r-1],") {\n              return getChannel(\n                getX").concat(r,"(").concat(s(g,b,e),"),\n                vec2(").concat(s(v,b,e),"));\n            }")}const x=y.length,D=y[y.length-1];w+="\n            return getChannel(\n              getX".concat(x,"(").concat(s(g,b,D),"),\n              vec2(").concat(s(v,b,D),"));");const E=(0,r.getGlsl)(e.session.backend.glContext.version),S="\n          ".concat(p,"\n          float getValue(").concat(g.map(e=>"int "+e),") {\n            ").concat(w,"\n          }\n\n          void main() {\n            ").concat(f," coords = getOutputCoords();\n            int lastDim = coords.").concat(g[d-1],";\n            coords.").concat(g[d-1]," = coords.").concat(g[d-2],";\n            coords.").concat(g[d-2]," = lastDim;\n\n            vec4 result = vec4(getValue(").concat(h,"), 0., 0., 0.);\n\n            ").concat(h[d-1]," = ").concat(h[d-1]," + 1;\n            if (").concat(h[d-1]," < ").concat(c[d-1],") {\n              result.g = getValue(").concat(h,");\n            }\n\n            ").concat(h[d-2]," = ").concat(h[d-2]," + 1;\n            if (").concat(h[d-2]," < ").concat(c[d-2],") {\n              result.a = getValue(").concat(h,");\n            }\n\n            ").concat(h[d-1]," = ").concat(h[d-1]," - 1;\n            if (").concat(h[d-2]," < ").concat(c[d-2]," &&\n                ").concat(h[d-1]," < ").concat(c[d-1],") {\n              result.b = getValue(").concat(h,");\n            }\n            ").concat(E.output," = result;\n          }\n        ");return Object.assign(Object.assign({},t),{output:{dims:c,type:n[0].type,textureType:o.TextureType.packed},shaderSource:S,hasMain:!0})})(e,u,t,n.axis)})};const s=(e,t,n)=>{const r=e.indexOf(t);return e.map((e,t)=>t===r?"".concat(e," - ").concat(n):e).join()}},2069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConcatAttributes=t.concat=void 0;const r=n(246),o=n(2039),i=n(1163);t.concat=(e,t,n)=>(d(t),e.session.pack&&t[0].dims.length>1?[e.run((0,i.createPackedConcatProgramInfoLoader)(e,t,n),t)]:[e.run(a(e,t,n),t)]);const a=(e,t,n)=>{const r=(i=t.length,a=n.cacheKey,{name:"Concat",inputNames:Array.from({length:i},(e,t)=>"X".concat(t)),inputTypes:Array(i).fill(o.TextureType.unpacked),cacheHint:a});var i,a;return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const i=n[0].dims.slice();if(r>=i.length||r<-1*i.length)throw new Error("axis specified for concat doesn't match input dimensionality");r<0&&(r=i.length+r);const a=i.slice(0);for(let o=1;o<n.length;o++){const e=n[o].dims.slice();for(let t=0;t<i.length;t++)if(t===r)a[r]+=e[t];else if(i[t]!==e[t])throw new Error("non concat dimensions must match")}const d=a.length,h=new Array(n.length);let f=0;for(let o=0;o<h.length;++o)f+=n[o].dims[r],h[o]=f;let p="";p=n.length<5?s(h):u(h);const m="\n        ".concat(l(n.length,d),"\n        ").concat(c(h),"\n        ").concat(p,"\n        float process(int indices[").concat(d,"]) {\n          int textureIndex = getTextureWhereDataResides (indices[").concat(r,"]);\n\n          if(textureIndex != 0) {\n            indices[").concat(r,"] = indices[").concat(r,"] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }");return Object.assign(Object.assign({},t),{output:{dims:a,type:n[0].type,textureType:o.TextureType.unpacked},shaderSource:m})})(0,r,t,n.axis)})},s=e=>"int getTextureWhereDataResides(int index) {\n      ".concat(e.map((e,t)=>"if(index<".concat(e,") {return ").concat(t,";}\n")).join(""),"\n    }"),u=e=>s(e),l=(e,t)=>{const n=["float fetchDataFromCorrectTexture(int textureIndex, int indices[".concat(t,"]) {")];for(let r=0;r<e;++r)0===r?n.push("\tif (textureIndex == ".concat(r,") { return _X").concat(r,"(indices); }")):r===e-1?n.push("\telse { return _X".concat(r,"(indices); }")):n.push("\telse if (textureIndex == ".concat(r,") { return _X").concat(r,"(indices); }"));return n.push("\t}"),n.join("\n")},c=e=>{const t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let n=0;n<e.length;++n)0===n?t.push("\tif (index == ".concat(n,") { return ").concat(e[n],"; }")):n===e.length-1?t.push("\telse { return ".concat(e[n],"; }")):t.push("\telse if (index == ".concat(n,") { return ").concat(e[n],"; }"));return t.push("\t}"),t.join("\n")};t.parseConcatAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis")});const d=e=>{if(!e||e.length<1)throw new Error("too few inputs");const t=e[0].type,n=e[0].dims.length;if("string"===t)throw new Error("string tensor is not supported yet");for(const r of e){if(r.type!==t)throw new Error("input tensors should be one type");if(r.dims.length!==n)throw new Error("input tensors should have the same shape")}}},4770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackedGroupedConvProgramInfoLoader=void 0;const r=n(6231),o=n(5060),i=n(2039),a=n(8138),s=n(2823);t.createUnpackedGroupedConvProgramInfoLoader=(e,t,n)=>{const u=(l=t.length>2,c=n.cacheKey,{name:"GroupedConv",inputNames:l?["X","W","Bias"]:["X","W"],inputTypes:l?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:c});var l,c;return Object.assign(Object.assign({},u),{get:()=>((e,t,n,u)=>{const l=t.length>2?"value += getBias(output_channel);":"",c=t[0].dims.slice(),d=t[1].dims.slice(),h=d[0]/u.group;r.Logger.verbose("GroupedConv","autpPad:".concat(u.autoPad,", dilations:").concat(u.dilations,", group:").concat(u.group,", kernelShape:").concat(u.kernelShape,", pads:").concat(u.pads,", strides:").concat(u.strides));const f=(0,a.calculateOutputShape)(c,d,u.dilations,u.pads,u.strides),p=(0,o.getGlsl)(e.session.backend.glContext.version),{activationFunction:m,applyActivation:g}=(0,s.getActivationSnippet)(u),y="\n  const ivec2 strides = ivec2(".concat(u.strides[0],", ").concat(u.strides[1],");\n  const ivec2 pads = ivec2(").concat(u.pads[0],", ").concat(u.pads[1],");\n  ").concat(m,"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ").concat(h,";\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ").concat(d[1],"; wInChannel++) {\n      int input_channel = group_id * ").concat(d[1]," + wInChannel;\n      for (int wHeight = 0; wHeight < ").concat(d[2],"; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ").concat(u.dilations[0],";\n\n        if (xHeight < 0 || xHeight >= ").concat(c[2],") {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ").concat(d[3],"; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ").concat(u.dilations[1],";\n          if (xWidth < 0 || xWidth >= ").concat(c[3],") {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ").concat(l,"\n    ").concat(g,"\n    ").concat(p.output," = vec4(value, .0, .0, .0);\n  }\n");return Object.assign(Object.assign({},n),{output:{dims:f,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:y,hasMain:!0})})(e,t,u,n)})}},1386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv2DPacked=t.conv2DPackedPointwise=void 0;const r=n(8138),o=n(8555),i=n(708);t.conv2DPackedPointwise=(e,t,n)=>{const o=t[0].dims,a=t[1].dims,s=(0,r.calculateOutputShape)(o,a,n.dilations,n.pads,n.strides),u=e.reshapePacked(t[0],[o[1],o[2]*o[3]]),l=e.reshapePacked(t[1],[a[0],a[1]]),c=t.length>2?[l,u,t[2]]:[l,u],d=e.run((0,i.createPackedMatmulProgramInfoLoader)(e,c,n),c);return e.reshapePacked(d,s)},t.conv2DPacked=(e,t,n)=>{const a=t[0].dims,s=t[1].dims,u=(0,r.calculateOutputShape)(a,s,n.dilations,n.pads,n.strides),l=e.run((0,o.createPackedIm2ColProgramInfoLoader)(e,t[0],t[1],u,n),[t[0]]),c=e.reshapePacked(t[1],[s[0],s[1]*s[2]*s[3]]),d=3===t.length?[c,l,t[2]]:[c,l],h=e.run((0,i.createPackedMatmulProgramInfoLoader)(e,d,n),d);return e.reshapePacked(h,u)}},9663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvTransposeAttributes=t.convTranspose=void 0;const r=n(246),o=n(5060),i=n(2039),a=n(2823),s=(e,t,n,r,o,i)=>(e-1)*t+n+(r-1)*o+1-i,u=(e,t,n,r,o)=>{const i=Math.floor(e/2);"SAME_UPPER"===t?(n[r]=i,n[o]=e-i):"SAME_LOWER"===t&&(n[r]=e-i,n[o]=i)};t.convTranspose=(e,t,n)=>(h(t,n),l(e,t,n));const l=(e,t,n)=>{const r=d(n,t);return[c(e,t,r)]},c=(e,t,n)=>e.run(((e,t,n)=>{const r=(s=t.length>2,u=n.cacheKey,{name:"ConvTranspose",inputNames:s?["X","W","B"]:["X","W"],inputTypes:s?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:u});var s,u;return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const s=t.length>2?"getB(output_channel)":"0.0",u=t[0].dims,l=t[1].dims,c=l[1],d=l[0]/r.group,h=[t[0].dims[0],t[1].dims[1]*r.group,...r.outputShape],f=(0,o.getGlsl)(e.session.backend.glContext.version),{activationFunction:p,applyActivation:m}=(0,a.getActivationSnippet)(r),g="\n  const ivec2 strides = ivec2(".concat(r.strides[0],", ").concat(r.strides[1],");\n  const ivec2 pads = ivec2(").concat(r.pads[0],", ").concat(r.pads[1],");\n  ").concat(p,"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ").concat(c,";\n    int wOutChannel = output_channel - group_id * ").concat(c,";\n\n    float value = ").concat(s,";\n    for (int inChannelOffset = 0; inChannelOffset < ").concat(d,"; inChannelOffset++) {\n      int input_channel = group_id * ").concat(d," + inChannelOffset;\n      for (int wWOff = 0; wWOff < ").concat(l[2],"; wWOff++) {\n        for (int wHOff = 0; wHOff < ").concat(l[3],"; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ").concat(r.dilations[0],", wHOff * ").concat(r.dilations[1],");\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ").concat(u[2]," &&\n            wLocIn.y >= 0 && wLocIn.y < ").concat(u[3],"\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ").concat(m,"\n    ").concat(f.output," = vec4(value, .0, .0, .0);\n  }\n");return Object.assign(Object.assign({},n),{output:{dims:h,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:g,hasMain:!0})})(e,t,r,n)})})(e,t,n),t),d=(e,t)=>{const n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let a=2;a<t[1].dims.length;++a)n.push(t[1].dims[a]);const r=e.pads.slice(),o=e.outputShape.slice();((e,t,n,r,o,i,a,l)=>{const c=e.length-2,d=0===l.length;for(let h=0;h<c;++h){const f=d?e[h+2]*i[h]:l[h],p=s(e[h+2],i[h],o[h],t[h],n[h],f);u(p,r,o,h,h+c),d&&l.push(i[h]*(e[h+2]-1)+a[h]+(t[h]-1)*n[h]+1-o[h]-o[h+c])}})(t[0].dims,n,e.dilations,e.autoPad,r,e.strides,e.outputPadding,o);const i=Object.assign({},e);return Object.assign(i,{kernelShape:n,pads:r,outputShape:o,cacheKey:e.cacheKey}),i};t.parseConvTransposeAttributes=e=>{const t=e.attributes,n=(0,a.parseInternalActivationAttributes)(t),o=t.getString("auto_pad","NOTSET"),i=t.getInts("dilations",[1,1]),s=t.getInt("group",1),u=t.getInts("kernel_shape",[]),l=t.getInts("output_padding",[0,0]),c=t.getInts("output_shape",[]),d=t.getInts("pads",[0,0,0,0]),h=t.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:o,dilations:i,group:s,kernelShape:u,outputPadding:l,outputShape:c,pads:d,strides:h},n))};const h=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const n=e[1].dims[1]*t.group;if(3===e.length&&(1!==e[2].dims.length||e[2].dims[0]!==n))throw new Error("invalid bias");const r=e[0].dims.length-2;if(t.dilations.length!==r)throw new Error("dilations should be ".concat(r,"D"));if(t.strides.length!==r)throw new Error("strides should be ".concat(r,"D"));if(t.pads.length!==2*r)throw new Error("pads should be ".concat(2*r,"D"));if(t.outputPadding.length!==r)throw new Error("output_padding should be ".concat(r,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==t.outputShape.length&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvAttributes=t.conv=t.calculateOutputShape=void 0;const r=n(246),o=n(2517),i=n(4770),a=n(1386),s=n(9828),u=n(2823),l=n(3248),c=n(5623);t.calculateOutputShape=(e,t,n,r,o)=>{const i=e[0],a=e.slice(2),s=a.length,u=t[0],l=t.slice(2).map((e,t)=>e+(e-1)*(n[t]-1)),c=a.map((e,t)=>e+r[t]+r[t+s]).map((e,t)=>Math.floor((e-l[t]+o[t])/o[t]));return[i,u].concat(...c)},t.conv=(e,t,n)=>(m(t,n),d(e,t,n));const d=(e,t,n)=>{const r=p(n,t),o=e.session.pack,s=1===r.kernelShape[0]&&1===r.kernelShape[1];return r.group>1?[e.run((0,i.createUnpackedGroupedConvProgramInfoLoader)(e,t,r),t)]:s&&o?[h(e,t,r)]:o&&4===t[0].dims.length&&1===t[0].dims[0]&&!s?[(0,a.conv2DPacked)(e,t,r)]:[f(e,t,r)]},h=(e,n,r)=>{const o=n[0].dims,i=n[1].dims,a=(0,t.calculateOutputShape)(o,i,r.dilations,r.pads,r.strides),s=e.reshapeUnpacked(n[0],[o[1],o[2]*o[3]]),u=e.reshapeUnpacked(n[1],[i[0],i[1]]),l=n.length>2?[u,s,n[2]]:[u,s],d=e.run((0,c.createMatmulProgramInfoLoader)(l,r),l);return e.reshapeUnpacked(d,a)},f=(e,n,r)=>{const o=n[0].dims,i=n[1].dims,a=(0,t.calculateOutputShape)(o,i,r.dilations,r.pads,r.strides),u=e.run((0,l.createIm2ColProgramInfoLoader)(e,n[0],n[1],a,r),[n[0]]),c=3===n.length?[u,n[1],n[2]]:[u,n[1]];return e.run((0,s.createDotProductProgramInfoLoader)(e,n,a,r),c)},p=(e,t)=>{const n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let o=2;o<t[1].dims.length;++o)n.push(t[1].dims[o]);const r=e.pads.slice();o.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,r,e.autoPad);const i=Object.assign({},e);return Object.assign(i,{kernelShape:n,pads:r,cacheKey:e.cacheKey}),i};t.parseConvAttributes=e=>{const t=e.attributes,n=(0,u.parseInternalActivationAttributes)(t),o=t.getString("auto_pad","NOTSET"),i=t.getInts("dilations",[1,1]),a=t.getInt("group",1),s=t.getInts("kernel_shape",[]),l=t.getInts("pads",[0,0,0,0]),c=t.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:o,dilations:i,group:a,kernelShape:s,pads:l,strides:c},n))};const m=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");const n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error("dilations should be ".concat(n,"D"));if(t.strides.length!==n)throw new Error("strides should be ".concat(n,"D"));if(t.pads.length!==2*n)throw new Error("pads should be ".concat(2*n,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("Conv input(bias) should be float tensor")}},5193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDepthToSpaceAttributes=t.depthToSpace=void 0;const r=n(3738);t.depthToSpace=(e,t,n)=>{o(t);const i=n.blocksize,a=i*i,s="DCR"===n.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],u="DCR"===n.mode?[t[0].dims[0],i,i,t[0].dims[1]/a,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/a,i,i,t[0].dims[2],t[0].dims[3]],l=e.reshapeUnpacked(t[0],u),c={perm:s,cacheKey:"".concat(s)},[d]=(0,r.transpose)(e,[l],c),h=[t[0].dims[0],t[0].dims[1]/a,t[0].dims[2]*i,t[0].dims[3]*i];return[e.reshapeUnpacked(d,h)]},t.parseDepthToSpaceAttributes=e=>{const t=e.attributes.getInt("blocksize");if(t<1)throw new Error("blocksize must be >= 1, but got : ".concat(t," for DepthToSpace"));const n=e.attributes.getString("mode","DCR");if("DCR"!==n&&"CRD"!==n)throw new Error("unrecognized mode: ".concat(n," for DepthToSpace"));return{mode:n,blocksize:t}};const o=e=>{if(1!==e.length)throw new Error("DepthToSpace expect 1 inputs, but got ".concat(e.length));if("string"===e[0].type||4!==e[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDotProductProgramInfoLoader=void 0;const r=n(2517),o=n(5060),i=n(2039),a=n(2823),s=n(3248);t.createDotProductProgramInfoLoader=(e,t,n,u)=>{const l=((e,t)=>({name:"ConvDotProduct",inputNames:e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:e?[i.TextureType.unpacked,i.TextureType.packedLastDimension,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.packedLastDimension],cacheKey:t.activationCacheKey}))(t.length>2,u);return Object.assign(Object.assign({},l),{get:()=>((e,t,n,u,l)=>{const c=n[0].dims,d=n[1].dims,h=[d[0],Math.ceil(c[1]*d[2]*d[3]/4)],f=(0,s.calculateIm2ColDims)(c,d,u),[p,m]=e.calculateTextureWidthAndHeight(h,i.TextureType.packedLastDimension),g=r.ShapeUtil.computeStrides(f),[y,b]=e.calculateTextureWidthAndHeight(f,i.TextureType.packedLastDimension),v=u.length,_=n.length<3?"0.0":"_B(b)",w=Math.ceil(c[1]*d[2]*d[3]/4),{activationFunction:x,applyActivation:D}=(0,a.getActivationSnippet)(l),E=(0,o.getGlsl)(e.session.backend.glContext.version),S="\n".concat(x,"\nfloat process(int indices[").concat(v,"]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ").concat(g[0]," + im2col[1] * ").concat(g[1]," + im2col[2] * ").concat(g[2],";\n  int kernelOffset = indices[1] * ").concat(h[1],";\n  float value = ").concat(_,";\n  for (int i = 0; i < ").concat(w,"; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ").concat(y,", ").concat(b,");\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ").concat(p,", ").concat(m,");\n    value += dot(").concat(E.texture2D,"(Im2Col, im2colCoords), ").concat(E.texture2D,"(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ").concat(D,"\n  return value;\n}");return Object.assign(Object.assign({},t),{output:{dims:u,type:n[0].type,textureType:i.TextureType.unpacked},shaderSource:S})})(e,l,t,n,u)})}},7992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFlattenAttributes=t.flatten=void 0;const r=n(2517);t.flatten=(e,t,n)=>{o(t,n);const i=r.ShapeUtil.flattenShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],i)]},t.parseFlattenAttributes=e=>e.attributes.getInt("axis",1);const o=(e,t)=>{if(!e||1!==e.length)throw new Error("Flatten requires 1 input.");const n=e[0].dims.length;if(0===n)throw new Error("scalar tensor is not supported.");if(t<-n||t>n)throw new Error("Invalid axis");if("string"===e[0].type)throw new Error("string tensor is not supported.")}},2823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActivationSnippet=void 0;const r=n(2517),o=n(4909);t.getActivationSnippet=function(e){let t;switch(e.activation){case"Relu":t=(0,o.glslRelu)();break;case"Sigmoid":t=(0,o.glslSigmoid)();break;case"Clip":t=(0,o.glslClip)(e.clipMin,e.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const n=t.name;return{activationFunction:t.body,applyActivation:"value = ".concat(n,"_(value);")}},t.parseInternalActivationAttributes=e=>{const t=e.getString("activation","");if("Clip"===t){const[n,o]=e.getFloats("activation_params",[r.MIN_CLIP,r.MAX_CLIP]);return{activation:t,clipMax:o,clipMin:n,activationCacheKey:"".concat(t,":").concat(n,",").concat(o)}}return{activation:t,activationCacheKey:t}}},1253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGatherAttributes=t.gather=void 0;const r=n(246),o=n(782),i=n(2517),a=n(2039);t.gather=(e,t,n)=>(l(t,n.axis),[e.run(u(e,t,n),t)]),t.parseGatherAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",0)});const s={name:"Gather",inputNames:["A","B"],inputTypes:[a.TextureType.unpacked,a.TextureType.unpacked]},u=(e,t,n)=>{const r=Object.assign(Object.assign({},s),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const o=n[0].dims.slice(),s=n[1].dims.slice(),u=new Array(o.length+s.length-1);r=i.ShapeUtil.normalizeAxis(r,o.length);const l=[];for(let i=0;i<u.length;i++)i<r?(u[i]=o[i],l.push("inputIdx[".concat(i,"] = outputIdx[").concat(i,"];"))):i<r+s.length?(u[i]=s[i-r],l.push("indexDataIdx[".concat(i-r,"] = outputIdx[").concat(i,"];"))):(u[i]=o[i-s.length+1],l.push("inputIdx[".concat(i-s.length+1,"] = outputIdx[").concat(i,"];")));const c="\n      float process(int outputIdx[".concat(u.length||1,"]) {\n        int inputIdx[").concat(o.length,"];\n        int indexDataIdx[").concat(s.length||1,"];\n        indexDataIdx[0] = 0;\n        ").concat(l.join("\n        "),"\n        int idx = int(_B(indexDataIdx));\n        inputIdx[").concat(r,"] = idx < 0 ? idx + ").concat(o[r]," : idx;\n        return _A(inputIdx);\n      }");return Object.assign(Object.assign({},t),{output:{dims:u,type:n[0].type,textureType:a.TextureType.unpacked},shaderSource:c})})(0,r,t,n.axis)})},l=(e,t)=>{if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.");const n=e[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(t<-n||t>n-1)throw new Error("Invalid axis.");if(-1===o.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invaid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invaid input type.")}},4776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributesV11=t.parseGemmAttributesV7=t.gemm=void 0;const r=n(246),o=n(2517),i=n(2039);t.gemm=(e,t,n)=>(l(t,n),[e.run(s(t,n),t)]);const a=(e,t)=>{const n=0!==e.attributes.getInt("transA",0),o=0!==e.attributes.getInt("transB",0),i=e.attributes.getFloat("alpha",1),a=e.attributes.getFloat("beta",1);return(0,r.createAttributeWithCacheKey)({transA:n,transB:o,alpha:i,beta:a,isOptionalC:t})};t.parseGemmAttributesV7=e=>a(e,!1),t.parseGemmAttributesV11=e=>a(e,!0);const s=(e,t)=>{const n={name:"Gemm",inputNames:3===e.length?["A","B","C"]:["A","B"],inputTypes:3===e.length?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],key:t.cacheKey};return Object.assign(Object.assign({},n),{get:()=>u(n,e,t)})},u=(e,t,n)=>{const r=t[0].dims.slice(),a=t[1].dims.slice(),[s,u]=o.GemmUtil.getShapeOfGemmResult(r,n.transA,a,n.transB,3===t.length?t[2].dims:void 0),l=[s,u];if(!l)throw new Error("Can't use gemm on the given tensors");let c=r[r.length-1],d="";n.transA&&(c=r[0]),n.transA&&n.transB?d="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?d="value += _A_T(a) * _B(b);":!n.transA&&n.transB?d="value += _A(a) * _B_T(b);":n.transA||n.transB||(d="value += _A(a) * _B(b);");const h=l.length,f="\n      float process(int indices[".concat(h,"]) {\n          int a[").concat(h,"];\n          int b[").concat(h,"];\n          ").concat(3===t.length?"int c[".concat(t[2].dims.length,"];"):"","\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ").concat(3===t.length?"bcastIndices_C(indices, c);":"","\n\n          float value = 0.0;\n          for (int k=0; k<").concat(c,"; ++k) {\n              a[").concat(h-1,"] = k;\n              b[").concat(h-2,"] = k;\n              ").concat(d,"\n          }\n\n          value = value * alpha;\n          ").concat(3===t.length?"value += beta * _C(c);":"","\n          return value;\n      }");return Object.assign(Object.assign({},e),{output:{dims:l,type:t[0].type,textureType:i.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:f})},l=(e,t)=>{if(!e)throw new Error("Input is missing");if(t.isOptionalC&&(e.length<2||e.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&3!==e.length)throw new Error("Gemm requires 3 inputs");if(3===e.length&&1!==e[2].dims.length&&2!==e[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||3===e.length&&"float32"!==e[2].type&&"float64"!==e[2].type)throw new Error("Invalid input type.");if(e[0].type!==e[1].type||3===e.length&&e[0].type!==e[2].type)throw new Error("Input types are mismatched")}},8555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedIm2ColProgramInfoLoader=void 0;const r=n(5060),o=n(2039),i=n(2827);t.createPackedIm2ColProgramInfoLoader=(e,t,n,a,s)=>{const u=(l=s.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[o.TextureType.packed],cacheHint:l});var l;return Object.assign(Object.assign({},u),{get:()=>((e,t,n,a,s,u)=>{const l=n.dims,c=a.dims,d=s.length,h=[c[1]*c[2]*c[3],s[2]*s[3]],f=c[2]*c[3],p=(0,i.unpackFromChannel)(),m=(0,r.getGlsl)(e.session.backend.glContext.version);let g="";for(let r=0;r<=1;r++)for(let e=0;e<=1;e++)g+="\n            blockIndex = rc.x + ".concat(e,";\n            pos = rc.y + ").concat(r,";\n\n            if(blockIndex < ").concat(h[1]," && pos < ").concat(h[0],") {\n              offsetY = int(blockIndex / (").concat(s[d-1],")) * ").concat(u.strides[0]," -\n                ").concat(u.pads[0],";\n              d0 = offsetY + ").concat(u.dilations[0]," * (imod(pos, ").concat(f,") / ").concat(c[2],");\n\n              if(d0 < ").concat(l[2]," && d0 >= 0) {\n                offsetX = imod(blockIndex, ").concat(s[d-1],") * ").concat(u.strides[1]," -\n                  ").concat(u.pads[1],";\n                d1 = offsetX + ").concat(u.dilations[1]," * imod(imod(pos, ").concat(f,"), ").concat(c[2],");\n\n                if(d1 < ").concat(l[3]," && d1 >= 0) {\n\n                  ch = int(float(pos)/ ").concat(f,".);\n                    innerDims = vec2(d0, d1);\n                    result[").concat(2*r+e,"] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          ");const y="\n      ".concat(p,"\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ").concat(g,"\n          ").concat(m.output," = result;\n      }\n            ");return Object.assign(Object.assign({},t),{output:{dims:h,type:n.type,textureType:o.TextureType.packed},shaderSource:y,hasMain:!0})})(e,u,t,n,a,s)})}},3248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateIm2ColDims=t.createIm2ColProgramInfoLoader=void 0;const r=n(2039);t.createIm2ColProgramInfoLoader=(e,n,o,i,a)=>{const s=(u=a.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[r.TextureType.unpacked],cacheHint:u});var u;return Object.assign(Object.assign({},s),{get:()=>((e,n,o,i,a,s)=>{const u=o.dims,l=i.dims,c=a.length,d=(0,t.calculateIm2ColDims)(u,l,a,4),h="\n        const int XC = ".concat(u[1],";\n        const int XH = ").concat(u[2],";\n        const int XW = ").concat(u[3],";\n        const int KH = ").concat(s.kernelShape[0],";\n        const int KW = ").concat(s.kernelShape[1],";\n        const int dilationH = ").concat(s.dilations[0],";\n        const int dilationW = ").concat(s.dilations[1],";\n        const int strideH = ").concat(s.strides[0],";\n        const int strideW = ").concat(s.strides[1],";\n        const int padH = ").concat(s.pads[0],";\n        const int padW = ").concat(s.pads[1],";\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[").concat(c,"]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[").concat(u.length,"];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        ");return Object.assign(Object.assign({},n),{output:{dims:d,type:o.type,textureType:r.TextureType.packedLastDimension},shaderSource:h})})(0,s,n,o,i,a)})},t.calculateIm2ColDims=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;return[n[0],n[2],n[3],Math.ceil(e[1]*t[2]*t[3]/r)]}},6572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseImageScalerAttributes=t.imageScaler=void 0;const r=n(246),o=n(2039);t.imageScaler=(e,t,n)=>(u(t),[e.run(a(e,t,n),t)]),t.parseImageScalerAttributes=e=>{const t=e.attributes.getFloat("scale"),n=e.attributes.getFloats("bias");return(0,r.createAttributeWithCacheKey)({scale:t,bias:n})};const i={name:"ImageScaler",inputNames:["X"],inputTypes:[o.TextureType.unpacked]},a=(e,t,n)=>{const r=Object.assign(Object.assign({},i),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const i=n[0].dims.slice(),a=i.length,u="\n      ".concat(s(r.bias.length),"\n      float process(int indices[").concat(a,"]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }");return Object.assign(Object.assign({},t),{output:{dims:i,type:n[0].type,textureType:o.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:r.bias.length,data:r.bias},{name:"scale",type:"float",data:r.scale}],shaderSource:u})})(0,r,t,n)})},s=e=>{const t=["float getBias(float bias[".concat(e,"], int channel) {")];for(let n=0;n<e;++n)0===n?t.push("\tif (channel == ".concat(n,") { return bias[").concat(n,"]; }")):n===e-1?t.push("\telse { return bias[".concat(n,"]; }")):t.push("\telse if (channel == ".concat(n,") { return bias[").concat(n,"]; }"));return t.push("\t}"),t.join("\n")},u=e=>{if(!e||1!==e.length)throw new Error("ImageScaler requires 1 input.");if(4!==e[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")}},3346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstanceNormalizationAttributes=t.instanceNormalization=void 0;const r=n(5060),o=n(2039);t.instanceNormalization=(e,t,n)=>{l(t);const r=e.run(a(t[0]),t);return[e.run(u(e,t[0],n,r.dims),[t[0],r,t[1],t[2]])]},t.parseInstanceNormalizationAttributes=e=>e.attributes.getFloat("epsilon",1e-5);const i={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[o.TextureType.unpacked]},a=e=>Object.assign(Object.assign({},i),{get:()=>((e,t)=>{const n=t.dims.slice(),r=n[1],i=n[2]*n[3],a=[n[0],r],s="\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<".concat(n[2],"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<").concat(n[3],"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(").concat(i,");\n        temp = 0.0;\n        for(int a2=0; a2<").concat(n[2],"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<").concat(n[3],"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(").concat(i,");\n\n        return v;\n      }");return Object.assign(Object.assign({},e),{output:{dims:a,type:t.type,textureType:o.TextureType.packedLastDimension},shaderSource:s})})(i,e)}),s={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[o.TextureType.unpacked,o.TextureType.packedLastDimension,o.TextureType.unpacked,o.TextureType.unpacked]},u=(e,t,n,i)=>{const a=Object.assign(Object.assign({},s),{cacheHint:"".concat(n)});return Object.assign(Object.assign({},a),{get:()=>((e,t,n,i,a)=>{const s=(0,r.getGlsl)(e.session.backend.glContext.version),[u,l]=e.calculateTextureWidthAndHeight(a,o.TextureType.packedLastDimension),[c,d]=[u/4,l],h="\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ".concat(c,", ").concat(d,");\n        return ").concat(s.texture2D,"(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }");return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:o.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:i}],shaderSource:h})})(e,a,t,n,i)})},l=e=>{if(!e||3!==e.length)throw new Error("InstanceNormalization requires 3 inputs.");const t=e[0],n=e[1],r=e[2];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length)throw new Error("Invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)throw new Error("Invalid input type.");if(4!==e[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedMatmulProgramInfoLoader=void 0;const r=n(2517),o=n(5060),i=n(2039),a=n(9390),s=n(2823),u=n(5623);t.createPackedMatmulProgramInfoLoader=(e,t,n)=>{const l=(c=t.length>2,d=n.activationCacheKey,{name:"MatMul (packed)",inputNames:c?["A","B","Bias"]:["A","B"],inputTypes:c?[i.TextureType.packed,i.TextureType.packed,i.TextureType.packed]:[i.TextureType.packed,i.TextureType.packed],cacheHint:d});var c,d;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,l)=>{const c=n.length>2,d=c?"value += getBiasForMatmul();":"",h=n[0].dims,f=n[1].dims,p=r.BroadcastUtil.calcShape(h,f,!0),m=!r.ShapeUtil.areEqual(n[0].dims,n[1].dims);if(!p)throw new Error("Can't use matmul on the given tensors");const g=h[h.length-1],y=Math.ceil(g/2),b=h.length,v=f.length,_=(0,o.getGlsl)(e.session.backend.glContext.version),w=(0,a.getCoordsDataType)(p.length),x=p.length,D=(0,a.getGlChannels)(),{activationFunction:E,applyActivation:S}=(0,s.getActivationSnippet)(l),T=c?"".concat((0,u.getBiasForMatmul)(w,D,n[2].dims,p,!0)):"",A=m?"".concat(function(e,t,n,o){let i=[],a=[];const s=n[0].dims,u=n[1].dims,l=s.length,c=u.length,d=o.length,h=d-l,f=d-c;i=s.map((e,n)=>"coords.".concat(t[n+h])),i[l-1]="i*2",i.join(", "),a=u.map((e,n)=>"coords.".concat(t[n+f])),a[c-2]="i*2",a.join(", ");const p=r.BroadcastUtil.getBroadcastDims(s,o),m=r.BroadcastUtil.getBroadcastDims(u,o),g=p.map(e=>"coords.".concat(t[e+h]," = 0;")).join("\n"),y=m.map(e=>"coords.".concat(t[e+f]," = 0;")).join("\n"),b="int lastDim = coords.".concat(t[d-1],";\n  coords.").concat(t[d-1]," = coords.").concat(t[d-2],";\n  coords.").concat(t[d-2]," = lastDim;");return"\nvec4 getAAtOutCoordsMatmul(int i) {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(b,"\n  ").concat(g,"\n  vec4 outputValue = getA(").concat(i,");\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ").concat(e," coords = getOutputCoords();\n  ").concat(b,"\n  ").concat(y,"\n  vec4 outputValue = getB(").concat(a,");\n  return outputValue;\n}")}(w,D,n,p)):"",k=m?"getAAtOutCoordsMatmul(i)":"getA(".concat(function(e,t){let n="";for(let r=0;r<t-2;r++)n+="rc.".concat(e[r],", ");return n+="rc.".concat(e[t-2],", i*2"),n}(D,b),")"),F=m?"getBAtOutCoordsMatmul(i)":"getB(".concat(function(e,t){let n="";for(let r=0;r<t-2;r++)n+="rc.".concat(e[r],", ");return n+="i*2, rc.".concat(e[t-1]),n}(D,v),")"),C="\n            ".concat(A,"\n            ").concat(T,"\n            ").concat(E,"\n            void main() {\n              ").concat(m?"":"".concat(w," rc =\n          getOutputCoords(); int lastDim = rc.").concat(D[x-1],"; rc.").concat(D[x-1]," =\n          rc.").concat(D[x-2],"; rc.").concat(D[x-2]," = lastDim;\n      "),"\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ").concat(y,"; i++) {\n                vec4 a = ").concat(k,";\n                vec4 b = ").concat(F,";\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ").concat(d,"\n              ").concat(S,"\n              ").concat(_.output," = value;\n            }");return Object.assign(Object.assign({},t),{output:{dims:p,type:n[0].type,textureType:i.TextureType.packed},shaderSource:C,hasMain:!0})})(e,l,t,n)})}},5623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBiasForMatmul=t.createMatmulProgramInfoLoader=t.parseMatMulAttributes=t.matMul=void 0;const r=n(2517),o=n(2039),i=n(9390),a=n(2823),s=n(708);function u(e,t){const n=(s=e.length>2,u=t.activationCacheKey,{name:"MatMul",inputNames:s?["A","B","Bias"]:["A","B"],inputTypes:s?[o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked]:[o.TextureType.unpacked,o.TextureType.unpacked],cacheHint:u});var s,u;return Object.assign(Object.assign({},n),{get:()=>function(e,t,n){const s=t[0].dims,u=t[1].dims,l=r.BroadcastUtil.calcShape(s,u,!0);if(!l)throw new Error("Can't use matmul on the given tensors");const d=(0,i.getCoordsDataType)(l.length),h=(0,i.getGlChannels)(),{activationFunction:f,applyActivation:p}=(0,a.getActivationSnippet)(n),m=t.length>2,g=m?"value += getBiasForMatmul();":"",y=m?"".concat(c(d,h,t[2].dims,l,!1)):"",b=l.length,v=s.length,_=u.length,w="\n    ".concat(f,"\n    ").concat(y,"\n    float process(int indices[").concat(b,"]) {\n        int a[").concat(v,"];\n        int b[").concat(_,"];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<").concat(s[s.length-1],"; ++k) {\n            a[").concat(v-1,"] = k;\n            b[").concat(_-2,"] = k;\n            value += _A(a) * _B(b);\n        }\n        ").concat(g,"\n        ").concat(p,"\n        return value;\n    }");return Object.assign(Object.assign({},e),{output:{dims:l,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:w})}(n,e,t)})}t.matMul=(e,t,n)=>(l(t),e.session.pack?[e.run((0,s.createPackedMatmulProgramInfoLoader)(e,t,n),t)]:[e.run(u(t,n),t)]),t.parseMatMulAttributes=e=>(0,a.parseInternalActivationAttributes)(e.attributes),t.createMatmulProgramInfoLoader=u;const l=e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type)throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")};function c(e,t,n,o,i){let a="";const s=n.length,u=o.length,l=u-s;a=u<2&&s>0?"coords":n.map((e,n)=>"coords.".concat(t[n+l])).join(", ");const c=r.BroadcastUtil.getBroadcastDims(n,o).map(e=>"coords.".concat(t[e+l]," = 0;")).join("\n");let d="vec4(outputValue.xx, outputValue.yy)";return 1===r.ShapeUtil.size(n)&&(d="vec4(outputValue.x)"),i?"\nvec4 getBiasForMatmul() {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(c,"\n  vec4 outputValue = getBias(").concat(a,");\n  return ").concat(d,";\n}"):"\nfloat getBiasForMatmul() {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(c,"\n  return getBias(coords.x);\n}")}t.getBiasForMatmul=c},2403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackProgramInfoLoader=void 0;const r=n(5060),o=n(2039),i=n(9390),a=n(2827),s={name:"pack",inputNames:["A"],inputTypes:[o.TextureType.unpackedReversed]};t.createPackProgramInfoLoader=(e,t)=>Object.assign(Object.assign({},s),{get:()=>((e,t)=>{const n=(0,r.getGlsl)(e.session.backend.glContext.version),u=t.dims,l=u.length,c=t.dims.length,d=(0,i.getCoordsDataType)(c),h=(0,a.getChannels)("rc",c),f=(p=c,m=h,g=u[u.length-2],y=u[u.length-1],0===p||1===p?"":"\n    int r = ".concat(m[p-2],";\n    int c = ").concat(m[p-1],";\n    int rp1 = ").concat(m[p-2]," + 1;\n    int cp1 = ").concat(m[p-1]," + 1;\n    bool rEdge = rp1 >= ").concat(y,";\n    bool cEdge = cp1 >= ").concat(g,";\n    "));var p,m,g,y;let b;b=0===l?[1,1]:1===l?[u[0],1]:[u[c-1],u[c-2]];const v=function(e,t,n){if(0===e)return"false";if(1===e)return"rc > ".concat(t[0]);let r="";for(let o=e-2;o<e;o++)r+="".concat(n[o]," >= ").concat(t[o-e+2]),o<e-1&&(r+="||");return r}(c,b,h),_=function(e,t){const n=e.length;if(0===n)return"getA(), 0, 0, 0";if(1===n)return"getA(rc),\n            rc + 1 >= ".concat(e[0]," ? 0. : getA(rc + 1),\n            0, 0");let r="";if(n>2)for(let o=0;o<n-2;++o)r+="".concat(t[o],",");return"getA(".concat(r,"r, c),\n          rEdge ? 0. : getA(").concat(r,"rp1, c),\n          cEdge ? 0. : getA(").concat(r,"r, cp1),\n          rEdge || cEdge ? 0. : getA(").concat(r,"rp1, cp1)")}(u,h),w="\n        void main() {\n          ".concat(d," rc = getOutputCoords();\n\n          if(").concat(v,") {\n            ").concat(n.output," = vec4(0);\n          } else {\n            ").concat(f,"\n\n            ").concat(n.output," = vec4(").concat(_,");\n          }\n        }\n      ");return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:o.TextureType.packed},shaderSource:w})})(e,t)})},2827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFromChannel=t.getChannels=t.getVecChannels=void 0;const r=n(9390);function o(e,t){return(0,r.getGlChannels)(t).map(t=>"".concat(e,".").concat(t))}t.getVecChannels=o,t.getChannels=function(e,t){return 1===t?[e]:o(e,t)},t.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadAttributesV11=t.padV11=t.parsePadAttributesV2=t.padV2=void 0;const r=n(246),o=n(2517),i=n(5060),a=n(2039),s={name:"Pad",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};t.padV2=(e,t,n)=>(c(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>l(e,t[0],n)}),t)]),t.parsePadAttributesV2=e=>{const t=e.attributes.getString("mode","constant"),n=e.attributes.getFloat("value",0),o=e.attributes.getInts("pads");return(0,r.createAttributeWithCacheKey)({mode:t,value:n,pads:o})},t.padV11=(e,n,r)=>{d(n);const o=u(e,n,r);return(0,t.padV2)(e,[n[0]],o)},t.parsePadAttributesV11=e=>e.attributes.getString("mode","constant");const u=(e,t,n)=>{if(!e.session.isInitializer(t[1].dataId)||t.length>=3&&!e.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");const o=Array.from(t[1].integerData),i=t.length>=3?t[2].floatData[0]:0;return(0,r.createAttributeWithCacheKey)({mode:n,pads:o,value:i})},l=(e,t,n)=>{const r=o.ShapeUtil.padShape(t.dims.slice(),n.pads),i=r.length,s="\n      ".concat(h(e,t,n),"\n      float process(int[").concat(i,"] indices) {\n          return padA(indices);\n      }");return{name:"Pad",inputNames:["A"],inputTypes:[a.TextureType.unpacked],output:{dims:r,type:t.type,textureType:a.TextureType.unpacked},shaderSource:s}},c=e=>{if(!e||1!==e.length)throw new Error("Pad requires 1 input");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},d=e=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==e[1].type)throw new Error("Invalid input type.");if(e.length>=3&&"string"===e[2].type)throw new Error("Invalid input type.")},h=(e,t,n)=>{const r=(0,i.getGlsl)(e.session.backend.glContext.version),[s,u]=e.calculateTextureWidthAndHeight(t.dims,a.TextureType.unpacked),l=o.ShapeUtil.computeStrides(t.dims);switch(n.mode){case"constant":return f(r,t.dims,l,s,u,n.pads,n.value);case"reflect":return p(r,t.dims,l,s,u,n.pads);case"edge":return m(r,t.dims,l,s,u,n.pads);default:throw new Error("Invalid mode")}},f=(e,t,n,r,o,i,a)=>{const s=t.length;let u="";for(let l=s-1;l>=0;--l)u+="\n        k = m[".concat(l,"] - ").concat(i[l],";\n        if (k < 0)  return constant;\n        if (k >= ").concat(t[l],") return constant;\n        offset += k * ").concat(n[l],";\n        ");return"\n      float padA(int m[".concat(s,"]) {\n        const float constant = float(").concat(a,");\n        int offset = 0;\n        int k = 0;\n        ").concat(u,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(o,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")},p=(e,t,n,r,o,i)=>{const a=t.length;let s="";for(let u=a-1;u>=0;--u)s+="\n        k = m[".concat(u,"] - ").concat(i[u],";\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ").concat(2*(t[u]-1),";\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ").concat(t[u],") { k = _2n_1 - k; }\n        }\n        offset += k * ").concat(n[u],";\n        ");return"\n      float padA(int m[".concat(a,"]) {\n        int offset = 0;\n        int k = 0;\n        ").concat(s,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(o,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")},m=(e,t,n,r,o,i)=>{const a=t.length;let s="";for(let u=a-1;u>=0;--u)s+="\n        k = m[".concat(u,"] - ").concat(i[u],";\n        if (k < 0)  k = 0;\n        if (k >= ").concat(t[u],") k = ").concat(t[u]-1,";\n        offset += k * ").concat(n[u],";\n      ");return"\n      float padA(int m[".concat(a,"]) {\n        int offset = 0;\n        int k = 0;\n        ").concat(s,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(o,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")}},2143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseMaxPoolAttributes=t.maxPool=t.parseGlobalAveragePoolAttributes=t.globalAveragePool=t.parseAveragePoolAttributes=t.averagePool=void 0;const r=n(246),o=n(2517),i=n(2039);t.averagePool=(e,t,n)=>{d(t);const r={name:"AveragePool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:()=>a(t,r,!1,n)}),t)]},t.parseAveragePoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),o=0!==e.attributes.getInt("count_include_pad",0),i=e.attributes.getInts("kernel_shape"),a=e.attributes.getInts("strides",[]),s=e.attributes.getInts("pads",[]);if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,r.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:o,kernelShape:i,strides:a,pads:s})};const a=(e,t,n,r)=>{const[a,s]=u(e,r,n),l=o.ShapeUtil.size(a.kernelShape);let c="";a.countIncludePad?c+="value /= float(".concat(l,");"):c+="value /= float(".concat(l," - pad);");const d="\n        ".concat(h(e[0].dims,a,"value += _X(x);",c,"0.0"),"\n      ");return Object.assign(Object.assign({},t),{output:{dims:s,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:d})};t.globalAveragePool=(e,t,n)=>{d(t);const r={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:"".concat(n.countIncludePad)};return[e.run(Object.assign(Object.assign({},r),{get:()=>a(t,r,!0,n)}),t)]},t.parseGlobalAveragePoolAttributes=e=>{const t=0!==e.attributes.getInt("count_include_pad",0);return(0,r.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]})},t.maxPool=(e,t,n)=>{d(t);const r={name:"MaxPool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:()=>s(t,r,!1,n)}),t)]},t.parseMaxPoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),o=e.attributes.getInts("kernel_shape"),i=e.attributes.getInts("strides",[]),a=e.attributes.getInts("pads",[]),s=e.attributes.getInt("storage_order",0),u=e.attributes.getInts("dilations",[]);if(0!==s)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,r.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:!1,kernelShape:o,strides:i,pads:a,storageOrder:s,dilations:u})};const s=(e,t,n,r)=>{const[o,a]=u(e,r,n),s="\n      ".concat(h(e[0].dims,o,"\n      value = max(_X(x), value);\n    ","","-1e5"),"\n    ");return Object.assign(Object.assign({},t),{output:{dims:a,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:s})},u=(e,t,n)=>{const r=e[0].dims.slice(),i=Object.hasOwnProperty.call(t,"dilations"),a=t.kernelShape.slice(),s=t.strides.slice(),u=i?t.dilations.slice():[],l=t.pads.slice();o.PoolConvUtil.adjustPoolAttributes(n,r,a,s,u,l);const c=o.PoolConvUtil.computePoolOutputShape(n,r,s,u,a,l,t.autoPad),d=Object.assign({},t);return i?Object.assign(d,{kernelShape:a,strides:s,pads:l,dilations:u,cacheKey:t.cacheKey}):Object.assign(d,{kernelShape:a,strides:s,pads:l,cacheKey:t.cacheKey}),[d,c]},l={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},c={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[i.TextureType.unpacked]};t.globalMaxPool=(e,t)=>(d(t),[e.run(Object.assign(Object.assign({},c),{get:()=>s(t,c,!0,l)}),t)]);const d=e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},h=(e,t,n,r,i)=>{const a=e.length;if(t.kernelShape.length<=2){const o=t.kernelShape[t.kernelShape.length-1],s=t.strides[t.strides.length-1],u=t.pads[t.pads.length/2-1],l=t.pads[t.pads.length-1],c=e[a-1];let d="",h="",f="";if(d=u+l!==0?"\n          for (int i = 0; i < ".concat(o,"; i++) {\n            x[").concat(a," - 1] = indices[").concat(a," - 1] * ").concat(s," - ").concat(u," + i;\n            if (x[").concat(a," - 1] < 0 || x[").concat(a," - 1] >= ").concat(c,") {\n              pad++;\n              continue;\n            }\n            ").concat(n,"\n          }"):"\n          for (int i = 0; i < ".concat(o,"; i++) {\n            x[").concat(a," - 1] = indices[").concat(a," - 1] * ").concat(s," - ").concat(u," + i;\n            ").concat(n,"\n          }"),2===t.kernelShape.length){const n=t.kernelShape[t.kernelShape.length-2],r=t.strides[t.strides.length-2],i=t.pads[t.pads.length/2-2],s=t.pads[t.pads.length-2],u=e[a-2];h=i+s!==0?"\n            for (int j = 0; j < ".concat(n,"; j++) {\n              x[").concat(a," - 2] = indices[").concat(a," - 2] * ").concat(r," - ").concat(i," + j;\n              if (x[").concat(a," - 2] < 0 || x[").concat(a," - 2] >= ").concat(u,") {\n                pad+= ").concat(o,";\n                continue;\n              }\n          "):"\n            for (int j = 0; j < ".concat(n,"; j++) {\n              x[").concat(a," - 2] = indices[").concat(a," - 2] * ").concat(r," - ").concat(i," + j;\n            "),f="\n          }\n        "}return"\n        float process(int indices[".concat(a,"]) {\n          int x[").concat(a,"];\n          copyVec(indices, x);\n\n          float value = ").concat(i,";\n          int pad = 0;\n          ").concat(h,"\n          ").concat(d,"\n          ").concat(f,"\n          ").concat(r,"\n          return value;\n        }\n      ")}{const s=o.ShapeUtil.size(t.kernelShape),u=o.ShapeUtil.computeStrides(t.kernelShape),l=u.length,c=t.pads.length,d=p(l),h=f(e,"inputDims"),m=f(t.pads,"pads"),g=f(u,"kernelStrides"),y=f(t.strides,"strides");let b="";return b=t.pads.reduce((e,t)=>e+t)?"\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ".concat(n,"\n          }"):"\n          }\n          ".concat(n,"\n        "),"\n        ".concat(d,"\n        float process(int indices[").concat(a,"]) {\n          int x[").concat(a,"];\n          copyVec(indices, x);\n          int offset[").concat(l,"];\n          int pads[").concat(c,"];\n          int inputDims[").concat(a,"];\n          int kernelStrides[").concat(l,"];\n          int strides[").concat(l,"];\n          ").concat(m,"\n          ").concat(h,"\n          ").concat(y,"\n          ").concat(g,"\n\n          float value = ").concat(i,";\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ").concat(s,"; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ").concat(a," - ").concat(l,"; j < ").concat(a,"; j++) {\n              x[j] = indices[j] * strides[j - ").concat(a," + ").concat(l,"]\n                + offset[j - ").concat(a," + ").concat(l,"] - pads[j - 2];\n              ").concat(b,"\n          }\n          ").concat(r,"\n\n          return value;\n        }\n      ")}},f=(e,t)=>{let n="";for(let r=0;r<e.length;r++)n+="\n      ".concat(t,"[").concat(r,"] = ").concat(e[r],";\n    ");return n},p=e=>"\n  void offsetToIndices(int offset, int[".concat(e,"] strides, out int[").concat(e,"] indices) {\n    if (").concat(e," == 0) {\n      return;\n    }\n    for (int i = 0; i < ").concat(e," - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[").concat(e," - 1] = offset;\n  }")},4939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceLogSumSquare=t.reduceLogSum=t.reduceProd=t.reduceMin=t.reduceMax=t.reduceMean=t.reduceSum=t.parseReduceAttributes=void 0;const r=n(246),o=n(782),i=n(2517),a=n(2039),s=(e,t,n,r,o)=>{l(t);const i={name:r,inputNames:["A"],inputTypes:[a.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},i),{cacheHint:n.cacheKey,get:()=>u(e,t,n,r,o,i)}),t)]};t.parseReduceAttributes=e=>{const t=e.attributes.getInts("axes",[]),n=1===e.attributes.getInt("keepdims",1);return(0,r.createAttributeWithCacheKey)({axes:t,keepDims:n})};const u=(e,t,n,r,o,s)=>{const u=[],l=t[0].dims.length||1,c=[],d=i.ShapeUtil.normalizeAxes(n.axes,t[0].dims.length),h=o(t,d);let f=h[1];for(let i=0;i<t[0].dims.length;i++)d.indexOf(i)>=0||0===d.length?(n.keepDims&&u.push(1),f="\n          for(int j".concat(i," = 0; j").concat(i," < ").concat(t[0].dims[i],"; j").concat(i,"++) {\n            inputIdx[").concat(i,"] = j").concat(i,";\n            ").concat(f,"\n          }")):(c.push("inputIdx[".concat(i,"] = outputIdx[").concat(u.length,"];")),u.push(t[0].dims[i]));const p="\n      float process(int outputIdx[".concat(u.length||1,"]) {\n        float value;                 // final result\n        int inputIdx[").concat(l,"];      // addressing input data\n        ").concat(c.join("\n"),"\n        ").concat(h[0],"       // init ops for reduce max/min\n        ").concat(f,"\n        ").concat(h[2],"       // final computation for reduce mean\n        return value;\n      }");return Object.assign(Object.assign({},s),{output:{dims:u,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:p})},l=e=>{if(!e||1!==e.length)throw new Error("Reduce op requires 1 input.");if(-1===o.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.reduceSum=(e,t,n)=>s(e,t,n,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),t.reduceMean=(e,t,n)=>s(e,t,n,"ReduceMean",(e,t)=>{let n=1;for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&(n*=e[0].dims[r]);return["value = 0.0;","value += _A(inputIdx);","value /= ".concat(n,".;")]}),t.reduceMax=(e,t,n)=>s(e,t,n,"ReduceMax",(e,t)=>{const n=[];for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push("inputIdx[".concat(r,"] = 0;"));return["".concat(n.join("\n"),"\nvalue = _A(inputIdx);"),"value = max(value, _A(inputIdx));",""]}),t.reduceMin=(e,t,n)=>s(e,t,n,"ReduceMin",(e,t)=>{const n=[];for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push("inputIdx[".concat(r,"] = 0;"));return["".concat(n.join("\n"),"\nvalue = _A(inputIdx);"),"value = min(value, _A(inputIdx));",""]}),t.reduceProd=(e,t,n)=>s(e,t,n,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),t.reduceLogSum=(e,t,n)=>s(e,t,n,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),t.reduceLogSumSquare=(e,t,n)=>s(e,t,n,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReshapeCheap=t.processDims3D=t.createPackedReshape3DProgramInfoLoader=void 0;const r=n(2517),o=n(5060),i=n(2039),a=n(2827);t.createPackedReshape3DProgramInfoLoader=(e,t,n)=>{const s=(e=>({name:"Reshape (packed)",inputTypes:[i.TextureType.packed],inputNames:["A"],cacheHint:"".concat(e)}))(n);return Object.assign(Object.assign({},s),{get:()=>((e,t,n,s)=>{const u=t.dims,l=s;let c="";for(let r=0;r<4;r++){let e="";switch(r){case 0:e="outputCoords = rc;";break;case 1:e="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:e="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:e="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}c+="\n        ".concat(e,"\n        ").concat(r>0?"if(outputCoords.y < rows && outputCoords.z < cols){":"","\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(r,"] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ").concat(r>0?"}":"","\n      ")}const d=(0,o.getGlsl)(e.session.backend.glContext.version),h="\n      ".concat(function(e){const t=r.ShapeUtil.computeStrides(e),n=["b","r","c"],o="index";return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(t.map((e,r)=>"int ".concat(n[r]," = ").concat(o," / ").concat(e,"; ").concat(r===t.length-1?"int ".concat(n[r+1]," = ").concat(o," - ").concat(n[r]," * ").concat(e):"index -= ".concat(n[r]," * ").concat(e),";")).join(""),"\n      return ivec3(b, r, c);\n    }\n  ")}(u),"\n      ").concat(function(e){const t=r.ShapeUtil.computeStrides(e);return"\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ".concat(t[0]," + coords.z * ").concat(t[1]," + coords.y;\n  }\n")}(l),"\n      ").concat((0,a.unpackFromChannel)(),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ").concat(l[2],";\n        int cols = ").concat(l[1],";\n\n        ").concat(c,"\n        ").concat(d.output," = result;\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:l,type:t.type,textureType:i.TextureType.packed},shaderSource:h,hasMain:!0})})(e,t,s,n)})},t.processDims3D=function(e){if(0===e.length)return[1,1,1];let t=1;for(let n=0;n<e.length-2;++n)t*=e[n];return[t,e.length>1?e[e.length-2]:1,e[e.length-1]]},t.isReshapeCheap=function(e,t){let n=!1;return n=0===e.length||0===t.length||(e.length<2||t.length<2?e[e.length-1]===t[t.length-1]:e[e.length-1]===t[t.length-1]&&e[e.length-2]===t[t.length-2]),n}},718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=void 0;const r=n(2517);t.reshape=(e,t)=>{const n=r.ShapeUtil.calculateReshapedDims(t[0].dims,t[1].integerData);return e.session.pack?[e.reshapePacked(t[0],n)]:[e.reshapeUnpacked(t[0],n)]}},2268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseResizeAttributesV11=t.parseResizeAttributesV10=t.resize=void 0;const r=n(5060),o=n(2039),i=n(9390),a=n(2827),s=n(9793),u={name:"Resize",inputNames:["A"],inputTypes:[o.TextureType.packed]};t.resize=(e,t,n)=>((0,s.validateInputs)(t,n),[e.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:()=>l(e,t,n)}),t)]),t.parseResizeAttributesV10=e=>(0,s.parseUpsampleAttributes)(e,10),t.parseResizeAttributesV11=e=>(0,s.parseUpsampleAttributes)(e,11);const l=(e,t,n)=>{const s=(0,r.getGlsl)(e.session.backend.glContext.version),[l,d]=c(t,n);if(l.every(e=>1===e)&&"tf_crop_and_resize"!==n.coordinateTransformMode)return Object.assign(Object.assign({},u),{output:{dims:d,type:t[0].type,textureType:o.TextureType.packed},hasMain:!0,shaderSource:"void main() {\n                    vec4 v = ".concat(s.texture2D,"(X, TexCoords);\n                    ").concat(s.output," = v;\n                }")});const h=d.length;if(h<2)throw new Error("output dimension should be at least 2, but got ".concat(h));const f=d[h-2],p=d[h-1],m=t[0].dims;if(h!==m.length)throw new Error("output dimension should match input ".concat(m.length,", but got ").concat(h));const g=m[h-2],y=m[h-1],b=l[h-2],v=l[h-1];let _="";if("linear"!==n.mode)throw new Error("resize (packed) does not support mode: '".concat(n.mode,"'"));switch(n.coordinateTransformMode){case"asymmetric":_="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":_="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"pytorch_half_pixel":_="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ".concat(p,".0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ").concat(f,".0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ").concat(p,".0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ").concat(f,".0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                ");break;case"align_corners":_="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(".concat(p,".0 - 1.0, ").concat(f,".0 - 1.0, ").concat(p,".0 - 1.0,\n                            ").concat(f,".0 - 1.0);\n                        vec4 original = vec4(").concat(y,".0 - 1.0, ").concat(g,".0 - 1.0, ").concat(y,".0 - 1.0,\n                            ").concat(g,".0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                ");break;default:throw new Error("resize (packed) does not support coordinateTransformMode:                                 '".concat(n.coordinateTransformMode,"'"))}const w=(0,i.getCoordsDataType)(h),x="\n            const vec2 inputWH = vec2(".concat(g,".0, ").concat(y,".0);\n            const vec4 scaleWHWH = vec4(float(").concat(b,"), float(").concat(v,"), float(").concat(b,"), float(").concat(v,"));\n            ").concat((0,a.unpackFromChannel)(),"\n            ").concat(_,"\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ").concat(w," rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ").concat(f-1,";\n                bool hasNextCol = rc.z < ").concat(p-1,";\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ").concat(s.output," = vec4(newValue);\n            }\n        ");return Object.assign(Object.assign({},u),{output:{dims:d,type:t[0].type,textureType:o.TextureType.packed},hasMain:!0,shaderSource:x})},c=(e,t)=>{const n=e[0].dims;let r,o=t.scales;if(0===o.length){const i=e[t.scalesInputIdx];if(i&&0!==i.size){if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");o=d(i,t.mode,t.isResize)}else{const i=e[t.sizesInputIdx];if(!i||0===i.size)throw new Error("Either scales or sizes MUST be provided as input.");r=Array.from(i.integerData),o=h(r,n,t.mode,t.isResize)}}else if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const i=r||n.map((e,t)=>Math.floor(e*o[t]));return[o,i]},d=(e,t,n)=>{const r=Array.from(e.floatData);return(0,s.scalesValidation)(r,t,n),r},h=(e,t,n,r)=>{const o=t.length,i=new Array(o);for(let a=0,s=o;a<s;a++)if(0===t[a]){if(0!==e[a])throw new Error("Input dim is zero but required output dim is non-zero.");i[a]=1}else i[a]=e[a]/t[a];return(0,s.scalesValidation)(i,n,r),i}},8117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shape=void 0;const r=n(9162);t.shape=(e,t)=>(o(t),[new r.Tensor([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]);const o=e=>{if(!e||1!==e.length)throw new Error("Shape requires 1 input.")}},2278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceV10=t.parseSliceAttributes=t.slice=void 0;const r=n(246),o=n(782),i=n(2517),a=n(2039),s={name:"Slice",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};t.slice=(e,t,n)=>(l(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>u(e,t[0],n)}),t)]),t.parseSliceAttributes=e=>{const t=e.attributes.getInts("starts"),n=e.attributes.getInts("ends"),o=e.attributes.getInts("axes",[]);return(0,r.createAttributeWithCacheKey)({starts:t,ends:n,axes:o})};const u=(e,t,n)=>{const r=0===n.axes.length?t.dims.slice(0).map((e,t)=>t):n.axes,o=i.ShapeUtil.normalizeAxes(r,t.dims.length),u=n.starts.map((e,n)=>e>t.dims[o[n]]-1?t.dims[o[n]]:i.ShapeUtil.normalizeAxis(e,t.dims[o[n]])),l=n.ends.map((e,n)=>e>t.dims[o[n]]-1?t.dims[o[n]]:i.ShapeUtil.normalizeAxis(e,t.dims[o[n]])),c=t.dims.slice(),d=[];for(let i=0;i<o.length;i++)c[o[i]]=l[i]-u[i],u[i]>0&&d.push("outputIdx[".concat(o[i],"] += ").concat(u[i],";"));const h="\n      float process(int outputIdx[".concat(c.length,"]) {\n        ").concat(d.join("\n      "),"\n        return _A(outputIdx);\n      }");return Object.assign(Object.assign({},s),{output:{dims:c,type:t.type,textureType:a.TextureType.unpacked},shaderSource:h})},l=e=>{if(!e||1!==e.length)throw new Error("Slice requires 1 input.");if(-1===o.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.sliceV10=(e,t)=>{d(t);const n=c(e,t);return[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>u(e,t[0],n)}),[t[0]])]};const c=(e,t)=>{if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some(e=>1!==e))throw new Error("currently non-1 steps is not supported for Slice");const n=Array.from(t[1].integerData),r=Array.from(t[2].integerData),o=t.length>=4?Array.from(t[3].integerData):[];return{starts:n,ends:r,axes:o,cacheKey:"".concat(o,";").concat(n,";").concat(r)}},d=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if("int32"!==e[1].type||1!==e[1].dims.length)throw new Error("Invalid input type.");if("int32"!==e[2].type||1!==e[2].dims.length)throw new Error("Invalid input type.");if(e.length>=4&&("int32"!==e[3].type||1!==e[3].dims.length))throw new Error("Invalid input type.");if(e.length>=5&&("int32"!==e[4].type||1!==e[4].dims.length))throw new Error("Invalid input type.")}},5524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.softmaxV13=t.parseSoftmaxAttributesV13=t.parseSoftmaxAttributes=t.softmax=void 0;const r=n(246),o=n(2517),i=n(5060),a=n(2039),s=n(3738),u={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[a.TextureType.unpacked]},l={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[a.TextureType.unpacked,a.TextureType.unpacked]},c={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]};t.softmax=(e,t,n)=>{m(t);const r=t[0].dims.slice(),i=o.ShapeUtil.normalizeAxis(n.axis,r.length),a=o.ShapeUtil.sizeToDimension(r,i),s=o.ShapeUtil.sizeFromDimension(r,i);return d(e,t,n,a,s)},t.parseSoftmaxAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",1)}),t.parseSoftmaxAttributesV13=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",-1)}),t.softmaxV13=(e,t,n)=>{m(t);const i=t[0].dims.slice(),a=o.ShapeUtil.normalizeAxis(n.axis,i.length),u=i.length,l=a!==u-1,c=[];let h,f=[],p=[];l&&(f=Array.from({length:u}).map((e,t)=>t),f[a]=u-1,f[u-1]=a,f.map(e=>c.push(i[e])),h=(0,r.createAttributeWithCacheKey)({perm:f}),p=(0,s.transpose)(e,t,h));const g=l?o.ShapeUtil.sizeToDimension(c,u-1):o.ShapeUtil.sizeToDimension(i,u-1),y=l?o.ShapeUtil.sizeFromDimension(c,u-1):o.ShapeUtil.sizeFromDimension(i,u-1),b=d(e,l?p:t,n,g,y);return l?(0,s.transpose)(e,b,h):b};const d=(e,t,n,r,o)=>{const i=h(e,t[0],r,o,[r]),a=e.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:()=>i}),t),s=f(e,t[0],r,o,i.output.dims,[r]),d=e.run(Object.assign(Object.assign({},l),{cacheHint:n.cacheKey,get:()=>s}),[t[0],a]),m=p(e,t[0],r,o,i.output.dims,s.output.dims);return[e.run(Object.assign(Object.assign({},c),{cacheHint:n.cacheKey,get:()=>m}),[t[0],a,d])]},h=(e,t,n,r,o)=>{const[s,l]=e.calculateTextureWidthAndHeight(t.dims,a.TextureType.unpacked),c=o.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length)throw new Error("Dimensionality of the output should be 1");if(o[0]!==n)throw new Error("Shape of the output should be equal to logical row count");const d=(0,i.getGlsl)(e.session.backend.glContext.version),h="\n      float process(int[".concat(c,"] indices) {\n        int logical_row_start_offset = indices[0] * ").concat(r,";\n\n        float max = getColorAsFloat(").concat(d.texture2D,"(A, offsetToCoords(logical_row_start_offset, ").concat(s,",\n        ").concat(l," )));\n        for(int i=1; i<").concat(r,"; ++i)\n        {\n          float current = getColorAsFloat(").concat(d.texture2D,"(A, offsetToCoords(logical_row_start_offset + i,\n            ").concat(s,", ").concat(l,")));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }");return Object.assign(Object.assign({},u),{output:{dims:o,type:t.type,textureType:a.TextureType.unpacked},shaderSource:h})},f=(e,t,n,r,o,s)=>{const[u,c]=e.calculateTextureWidthAndHeight(t.dims,a.TextureType.unpacked),d=s.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==s.length)throw new Error("Dimensionality of the output should be 1");if(s[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==o.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");const h="\n      float process(int[".concat(d,"] indices) {\n        int logical_row_start_offset = indices[0] * ").concat(r,";\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<").concat(r,"; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(").concat((0,i.getGlsl)(e.session.backend.glContext.version).texture2D,"(A, offsetToCoords(logical_row_start_offset + i,\n            ").concat(u,", ").concat(c,"))) - max);\n        }\n\n        return norm_factor;\n      }");return Object.assign(Object.assign({},l),{output:{dims:s,type:t.type,textureType:a.TextureType.unpacked},shaderSource:h})},p=(e,t,n,r,o,i)=>{const[s,u]=e.calculateTextureWidthAndHeight(t.dims,a.TextureType.unpacked),l=t.dims.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length||1!==i.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o[0]!==n||i[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");const d="\n      float process(int[".concat(l,"] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ").concat(s,", ").concat(u,");\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ").concat(r,";\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }");return Object.assign(Object.assign({},c),{output:{dims:t.dims,type:t.type,textureType:a.TextureType.unpacked},shaderSource:d})},m=e=>{if(!e||1!==e.length)throw new Error("Softmax requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type")}},5975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSplitAttributes=t.split=void 0;const r=n(246),o=n(2517),i=n(2039),a={name:"Split",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};t.split=(e,t,n)=>{l(t);const r=o.ShapeUtil.normalizeAxis(n.axis,t[0].dims.length),i=s(e,t,r,n),c=[];for(let o=0;o<i;++o)c.push(e.run(Object.assign(Object.assign({},a),{cacheHint:"".concat(n.cacheKey,";").concat(o),get:()=>u(e,t[0],n,r,o)}),t));return c},t.parseSplitAttributes=e=>{const t=e.attributes.getInt("axis",0),n=e.attributes.getInts("split",[]),o=e.outputs.length;return(0,r.createAttributeWithCacheKey)({axis:t,split:n,numOutputs:o})};const s=(e,t,n,r)=>{const[,i]=o.SplitUtil.splitShape(t[0].dims,n,r.split,r.numOutputs);return i.length},u=(e,t,n,r,s)=>{const[u,l]=o.SplitUtil.splitShape(t.dims,r,n.split,n.numOutputs),c=l[s],d=u[s],h="\n      float process(int indices[".concat(d.length,"]) {\n        indices[").concat(r,"] += ").concat(c,";\n        return _A(indices);\n      }\n    ");return Object.assign(Object.assign({},a),{cacheHint:"".concat(n.cacheKey,":").concat(s),output:{dims:d,type:t.type,textureType:i.TextureType.unpacked},shaderSource:h})},l=e=>{if(!e||1!==e.length)throw new Error("Split requires one input.");if("int8"!==e[0].type&&"uint8"!==e[0].type&&"int16"!==e[0].type&&"uint16"!==e[0].type&&"int32"!==e[0].type&&"uint32"!==e[0].type&&"float32"!==e[0].type&&"float64"!==e[0].type&&"bool"!==e[0].type)throw new Error("Invalid input type.")}},3933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqueezeAttributes=t.squeezeV13=t.squeeze=void 0;const r=n(2517);t.squeeze=(e,t,n)=>{o(t);const i=r.ShapeUtil.squeezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],i)]},t.squeezeV13=(e,n)=>(i(n),(0,t.squeeze)(e,[n[0]],Array.from(n[1].integerData))),t.parseSqueezeAttributes=e=>e.attributes.getInts("axes");const o=e=>{if(!e||1!==e.length)throw new Error("Squeeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},i=e=>{if(!e||2!==e.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},6558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sum=void 0;const r=n(5060),o=n(2039);t.sum=(e,t)=>{a(t);const n={name:"Sum",inputNames:t.map((e,t)=>"X".concat(t)),inputTypes:new Array(t.length).fill(o.TextureType.unpacked)};return[e.run(Object.assign(Object.assign({},n),{get:()=>i(e,t,n)}),t)]};const i=(e,t,n)=>{const i=(0,r.getGlsl)(e.session.backend.glContext.version),a=t[0].dims.slice(),s="\n      void main() {\n        vec4 result = ".concat(t.map((e,t)=>"".concat(i.texture2D,"(X").concat(t,",TexCoords)")).join(" + "),";\n        ").concat(i.output," = result;\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:a,type:t[0].type,textureType:o.TextureType.unpacked},hasMain:!0,shaderSource:s})},a=e=>{if(!e||0===e.length)throw new Error("Sum requires inputs.");const t=e[0].dims.length;for(let n=1;n<e.length;n++){if(t!==e[n].dims.length)throw new Error("Input shapes are mismatched.");for(let r=0;r<t;r++)if(e[0].dims[r]!==e[n].dims[r])throw new Error("Input shapes are not matched.")}if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");for(let n=1;n<e.length;n++)if(e[0].type!==e[n].type)throw new Error("Input types are not matched.")}},5723:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tile=void 0;const r=n(782),o=n(2039);t.tile=(e,t)=>{a(t);const n={name:"Tile",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},n),{get:()=>i(e,t,n)}),t)]};const i=(e,t,n)=>{const r=t[0].dims.slice(),i=new Array(r.length),a=[];for(let o=0;o<r.length;o++)i[o]=r[o]*t[1].numberData[o],a.push("inputIdx[".concat(o,"] = int(mod(float(outputIdx[").concat(o,"]), ").concat(r[o],".));"));const s=i.length,u="\n      float process(int outputIdx[".concat(s,"]) {\n        int inputIdx[").concat(s,"];\n        ").concat(a.join("\n"),"\n        return _A(inputIdx);\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:i,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:u})},a=e=>{if(!e||2!==e.length)throw new Error("Tile requires 2 input.");if(1!==e[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(e[1].dims[0]!==e[0].dims.length)throw new Error("Invalid input shape.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invalid repeat type.")}},3738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=void 0;const r=n(246),o=n(2517),i=n(2039),a={name:"Transpose",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};t.transpose=(e,t,n)=>(d(t),[e.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:()=>s(e,t[0],n.perm)}),t)]),t.parseTransposeAttributes=e=>(0,r.createAttributeWithCacheKey)({perm:e.attributes.getInts("perm",[])});const s=(e,t,n)=>{const r=t.dims;n=u(r,n);const o=l(r,n),s=r.length,d="\n      ".concat(c("perm",n,s),"\n      float process(int indices[").concat(s,"]) {\n        int a[").concat(s,"];\n        perm(a, indices);\n        return _A(a);\n      }");return Object.assign(Object.assign({},a),{output:{dims:o,type:t.type,textureType:i.TextureType.unpacked},shaderSource:d})},u=(e,t)=>(t&&t.length!==e.length&&(t=[...e.keys()].reverse()),t),l=(e,t)=>(t=u(e,t),o.ShapeUtil.sortBasedOnPerm(e,t)),c=(e,t,n)=>{const r=[];r.push("void ".concat(e,"(out int a[").concat(n,"], int src[").concat(n,"]) {"));for(let o=0;o<n;++o)r.push("\ta[".concat(t[o],"]=src[").concat(o,"];"));return r.push("\t}"),r.join("\n")},d=e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("input should be float tensor")}},8710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAsUint8=void 0;const r=n(5060),o=n(2039);t.encodeAsUint8=(e,t)=>{const n=t.shape,i=(0,r.getGlsl)(e.session.backend.glContext.version),a="\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ".concat(i.texture2D,"(X,TexCoords).r;\n      ").concat(i.output," = encodeAsUint8(value);\n    }"),s={name:"Uint8Encode",inputTypes:[o.TextureType.unpacked],inputNames:["X"],output:{dims:n,type:t.tensor.type,textureType:o.TextureType.downloadUint8AsFloat},shaderSource:a,hasMain:!0};return e.executeProgram(s,[t.tensor])}},4909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tanh=t.tan=t.sqrt=t.sin=t.sigmoid=t.relu=t.not=t.neg=t.log=t.parseLeakyReluAttributes=t.leakyRelu=t.identity=t.floor=t.exp=t.parseEluAttributes=t.elu=t.cos=t.ceil=t.clipV11=t.parseClipAttributes=t.clip=t.atan=t.asin=t.acos=t.abs=t.glslTanh=t.glslTan=t.glslSqrt=t.glslSigmoid=t.glslRelu=t.glslSin=t.glslNot=t.glslNeg=t.glslLog=t.glslLeakyRelu=t.glslIdentity=t.glslClip=t.glslFloor=t.glslExp=t.glslElu=t.glslCos=t.glslCeil=t.glslAtan=t.glslAsin=t.glslAcos=t.glslAbs=void 0;const r=n(246),o=n(2517),i=n(8520),a=n(5060),s=n(2039);function u(){return F("abs")}function l(){return F("acos")}function c(){return F("asin")}function d(){return F("atan")}function h(){return F("ceil")}function f(){return F("cos")}function p(e){const t="elu";return{body:"\n  const float alpha = float(".concat(e,");\n\n  float ").concat(t,"_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return vec4(").concat(t,"_(v.x), ").concat(t,"_(v.y), ").concat(t,"_(v.z), ").concat(t,"_(v.w));\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}function m(){return F("exp")}function g(){return F("floor")}function y(e,t){const n="clip";return{body:"\n  const float min = float(".concat(e,");\n  const float max = float(").concat(t,");\n\n  float ").concat(n,"_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ").concat(n,"_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  "),name:n,type:i.FunctionType.ValueBased}}function b(){const e="indentity";return{body:"\n  float ".concat(e,"_(float a) {\n    return a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return v;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function v(e){const t="leakyRelu";return{body:"\n  const float alpha = float(".concat(e,");\n\n  float ").concat(t,"_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return vec4(").concat(t,"_(v.x), ").concat(t,"_(v.y), ").concat(t,"_(v.z), ").concat(t,"_(v.w));\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}function _(){return F("log")}function w(){const e="neg";return{body:"\n  float ".concat(e,"_(float a) {\n    return -a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return -v;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function x(){const e="not";return{body:"\n  float ".concat(e,"_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ").concat(e,"_(bool a) {\n    return !a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ").concat(e,"_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function D(){return F("sin")}function E(){const e="relu";return{body:"\n  float ".concat(e,"_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function S(){const e="sigmoid";return{body:"\n  float ".concat(e,"_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function T(){return F("sqrt")}function A(){return F("tan")}function k(){const e="tanh";return{body:"\n  float ".concat(e,"_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function F(e){return{body:"\n  float ".concat(e,"_(float a) {\n    return ").concat(e,"(a);\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return ").concat(e,"(v);\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}t.glslAbs=u,t.glslAcos=l,t.glslAsin=c,t.glslAtan=d,t.glslCeil=h,t.glslCos=f,t.glslElu=p,t.glslExp=m,t.glslFloor=g,t.glslClip=y,t.glslIdentity=b,t.glslLeakyRelu=v,t.glslLog=_,t.glslNeg=w,t.glslNot=x,t.glslSin=D,t.glslRelu=E,t.glslSigmoid=S,t.glslSqrt=T,t.glslTan=A,t.glslTanh=k;const C=(e,t,n,r)=>{const o=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,i={name:n.name,inputTypes:[o],inputNames:["A"],cacheHint:r};return Object.assign(Object.assign({},i),{get:()=>((e,t,n,r)=>{const o=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,i=(0,a.getGlsl)(e.session.backend.glContext.version);return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:o},shaderSource:"\n     ".concat(r.body,"\n     void main() {\n       vec4 v = ").concat(i.texture2D,"(A, TexCoords);\n       v = ").concat(r.name,"_(v);\n       ").concat(i.output," = v;\n     }\n     "),hasMain:!0})})(e,i,t,n)})};t.abs=(e,t)=>[e.run(C(e,t[0],u()),t)],t.acos=(e,t)=>[e.run(C(e,t[0],l()),t)],t.asin=(e,t)=>[e.run(C(e,t[0],c()),t)],t.atan=(e,t)=>[e.run(C(e,t[0],d()),t)],t.clip=(e,t,n)=>[e.run(C(e,t[0],y(n.min,n.max),n.cacheKey),t)],t.parseClipAttributes=e=>(0,r.createAttributeWithCacheKey)({min:e.attributes.getFloat("min",o.MIN_CLIP),max:e.attributes.getFloat("max",o.MAX_CLIP)}),t.clipV11=(e,n)=>{const r=O(e,n);return(0,t.clip)(e,[n[0]],r)};const O=(e,t)=>{if(t.length>=3&&(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const n=t.length>=3?t[1].numberData[0]:o.MIN_CLIP,i=t.length>=3?t[2].numberData[0]:o.MAX_CLIP;return(0,r.createAttributeWithCacheKey)({min:n,max:i})};t.ceil=(e,t)=>[e.run(C(e,t[0],h()),t)],t.cos=(e,t)=>[e.run(C(e,t[0],f()),t)],t.elu=(e,t,n)=>[e.run(C(e,t[0],p(n.alpha),n.cacheKey),t)],t.parseEluAttributes=e=>(0,r.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",1)}),t.exp=(e,t)=>[e.run(C(e,t[0],m()),t)],t.floor=(e,t)=>[e.run(C(e,t[0],g()),t)],t.identity=(e,t)=>[e.run(C(e,t[0],b()),t)],t.leakyRelu=(e,t,n)=>[e.run(C(e,t[0],v(n.alpha),n.cacheKey),t)],t.parseLeakyReluAttributes=e=>(0,r.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",.01)}),t.log=(e,t)=>[e.run(C(e,t[0],_()),t)],t.neg=(e,t)=>[e.run(C(e,t[0],w()),t)],t.not=(e,t)=>[e.run(C(e,t[0],x()),t)],t.relu=(e,t)=>[e.run(C(e,t[0],E()),t)],t.sigmoid=(e,t)=>[e.run(C(e,t[0],S()),t)],t.sin=(e,t)=>[e.run(C(e,t[0],D()),t)],t.sqrt=(e,t)=>[e.run(C(e,t[0],T()),t)],t.tan=(e,t)=>[e.run(C(e,t[0],A()),t)],t.tanh=(e,t)=>[e.run(C(e,t[0],k()),t)]},5611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackProgramInfoLoader=t.createUnpackProgramInfo=void 0;const r=n(5060),o=n(2039),i=n(9390),a=n(2827),s={name:"unpack",inputNames:["A"],inputTypes:[o.TextureType.packed]};t.createUnpackProgramInfo=(e,t)=>{const n=t.dims.length,u=(0,a.getChannels)("rc",n),l=u.slice(-2),c=(0,i.getCoordsDataType)(n),d=(0,a.unpackFromChannel)(),h=0===t.dims.length?"":function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,u),f=n<=1?"rc":"vec2(".concat(l.join(","),")"),p="\n    ".concat(d,"\n    void main() {\n      ").concat(c," rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(").concat(h,");\n\n       ").concat((0,r.getGlsl)(e.session.backend.glContext.version).output," = vec4(getChannel(packedInput, ").concat(f,"), 0, 0, 0);\n     }\n   ");return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:o.TextureType.unpacked},shaderSource:p})},t.createUnpackProgramInfoLoader=(e,n)=>Object.assign(Object.assign({},s),{get:()=>(0,t.createUnpackProgramInfo)(e,n)})},8428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnsqueezeAttributes=t.unsqueezeV13=t.unsqueeze=void 0;const r=n(2517);t.unsqueeze=(e,t,n)=>{o(t);const i=r.ShapeUtil.unsqueezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],i)]},t.unsqueezeV13=(e,n)=>(i(n),(0,t.unsqueeze)(e,[n[0]],Array.from(n[1].integerData))),t.parseUnsqueezeAttributes=e=>e.attributes.getInts("axes");const o=e=>{if(!e||1!==e.length)throw new Error("Unsqueeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},i=e=>{if(!e||2!==e.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},9793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalesValidation=t.validateInputs=t.parseUpsampleAttributes=t.parseUpsampleAttributesV9=t.parseUpsampleAttributesV7=t.upsample=void 0;const r=n(246),o=n(5060),i=n(2039),a={name:"Upsample",inputNames:["X"],inputTypes:[i.TextureType.unpacked]};t.upsample=(e,n,r)=>((0,t.validateInputs)(n,r),[e.run(Object.assign(Object.assign({},a),{cacheHint:r.cacheKey,get:()=>s(e,n,r)}),n)]),t.parseUpsampleAttributesV7=e=>(0,t.parseUpsampleAttributes)(e,7),t.parseUpsampleAttributesV9=e=>(0,t.parseUpsampleAttributes)(e,9),t.parseUpsampleAttributes=(e,n)=>{const o=n>=10,i=e.attributes.getString("mode","nearest");if("nearest"!==i&&"linear"!==i&&(n<11||"cubic"!==i))throw new Error("unrecognized mode: ".concat(i));let a=[];n<9&&(a=e.attributes.getFloats("scales"),(0,t.scalesValidation)(a,i,o));const s=e.attributes.getFloat("extrapolation_value",0),u=n>10?e.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(u))throw new Error("coordinate_transform_mode '".concat(u,"' is not supported"));const l="tf_crop_and_resize"===u,c=l,d="nearest"===i&&n>=11?e.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(d))throw new Error("nearest_mode '".concat(d,"' is not supported"));const h=e.attributes.getFloat("cubic_coeff_a",-.75),f=0!==e.attributes.getInt("exclude_outside",0);if(f&&"cubic"!==i)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const p=n<11||"nearest"===i&&"asymmetric"===u&&"floor"===d;let m=0,g=0,y=0;return n>10?e.inputs.length>2?(m=1,g=2,y=3):(g=1,y=2):9===n&&(g=1),(0,r.createAttributeWithCacheKey)({opset:n,isResize:o,mode:i,scales:a,extrapolationValue:s,coordinateTransformMode:u,useExtrapolation:c,needRoiInput:l,nearestMode:d,cubicCoefficientA:h,excludeOutside:f,useNearest2xOptimization:p,roiInputIdx:m,scalesInputIdx:g,sizesInputIdx:y})};const s=(e,t,n)=>{const r=(0,o.getGlsl)(e.session.backend.glContext.version),[s,u]=e.calculateTextureWidthAndHeight(t[0].dims,i.TextureType.unpacked),l=t[0].dims.map((e,t)=>Math.floor(e*n.scales[t])),[c,d]=e.calculateTextureWidthAndHeight(l,i.TextureType.unpacked),h=l.length,f=new Array(h),p=new Array(h);let m="\n      int output_pitches[".concat(h,"];\n      int input_pitches[").concat(h,"];\n      ");for(let o=h-1;o>=0;o--)f[o]=o===h-1?1:f[o+1]*l[o+1],p[o]=o===h-1?1:p[o+1]*t[0].dims[o+1],m+="\n        output_pitches[".concat(o,"] = ").concat(f[o],";\n        input_pitches[").concat(o,"] = ").concat(p[o],";\n        ");const g="\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ".concat(s,", ").concat(u,");\n        float value = getColorAsFloat(").concat(r.texture2D,"(X, coords));\n        return value;\n      }\n      "),y="nearest"===n.mode?"\n    ".concat(g,"\n    float process(int indices[").concat(h,"]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(c,", ").concat(d,");\n\n      ").concat(m,"\n\n      int d, m;\n      for (int dim = 0; dim < ").concat(h,"; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }"):4===h?"\n    ".concat(g,"\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(c,", ").concat(d,");\n\n      ").concat(m,"\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (").concat(t[0].dims[2]," - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }"):"\n    ".concat(g,"\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(c,", ").concat(d,");\n\n      ").concat(m,"\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (").concat(t[0].dims[0]," - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }");return Object.assign(Object.assign({},a),{output:{dims:l,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:y,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map(e=>Math.ceil(e))}]})};t.validateInputs=(e,t)=>{if(!e||t.opset<9&&1!==e.length||t.opset>=9&&t.opset<11&&2!==e.length||t.opset>=11&&e.length<2)throw new Error("invalid inputs.");if(t.scales.length>0&&e[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if("string"===e[0].type)throw new Error("Invalid input tensor types.")},t.scalesValidation=(e,t,n)=>{if(n){for(const r of e)if(r<=0)throw new Error("Scale value should be greater than 0.")}else for(const r of e)if(r<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==t&&"cubic"!==t||2===e.length||4===e.length&&1===e[0]&&1===e[1]))throw new Error("'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ".concat(n?"Resize":"Upsample"," opeartor."))}},1958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const r=n(1670),o=n(6231),i=n(8879),a=n(5060);t.ProgramManager=class{constructor(e,t,n){this.profiler=e,this.glContext=t,this.textureLayoutStrategy=n,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n){var r;this.profiler.event("op","ProgramManager.run ".concat(null!==(r=e.programInfo.name)&&void 0!==r?r:"unknown kernel"),()=>{var r;const i=this.glContext.gl,a=e.program;i.useProgram(a);try{this.bindOutput(n),this.attributesBound||this.bindAttributes(e.attribLocations),this.bindUniforms(e.uniformLocations,null!==(r=e.programInfo.variables)&&void 0!==r?r:[],t)}catch(t){throw o.Logger.error("ProgramManager",e.programInfo.shaderSource),t}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(e=>this.glContext.deleteProgram(e.program))}build(e,t,n){return this.profiler.event("backend","ProgramManager.build",()=>{const r=new i.GlslPreprocessor(this.glContext,e,t,n),o=r.preprocess(),a=this.compile(o);return{programInfo:e,program:a,uniformLocations:this.getUniformLocations(a,r.context.programInfo.inputNames,r.context.programInfo.variables),attribLocations:this.getAttribLocations(a)}})}compile(e){if(!this.vertexShader){o.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const e=(0,a.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER)}r.env.debug&&o.Logger.verbose("ProrgramManager","FragShader:\n".concat(e,"\n"));const t=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),n=this.glContext.createProgram(this.vertexShader,t);return this.glContext.deleteShader(t),n}bindOutput(e){const t=e.width,n=e.height;o.Logger.verbose("ProrgramManager","Binding output texture to Framebuffer: w/h=".concat(t,"/").concat(n,", shape=").concat(e.shape,", type=").concat(e.tensor.type)),this.glContext.attachFramebuffer(e.texture,t,n)}bindAttributes(e){const t=e.position,n=e.textureCoord;this.glContext.setVertexAttributes(t,n),this.attributesBound=!0}bindUniforms(e,t,n){var r;const o=this.glContext.gl;let i=0;for(const{name:a,type:s,location:u,arrayLength:l}of e){const e=null===(r=t.find(e=>e.name===a))||void 0===r?void 0:r.data;if("sampler2D"!==s&&!e)throw new Error("variable '".concat(a,"' does not have data defined in program info"));switch(s){case"sampler2D":this.bindTexture(n[i],u,i),i++;break;case"float":l?o.uniform1fv(u,e):o.uniform1f(u,e);break;case"int":l?o.uniform1iv(u,e):o.uniform1i(u,e);break;default:throw new Error("Uniform not implemented: ".concat(s))}}}bindTexture(e,t,n){this.glContext.bindTextureToUniform(e.texture,n,t)}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}getUniformLocations(e,t,n){const r=[];if(t)for(const o of t)r.push({name:o,type:"sampler2D",location:this.getUniformLocation(e,o)});if(n)for(const o of n)r.push(Object.assign(Object.assign({},o),{location:this.getUniformLocation(e,o.name)}));return r}getUniformLocation(e,t){const n=this.glContext.gl.getUniformLocation(e,t);if(null===n)throw new Error("Uniform ".concat(t," not found."));return n}getAttribLocation(e,t){return this.glContext.gl.getAttribLocation(e,t)}}},6416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSessionHandler=void 0;const r=n(6231),o=n(1047),i=n(8316),a=n(1640),s=n(1958),u=n(7859),l=n(5702);t.WebGLSessionHandler=class{constructor(e,t){this.backend=e,this.context=t,this.layoutStrategy=new u.PreferLogicalStrategy(e.glContext.maxTextureSize),this.programManager=new s.ProgramManager(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new l.TextureManager(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===e.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new i.WebGLInferenceHandler(this)}onGraphInitialized(e){const t=e.getValues().filter(e=>-1===e.from&&e.tensor).map(e=>e.tensor.dataId);this.initializers=new Set(t)}isInitializer(e){return!!this.initializers&&this.initializers.has(e)}addInitializer(e){this.initializers.add(e)}getTextureData(e,t){return t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),n?this.packedTextureDataCache.set(e,t):this.unpackedTextureDataCache.set(e,t)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.unpackedTextureDataCache=new Map}resolve(e,t,n){const r=(0,o.resolveOperator)(e,t,a.WEBGL_OP_RESOLVE_RULES);return{impl:r.opImpl,context:r.opInit?r.opInit(e,n):e}}}},7769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataEncoder=t.RGBAFloatDataEncoder=t.RedFloat32DataEncoder=void 0;const r=n(6231);t.RedFloat32DataEncoder=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1===t)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=t;else{if(4!==t)throw new Error("Invalid number of channels: ".concat(t));this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=t}}encode(e,t){let n,o;return e.constructor!==Float32Array&&(r.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),o=new Float32Array(e)),t*this.channelSize>e.length?(r.Logger.warning("Encoder","Source data too small. Allocating larger array"),o=e,n=this.allocate(t*this.channelSize),o.forEach((e,t)=>n[t]=e)):(o=e,n=o),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter((e,t)=>t%4==0).subarray(0,t):e.subarray(0,t)}},t.RGBAFloatDataEncoder=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(1!==t&&4!==t)throw new Error("Invalid number of channels: ".concat(t));this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=t,this.textureType=n||e.FLOAT}encode(e,t){let n=e;return 1===this.channelSize&&(r.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(t),e.forEach((e,t)=>n[4*t]=e)),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter((e,t)=>t%4==0).subarray(0,t):e.subarray(0,t)}},t.Uint8DataEncoder=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.channelSize=4,1===t)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;else{if(4!==t)throw new Error("Invalid number of channels: ".concat(t));this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t}}encode(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}allocate(e){return new Uint8Array(e*this.channelSize)}decode(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error("Invalid array type: ".concat(e.constructor))}}},7859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBatchDim=t.sizeToSquarishShape=t.getRowsCols=t.sizeFromShape=t.isInt=t.parseAxisParam=t.squeezeShape=t.PreferLogicalStrategy=t.AlwaysKeepOriginalSizeStrategy=void 0;const r=n(6231),o=n(2517);function i(e,t){const n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:a(t,e).sort();let s=0;for(let a=0;a<e.length;++a){if(null!=i){if(i[s]===a&&1!==e[a])throw new Error("Can't squeeze axis ".concat(a," since its dim '").concat(e[a],"' is not 1"));(null==i[s]||i[s]>a)&&1===e[a]&&(n.push(e[a]),r.push(a)),i[s]<=a&&s++}1!==e[a]&&(n.push(e[a]),r.push(a))}return{newShape:n,keptDims:r}}function a(e,t){const n=t.length;return e=null==e?t.map((e,t)=>t):[].concat(e),(0,o.assert)(e.every(e=>e>=-n&&e<n),()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but got axis ").concat(e)),(0,o.assert)(e.every(s),()=>"All values in axis param must be integers but got axis ".concat(e)),e.map(e=>e<0?n+e:e)}function s(e){return e%1==0}function u(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function l(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}t.AlwaysKeepOriginalSizeStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){if(0===e.length)return[1,1];const n=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const o=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((e,t)=>e*t),i=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((e,t)=>e*t);if(!(o>n||i>n))return[o,i];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:".concat(e,", breakAxis:").concat(t.breakAxis))}const o=e.reduce((e,t)=>e*t);let i=Math.floor(Math.sqrt(o));for(;i<n&&i<o&&o%i!=0;i++);if(i>=n||o%i!=0)throw new Error("The given dimensions are outside this GPU's boundaries: ".concat(e));return[i,o/i]}},t.PreferLogicalStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){const n=this.computeTexture(e,t);return t&&t.isPacked&&(n[0]/=2,n[1]/=2),t&&t.reverseWH?[n[1],n[0]]:n}computeTexture(e,t){const n=t&&t.isPacked;if(0===e.length)return n?[2,2]:[1,1];let o=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const n=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((e,t)=>e*t),i=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((e,t)=>e*t);if(!(n>o||i>o))return[n,i];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:".concat(e,", breakAxis:").concat(t.breakAxis))}let a=e.slice(0);if(n&&(o*=2,a=a.map((e,t)=>t>=a.length-2?a[t]%2==0?a[t]:a[t]+1:a[t]),1===a.length&&(a=[2,a[0]])),2!==a.length){const e=i(a);a=e.newShape}const s=u(a);return a.length<=1&&s<=o?[1,s]:2===a.length&&a[0]<=o&&a[1]<=o?a:3===a.length&&a[0]*a[1]<=o&&a[2]<=o?[a[0]*a[1],a[2]]:3===a.length&&a[0]<=o&&a[1]*a[2]<=o?[a[0],a[1]*a[2]]:4===a.length&&a[0]*a[1]*a[2]<=o&&a[3]<=o?[a[0]*a[1]*a[2],a[3]]:4===a.length&&a[0]<=o&&a[1]*a[2]*a[3]<=o?[a[0],a[1]*a[2]*a[3]]:n?l(s/4).map(e=>2*e):l(s)}},t.squeezeShape=i,t.parseAxisParam=a,t.isInt=s,t.sizeFromShape=u,t.getRowsCols=function(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]},t.sizeToSquarishShape=l,t.getBatchDim=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u(e.slice(0,e.length-t))}},4057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTextureLayoutFromShape=t.calculateTextureWidthAndHeight=t.createTextureLayoutFromTextureType=void 0;const r=n(2517),o=n(2039);t.createTextureLayoutFromTextureType=(e,n,r)=>{const i=r===o.TextureType.unpacked||r===o.TextureType.unpackedReversed?1:4,a=r===o.TextureType.packed,s=r===o.TextureType.unpackedReversed||r===o.TextureType.packed,u=r===o.TextureType.packedLastDimension?n.length-1:void 0,l=r===o.TextureType.packedLastDimension?n.map((e,t)=>t===n.length-1?4*e:e):void 0;return(0,t.createTextureLayoutFromShape)(e,n,i,l,{isPacked:a,reverseWH:s,breakAxis:u})},t.calculateTextureWidthAndHeight=(e,n,r)=>{const o=(0,t.createTextureLayoutFromTextureType)(e,n,r);return[o.width,o.height]},t.createTextureLayoutFromShape=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const a=!(!i||!i.isPacked),[s,u]=e.computeTextureWH(a&&o||t,i),l=t.length;let c=t.slice(0);if(0===l&&(c=[1]),1===n)o=t;else if(a){if(4!==n)throw new Error("a packed texture must be 4-channel");o=t,l>0&&(c[l-1]=Math.ceil(c[l-1]/2)),l>1&&(c[l-2]=Math.ceil(c[l-2]/2))}else if(!o)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:u,channels:n,isPacked:a,shape:c,strides:r.ShapeUtil.computeStrides(c),unpackedShape:o,reversedWH:i&&i.reverseWH}}},5702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureManager=void 0;const r=n(6231);t.TextureManager=class{constructor(e,t,n,r){this.glContext=e,this.layoutStrategy=t,this.profiler=n,this.config=r,this.pendingRead=new Map,r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(e,t,n,o){const i=this.toEncoderType(e),a=this.glContext.getEncoder(i,t.channels||1,o);if(t.isPacked&&1===o)throw new Error("not implemented");const s=t.width,u=t.height;let l,c;if(this.config.reuseTextures){l="".concat(s,"x").concat(u,"_").concat(a.format,"_").concat(a.internalFormat,"_").concat(a.textureType),c=this.inUseTextures.get(l),c||(c=[],this.inUseTextures.set(l,c));const t=this.idleTextures.get(l);if(t&&t.length>0){const r=t.pop();return c.push(r),1===o&&this.glContext.updateTexture(r,s,u,a,this.toTextureData(e,n)),r}}r.Logger.verbose("TextureManager","Creating new texture of size ".concat(t.width,"x").concat(t.height));const d=this.glContext.allocateTexture(s,u,a,this.toTextureData(e,n));return this.config.reuseTextures&&(c.push(d),this.textureLookup.set(d,l)),d}readTexture(e,t,n){return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const r=e.shape.reduce((e,t)=>e*t)*n,o=this.glContext.readTexture(e.texture,e.width,e.height,r,this.toEncoderType(t),n);return this.toTensorData(t,o)})}async readTextureAsync(e,t,n){const r=e.tensor.dataId;if(n||(n=1),this.pendingRead.has(r)){const e=this.pendingRead.get(r);return new Promise(t=>null==e?void 0:e.push(t))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(r,[]);const o=e.shape.reduce((e,t)=>e*t)*n;await this.glContext.createAndWaitForFence();const i=this.glContext.readTexture(e.texture,e.width,e.height,o,this.toEncoderType(t),n),a=this.toTensorData(t,i),s=this.pendingRead.get(r);return this.pendingRead.delete(r),null==s||s.forEach(e=>e(a)),a})}readUint8TextureAsFloat(e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const t=e.shape.reduce((e,t)=>e*t),n=this.glContext.readTexture(e.texture,e.width,e.height,4*t,"byte",4);return new Float32Array(n.buffer,n.byteOffset,t)})}releaseTexture(e,t){let n;if(this.config.reuseTextures&&(n=this.textureLookup.get(e.texture),n)){t&&this.textureLookup.delete(n);const r=this.inUseTextures.get(n);if(r){const t=r.indexOf(e.texture);if(-1!==t){r.splice(t,1);let o=this.idleTextures.get(n);o||(o=[],this.idleTextures.set(n,o)),o.push(e.texture)}}}n&&!t||(r.Logger.verbose("TextureManager","Deleting texture of size ".concat(e.width,"x").concat(e.height)),this.glContext.deleteTexture(e.texture))}toTensorData(e,t){switch(e){case"int16":return t instanceof Int16Array?t:Int16Array.from(t);case"int32":return t instanceof Int32Array?t:Int32Array.from(t);case"int8":return t instanceof Int8Array?t:Int8Array.from(t);case"uint16":return t instanceof Uint16Array?t:Uint16Array.from(t);case"uint32":return t instanceof Uint32Array?t:Uint32Array.from(t);case"uint8":case"bool":return t instanceof Uint8Array?t:Uint8Array.from(t);case"float32":return t instanceof Float32Array?t:Float32Array.from(t);case"float64":return t instanceof Float64Array?t:Float64Array.from(t);default:throw new Error("TensorData type ".concat(e," is not supported"))}}toTextureData(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t)}toEncoderType(e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureType=void 0,(n=t.TextureType||(t.TextureType={}))[n.unpacked=0]="unpacked",n[n.unpackedReversed=1]="unpackedReversed",n[n.packed=2]="packed",n[n.downloadUint8AsFloat=3]="downloadUint8AsFloat",n[n.packedLastDimension=4]="packedLastDimension"},9390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlChannels=t.getCoordsDataType=t.getSqueezedParams=t.squeezeInputShape=t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=t.generateShaderFuncNameFromInputSamplerName=t.repeatedTry=t.getPackedShape=void 0;const r=n(2517);t.getPackedShape=function(e){const t=e.length;return e.slice(0,t-1).concat(e[t-1]/4)},t.repeatedTry=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0;return new Promise((r,o)=>{let i=0;const a=()=>{if(e())return void r();i++;const s=t(i);null!=n&&i>=n?o():setTimeout(a,s)};a()})},t.generateShaderFuncNameFromInputSamplerName=function(e){return(0,r.assert)(void 0!==e&&0!==e.length,()=>"empty string found for sampler name"),"get"+e.charAt(0).toUpperCase()+e.slice(1)},t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(e){return(0,r.assert)(void 0!==e&&0!==e.length,()=>"empty string found for sampler name"),"get"+e.charAt(0).toUpperCase()+e.slice(1)+"AtOutCoords"},t.squeezeInputShape=function(e,t){let n=JSON.parse(JSON.stringify(e));return n=t,n},t.getSqueezedParams=function(e,t){return t.map(t=>e[t]).join(", ")},t.getCoordsDataType=function(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))},t.getGlChannels=function(){return["x","y","z","w","u","v"].slice(0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:6)}},7305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNewWebGLContext=t.createWebGLContext=void 0;const r=n(6231),o=n(1713),i={};function a(e){const t=function(){if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas)throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const e=document.createElement("canvas");return e.width=1,e.height=1,e}();let n;const i={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!e||"webgl2"===e)&&(n=t.getContext("webgl2",i),n))try{return new o.WebGLContext(n,2)}catch(e){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl2'. Error: ".concat(e))}if((!e||"webgl"===e)&&(n=t.getContext("webgl",i)||t.getContext("experimental-webgl",i),n))try{return new o.WebGLContext(n,1)}catch(e){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ".concat(e))}throw new Error("WebGL is not supported")}t.createWebGLContext=function e(t){let n;t&&"webgl2"!==t||!("webgl2"in i)?t&&"webgl"!==t||!("webgl"in i)||(n=i.webgl):n=i.webgl2,n=n||a(t),t=t||1===n.version?"webgl":"webgl2";const r=n.gl;return i[t]=n,r.isContextLost()?(delete i[t],e(t)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n)},t.createNewWebGLContext=a},1713:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=t.linearSearchLastTrue=void 0;const a=n(1670),s=i(n(7769)),u=n(9390);function l(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}t.linearSearchLastTrue=l,t.WebGLContext=class{constructor(e,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=e,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(e,t,n,r){const o=this.gl,i=o.createTexture();o.bindTexture(o.TEXTURE_2D,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);const a=r?n.encode(r,e*t):null;return o.texImage2D(o.TEXTURE_2D,0,n.internalFormat,e,t,0,n.format,n.textureType,a),this.checkError(),i}updateTexture(e,t,n,r,o){const i=this.gl;i.bindTexture(i.TEXTURE_2D,e);const a=r.encode(o,t*n);i.texSubImage2D(i.TEXTURE_2D,0,0,0,t,n,r.format,r.textureType,a),this.checkError()}attachFramebuffer(e,t,n){const r=this.gl;r.bindTexture(r.TEXTURE_2D,e),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.checkError(),r.viewport(0,0,t,n),r.scissor(0,0,t,n)}readTexture(e,t,n,r,o,i){const a=this.gl;i||(i=1),this.frameBufferBound||this.attachFramebuffer(e,t,n);const s=this.getEncoder(o,i),u=s.allocate(t*n);return a.bindTexture(a.TEXTURE_2D,e),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e,0),a.readPixels(0,0,t,n,a.RGBA,s.textureType,u),this.checkError(),s.decode(u,r)}isFramebufferReady(){return!0}getActiveTexture(){const e=this.gl;return"TEXTURE"+(e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(e,t){const n=this.gl;n.vertexAttribPointer(e,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(e),-1!==t&&(n.vertexAttribPointer(t,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(t)),this.checkError()}createProgram(e,t){const n=this.gl,r=n.createProgram();return n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),r}compileShader(e,t){const n=this.gl,r=n.createShader(t);if(!r)throw new Error("createShader() returned null with type ".concat(t));if(n.shaderSource(r,e),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("Failed to compile shader: ".concat(n.getShaderInfoLog(r),"\nShader source:\n").concat(e));return r}deleteShader(e){this.gl.deleteShader(e)}bindTextureToUniform(e,t,n){const r=this.gl;r.activeTexture(r.TEXTURE0+t),this.checkError(),r.bindTexture(r.TEXTURE_2D,e),this.checkError(),r.uniform1i(n,t),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(a.env.debug){const e=this.gl,t=e.getError();let n="";switch(t){case e.NO_ERROR:return;case e.INVALID_ENUM:n="INVALID_ENUM";break;case e.INVALID_VALUE:n="INVALID_VALUE";break;case e.INVALID_OPERATION:n="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n="Unknown WebGL Error: ".concat(t.toString(16))}throw new Error(n)}}deleteTexture(e){this.gl.deleteTexture(e)}deleteProgram(e){this.gl.deleteProgram(e)}getEncoder(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(2===this.version)return new s.RedFloat32DataEncoder(this.gl,t);switch(e){case"float":return 1===n||this.isRenderFloat32Supported?new s.RGBAFloatDataEncoder(this.gl,t):new s.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new s.Uint8DataEncoder(this.gl,t);default:throw new Error("Invalid dataType: ".concat(e))}}clearActiveTextures(){const e=this.gl;for(let t=0;t<this.maxTextureImageUnits;++t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const e=this.gl,t=e.createBuffer();if(!t)throw new Error("createBuffer() returned null");const n=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.checkError(),t}createFramebuffer(){const e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e}queryVitalParameters(){const e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const e=this.gl,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);const n=2===this.version?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,n,1,1,0,e.RGBA,e.FLOAT,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(r),o}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const e=this.gl;let t,n,r,o,i;try{t=e.createTexture(),n=e.createFramebuffer(),e.bindTexture(e.TEXTURE_2D,t);const a=2===this.version?e.RGBA32F:e.RGBA;return e.texImage2D(e.TEXTURE_2D,0,a,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.enable(e.BLEND),r=e.createShader(e.VERTEX_SHADER),!!r&&(e.shaderSource(r,"void main(){}"),e.compileShader(r),o=e.createShader(e.FRAGMENT_SHADER),!!o&&(e.shaderSource(o,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),e.compileShader(o),i=e.createProgram(),!!i&&(e.attachShader(i,r),e.attachShader(i,o),e.linkProgram(i),e.useProgram(i),e.drawArrays(e.POINTS,0,1),e.getError()===e.NO_ERROR)))}finally{e.disable(e.BLEND),i&&e.deleteProgram(i),r&&e.deleteShader(r),o&&e.deleteShader(o),n&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(n)),t&&(e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(t))}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){const e=this.gl,t=this.disjointTimerQueryWebgl2Extension,n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl,t=this.disjointTimerQueryWebgl2Extension;e.endQuery(t.TIME_ELAPSED_EXT)}}isTimerResultAvailable(e){let t=!1,n=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const r=this.gl,o=this.disjointTimerQueryWebgl2Extension;t=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE),n=r.getParameter(o.GPU_DISJOINT_EXT)}return t&&!n}getTimerResult(e){let t=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{const n=this.gl;t=n.getQueryParameter(e,n.QUERY_RESULT),n.deleteQuery(e)}return t/1e6}async waitForQueryAndGetTime(e){return await(0,u.repeatedTry)(()=>this.isTimerResultAvailable(e)),this.getTimerResult(e)}async createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t;const n=e,r=n.fenceSync(n.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),t=null===r?()=>!0:()=>{const e=n.clientWaitSync(r,0,0);return e===n.ALREADY_SIGNALED||e===n.CONDITION_SATISFIED},{query:r,isFencePassed:t}}async pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t())})}pollItems(){const e=l(this.itemsToPoll.map(e=>e.isDoneFn));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}async addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||await(0,u.repeatedTry)(()=>(this.pollItems(),0===this.itemsToPoll.length))}}},1036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionPlan=void 0;const r=n(6231);class o{constructor(e,t){this.op=e,this.node=t}}t.ExecutionPlan=class{constructor(e,t,n){this.graph=e,this.profiler=n,this.initialize(t)}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",()=>{const t=this.graph.getNodes();if(t.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map((e,n)=>new o(e,t[n])),this.reset(),this._starter=[],this._ops.forEach((e,t)=>{let n=!0;for(const r of e.node.inputs)if(!this._values[r]&&-1===this.graph.getInputIndices().indexOf(r)){n=!1;break}n&&this._starter.push(t)})})}reset(){this._values=this.graph.getValues().map(e=>e.tensor)}async execute(e,t){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const n=e.createInferenceHandler(),o=this.graph.getInputIndices();if(t.length!==o.length)throw new Error("number of input tensors don't match the number of inputs to the model: actual: ".concat(t.length," expected: ").concat(o.length));t.forEach((e,t)=>{const n=o[t];this._values[n]=e});const i=this._starter.slice(0),a=this.graph.getValues(),s=this.graph.getNodes();let u=0;for(;u<i.length;){const e=i[u++],t=this._ops[e],o=t.node.inputs.map(e=>this._values[e]);if(-1!==o.indexOf(void 0))throw new Error("unresolved input detected: op: ".concat(t.node));const l=o;r.Logger.verbose("ExecPlan","Runing op:".concat(t.node.name," (").concat(l.map((e,n)=>"'".concat(t.node.inputs[n],"': ").concat(e.type,"[").concat(e.dims.join(","),"]")).join(", "),")"));const c=await this.profiler.event("node",t.node.name,async()=>t.op.impl(n,l,t.op.context));if(c.length!==t.node.outputs.length)throw new Error("the size of output does not match model definition.");c.forEach((e,n)=>{const r=t.node.outputs[n];if(this._values[r])throw new Error("output [".concat(r,"] already has value: op:").concat(t.node.name));this._values[r]=e});const d=new Set;c.forEach((e,n)=>{const r=t.node.outputs[n];for(const t of a[r].to){const e=s[t];let n=!0;for(const t of e.inputs)if(!this._values[t]){n=!1;break}n&&d.add(t)}}),i.push(...d)}const l=[];for(let e=0;e<this.graph.getOutputIndices().length;e++){const t=this.graph.getOutputIndices()[e],n=this._values[t];if(void 0===n)throw new Error("required output [".concat(t,"] does not have value"));0===t?await n.getData():n.data,l.push(n)}return r.Logger.verbose("ExecPlan","disposing of inferenceHandler"),n.dispose(),l})}}},7070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;const r=n(1446),o=n(7778),i=n(9395),a=n(9162),s=n(2517);var u=i.onnxruntime.experimental.fbs;t.Graph={from:(e,t)=>new d(e,t)};class l{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=s.ProtoUtil.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}}class c{constructor(e,t){e instanceof r.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new o.Attribute(e.attribute)):e instanceof u.Node&&(this.name=null!=t?t:e.name(),this.opType=e.opType(),this.attributes=new o.Attribute(s.ProtoUtil.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class d{constructor(e,t){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(t),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof r.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else{if(!(e instanceof u.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(e)}}buildGraphFromOnnxFormat(e){const t=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const n=new Map;if(!e.input)throw new Error("missing information in graph: input");const r=[];for(const o of e.input){if(t.has(o.name))throw new Error("duplicated input name: ".concat(o.name));const e=this._allData.push(new l(o))-1;t.set(o.name,e),r.push(o.name)}if(!e.initializer)throw new Error("missing information in graph: initializer");for(const o of e.initializer){let e=t.get(o.name);if(void 0===e){const n=new l;n.type={shape:{dims:s.ProtoUtil.tensorDimsFromProto(o.dims)},tensorType:s.ProtoUtil.tensorDataTypeFromProto(o.dataType)},e=this._allData.push(n)-1,t.set(o.name,e)}this._allData[e]._from=-1,this._allData[e].tensor=a.Tensor.fromProto(o)}for(let o=0;o<this._allData.length;o++)this._allData[o].tensor||(this._allInputIndices.push(o),this._allInputNames.push(r[o]));if(!e.output)throw new Error("missing information in graph: output");for(const o of e.output){if(t.has(o.name))throw new Error("duplicated output name: ".concat(o.name));const e=this._allData.push(new l(o))-1;t.set(o.name,e),this._allOutputIndices.push(e),this._allOutputNames.push(o.name)}if(!e.node)throw new Error("missing information in graph: node");for(const o of e.node){if(!o.name)for(let t=0;;t++){const e="unnamed_".concat(o.opType,"_").concat(t);if(!n.has(e)){o.name=e;break}}if(n.has(o.name))throw new Error("duplicated node name: ".concat(o.name));const e=this._nodes.push(new c(o))-1;n.set(o.name,e)}for(let o=0;o<this._nodes.length;o++){const n=this._nodes[o],r=e.node[o];if(!r.output)throw new Error("missing output for node: ".concat(r.name));for(const e of r.output){let i=t.get(e);if(void 0===i&&(i=this._allData.push(new l)-1,t.set(e,i)),n.outputs.push(i),void 0!==this._allData[i]._from)throw new Error("multiple nodes output to one data value: ".concat(i));if(this._allData[i]._from=o,"Constant"===r.opType){if(!r.attribute||1!==r.attribute.length||!r.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!r.output||1!==r.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");n.outputs.pop(),n.executeNode=!1,this._allData[i]._from=-1,this._allData[i].tensor=a.Tensor.fromProto(r.attribute[0].t)}}}for(let o=0;o<this._nodes.length;o++){const n=this._nodes[o],r=e.node[o];if(!r.input)throw new Error("missing input for node: ".concat(r.name));for(const e of r.input){const i=t.get(e);if(void 0===i){if(""===e&&3===r.input.length&&"Resize"===r.opType)continue;throw new Error("unrecognized input '".concat(e,"' for node: ").concat(r.name))}n.inputs.push(i),this._allData[i]._to.push(o)}}return!0}buildGraphFromOrtFormat(e){var t,n,r;const o=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const i=new Map,d=[];for(let a=0;a<e.inputsLength();a++){const i=e.inputs(a);if(o.has(i))throw new Error("duplicated input name: ".concat(i));for(let a=0;a<e.nodeArgsLength();a++)if((null===(t=e.nodeArgs(a))||void 0===t?void 0:t.name())===i){const t=new l;if((null===(r=null===(n=e.nodeArgs(a))||void 0===n?void 0:n.type())||void 0===r?void 0:r.valueType())!==u.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const c=e.nodeArgs(a).type().value(new u.TensorTypeAndShape),h=s.ProtoUtil.tensorDataTypeFromProto(c.elemType()),f=c.shape(),p=[];for(let e=0;e<f.dimLength();e++)p.push(s.LongUtil.longToNumber(f.dim(e).value().dimValue()));t.type={shape:{dims:p},tensorType:h};const m=this._allData.push(t)-1;o.set(i,m),d.push(i)}}for(let u=0;u<e.initializersLength();u++){const t=e.initializers(u);let n=o.get(t.name());if(void 0===n){const e=new l,r=s.ProtoUtil.tensorDimsFromORTFormat(t),i=s.ProtoUtil.tensorDataTypeFromProto(t.dataType());e.type={shape:{dims:r},tensorType:i},n=this._allData.push(e)-1,o.set(t.name(),n)}this._allData[n]._from=-1,this._allData[n].tensor=a.Tensor.fromOrtTensor(t)}for(let a=0;a<this._allData.length;a++)this._allData[a].tensor||(this._allInputIndices.push(a),this._allInputNames.push(d[a]));for(let a=0;a<e.outputsLength();a++){const t=e.outputs(a);if(o.has(t))throw new Error("duplicated output name: ".concat(t));const n=this._allData.push(new l)-1;o.set(t,n),this._allOutputIndices.push(n),this._allOutputNames.push(t)}if(!e.nodes)throw new Error("missing information in graph: node");for(let a=0;a<e.nodesLength();a++){const t=e.nodes(a);let n=t.name();if(!n)for(let e=0;n="unnamed_".concat(t.opType(),"_").concat(e),i.has(n);e++);if(i.has(n))throw new Error("duplicated node name: ".concat(n));const r=this._nodes.push(new c(t,n))-1;i.set(n,r)}for(let s=0;s<this._nodes.length;s++){const t=this._nodes[s],n=e.nodes(s);if(null==n)throw new Error("No node exists at index ".concat(s));if(0===(null==n?void 0:n.outputsLength()))throw new Error("missing output for node: ".concat(n.name));for(let e=0;e<(null==n?void 0:n.outputsLength());e++){const r=null==n?void 0:n.outputs(e);let i=o.get(r);if(void 0===i&&(i=this._allData.push(new l)-1,o.set(r,i)),t.outputs.push(i),void 0!==this._allData[i]._from)throw new Error("multiple nodes output to one data value: ".concat(i));if(this._allData[i]._from=s,"Constant"===n.opType()){if(1!==n.attributesLength()||!n.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==n.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");t.outputs.pop(),t.executeNode=!1,this._allData[i]._from=-1,this._allData[i].tensor=a.Tensor.fromOrtTensor(n.attributes(0).t())}}}for(let a=0;a<this._nodes.length;a++){const t=this._nodes[a],n=e.nodes(a);if(0===n.inputsLength())throw new Error("missing input for node: ".concat(n.name));for(let e=0;e<n.inputsLength();e++){const r=n.inputs(e),i=o.get(r);if(void 0===i)throw new Error("unrecognized input '".concat(r,"' for node: ").concat(n.name()));t.inputs.push(i),this._allData[i]._to.push(a)}}}checkIsAcyclic(){const e=new Set;this._allInputIndices.forEach(t=>{this._allData[t]._to.forEach(t=>{e.add(t)})});const t=Array.from(e),n=new Array(this._nodes.length).fill("white");for(;t.length>0;){const e=t.pop();"gray"===n[e]?n[e]="black":(t.push(e),n[e]="gray",this._nodes[e].outputs.forEach(r=>{const o=this._allData[r];if(void 0!==o.tensor)throw new Error("node outputs should not be initialized");if(o._from!==e)throw new Error("from property of the Value object doesn't match index of Node being processed");o._to.forEach(e=>{if("gray"===n[e])throw new Error("model graph is cyclic");"white"===n[e]&&t.push(e)})}))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let e=0;for(let t=0;t<this._nodes.length;t++)this._nodes[t].executeNode?e>0&&(this._nodes[t].inputs.forEach(n=>{const r=this._allData[n]._to.indexOf(t+e);-1!==r&&(this._allData[n]._to[r]=t)}),this._nodes[t].outputs.forEach(n=>{this._allData[n]._from&&this._allData[n]._from===t+e&&(this._allData[n]._from=t)})):(e++,this._nodes[t].outputs.forEach(e=>{this._allData[e]._from=-2}),this._nodes.splice(t,1),t--);e=0;for(let t=0;t<this._allData.length;t++)if(-2!==this._allData[t].from||-1!==this._allOutputIndices.indexOf(t+e)){if(e>0){let n=-1;void 0!==this._allData[t].from&&-1!==this._allData[t].from?(n=this._nodes[this._allData[t].from].outputs.indexOf(t+e),-1!==n&&(this._nodes[this._allData[t].from].outputs[n]=t)):(n=this._allInputIndices.indexOf(t+e),-1!==n&&(this._allInputIndices[n]=t)),this._allData[t].to.forEach(r=>{n=this._nodes[r].inputs.indexOf(t+e),-1!==n&&(this._nodes[r].inputs[n]=t)}),0===this._allData[t].to.length&&(n=this._allOutputIndices.indexOf(t+e),-1!==n&&(this._allOutputIndices[n]=t))}}else e++,this._allData.splice(t,1),t--}deleteNode(e){const t=this._nodes[e];if(t.outputs.length>1)for(let s=1;s<t.outputs.length;s++)if(this._allData[t.outputs[s]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");t.executeNode=!1;const n=t.inputs[0],r=t.outputs[0],o=this._allData[r].to,i=this._allData[n].to.indexOf(e);if(-1===i)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[n].to.splice(i,1),this._allData[r]._to=[];const a=this._allOutputIndices.indexOf(r);if(-1!==a&&(this._allOutputIndices[a]=n),o&&o.length>0)for(const s of o){const e=this._nodes[s].inputs.indexOf(r);if(-1===e)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[s].inputs[e]=n,this._allData[n].to.push(s)}}removeAllDropoutNodes(){let e=0;for(const t of this._nodes){if("Dropout"===t.opType){if(1!==t.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==t.outputs.length&&2!==t.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===t.outputs.length&&0!==this._allData[t.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(const t of this._nodes)"Identity"===t.opType&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const e of this._nodes)if("Conv"===e.opType){const n=this._allData[e.outputs[0]]._to;if(1===n.length&&this.isActivation(this._nodes[n[0]])){const r=this._nodes[n[0]];if("Clip"===r.opType)if(1===r.inputs.length)try{e.attributes.set("activation_params","floats",[r.attributes.getFloat("min"),r.attributes.getFloat("max")])}catch(t){e.attributes.set("activation_params","floats",[s.MIN_CLIP,s.MAX_CLIP])}else{if(!(r.inputs.length>=3&&void 0!==this._allData[r.inputs[1]].tensor&&void 0!==this._allData[r.inputs[2]].tensor))continue;e.attributes.set("activation_params","floats",[this._allData[r.inputs[1]].tensor.floatData[0],this._allData[r.inputs[2]].tensor.floatData[0]])}e.attributes.set("activation","string",r.opType),this.deleteNode(n[0])}}}}},6231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.Profiler=t.Logger=void 0;const n={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},r={none:new class{log(e,t,n){}},console:new class{log(e,t,n){console.log("".concat(this.color(e)," ").concat(n?"\x1b[35m"+n+"\x1b[0m ":"").concat(t))}color(e){switch(e){case"verbose":return"\x1b[34;40mv\x1b[0m";case"info":return"\x1b[32mi\x1b[0m";case"warning":return"\x1b[30;43mw\x1b[0m";case"error":return"\x1b[31;40me\x1b[0m";case"fatal":return"\x1b[101mf\x1b[0m";default:throw new Error("unsupported severity: ".concat(e))}}}},o={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let i={"":o};function a(e,t,n,r){if(void 0===t)return o=e,{verbose:a.verbose.bind(null,o),info:a.info.bind(null,o),warning:a.warning.bind(null,o),error:a.error.bind(null,o),fatal:a.fatal.bind(null,o)};if(void 0===n)s(e,t);else if("number"==typeof n&&void 0===r)s(e,t);else if("string"==typeof n&&void 0===r)s(e,n,0,t);else{if("string"!=typeof n||"number"!=typeof r)throw new TypeError("input is valid");s(e,n,0,t)}var o}function s(e,t,o,a){const s=i[a||""]||i[""];n[e]<n[s.minimalSeverity]||(s.logDateTime&&(t="".concat((new Date).toISOString(),"|").concat(t)),s.logSourceLocation,r[s.provider].log(e,t,a))}!function(e){function t(e){i={},n("",e||{})}function n(e,n){if("*"===e)t(n);else{const t=i[e]||o;i[e]={provider:n.provider||t.provider,minimalSeverity:n.minimalSeverity||t.minimalSeverity,logDateTime:void 0===n.logDateTime?t.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?t.logSourceLocation:n.logSourceLocation}}}e.verbose=function(t,n){e("verbose",t,n)},e.info=function(t,n){e("info",t,n)},e.warning=function(t,n){e("warning",t,n)},e.error=function(t,n){e("error",t,n)},e.fatal=function(t,n){e("fatal",t,n)},e.reset=t,e.set=n,e.setWithEnv=function(e){const t={};e.logLevel&&(t.minimalSeverity=e.logLevel),n("",t)}}(a||(a={})),t.Logger=a;class u{constructor(e,t,n,r,o,i){this.category=e,this.name=t,this.startTime=n,this.endCallback=r,this.timer=o,this.ctx=i}end(){return this.endCallback(this)}async checkTimer(){if(void 0===this.ctx||void 0===this.timer)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class l{constructor(e,t,n,r){this.category=e,this.name=t,this.startTime=n,this.endTime=r}}t.Profiler=class{static create(e){return void 0===e?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}constructor(e,t,n){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===e?1e4:e,this._flushBatchSize=void 0===t?10:t,this._flushIntervalInMilliseconds=void 0===n?5e3:n}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,t.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(e,t,n,r){const o=this._started?this.begin(e,t,r):void 0;let i=!1;const a=n();if(a&&"function"==typeof a.then)return i=!0,new Promise((e,t)=>{a.then(async t=>{o&&await o.end(),e(t)},async e=>{o&&await o.end(),t(e)})});if(!i&&o){const e=o.end();if(e&&"function"==typeof e.then)return new Promise((t,n)=>{e.then(()=>{t(a)},e=>{n(e)})})}return a}begin(e,n,r){if(!this._started)throw new Error("profiler is not started yet");if(void 0===r){const r=(0,t.now)();return this.flush(r),new u(e,n,r,e=>this.endSync(e))}{const t=r.beginTimer();return new u(e,n,0,async e=>this.end(e),t,r)}}async end(e){const t=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new l(e.category,e.name,e.startTime,t)),this.flush(t))}endSync(e){const n=(0,t.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new l(e.category,e.name,e.startTime,n)),this.flush(n))}logOneEvent(e){t.Logger.verbose("Profiler.".concat(e.category),"".concat((e.endTime-e.startTime).toFixed(2),"ms on event '").concat(e.name,"' at ").concat(e.endTime.toFixed(2)))}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(const e=this._flushPointer;this._flushPointer<e+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,t.now)()}}get started(){return this._started}},t.now="undefined"!=typeof performance&&performance.now?()=>performance.now():Date.now},2644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const r=n(5686),o=n(1446),i=n(7070),a=n(9395),s=n(2517);var u=a.onnxruntime.experimental.fbs;t.Model=class{constructor(){}load(e,t,n){if(!n)try{return void this.loadFromOnnxFormat(e,t)}catch(e){if(void 0!==n)throw e}this.loadFromOrtFormat(e,t)}loadFromOnnxFormat(e,t){const n=o.onnx.ModelProto.decode(e);if(s.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map(e=>({domain:e.domain,version:s.LongUtil.longToNumber(e.version)})),this._graph=i.Graph.from(n.graph,t)}loadFromOrtFormat(e,t){const n=new r.flatbuffers.ByteBuffer(e),o=u.InferenceSession.getRootAsInferenceSession(n).model();if(s.LongUtil.longToNumber(o.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let r=0;r<o.opsetImportLength();r++){const e=o.opsetImport(r);this._opsets.push({domain:null==e?void 0:e.domain(),version:s.LongUtil.longToNumber(e.version())})}this._graph=i.Graph.from(o.graph(),t)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_TYPES=t.INT_TYPES=t.NUMBER_TYPES=void 0,t.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],t.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],t.FLOAT_TYPES=["float32","float64"]},1047:(e,t)=>{"use strict";function n(e,t){if(t.endsWith("+")){const n=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(n)&&n<=e}if(2===t.split("-").length){const n=t.split("-"),r=Number.parseInt(n[0],10),o=Number.parseInt(n[1],10);return!isNaN(r)&&!isNaN(o)&&r<=e&&e<=o}return Number.parseInt(t,10)===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveOperator=void 0,t.resolveOperator=function(e,t,r){for(const o of r){const r=o[0],i=o[1],a=o[2],s=o[3],u=o[4];if(e.opType===r)for(const e of t)if((e.domain===i||"ai.onnx"===e.domain&&""===i)&&n(e.version,a))return{opImpl:s,opInit:u}}throw new TypeError("cannot resolve operator '".concat(e.opType,"' with opsets: ").concat(t.map(e=>"".concat(e.domain||"ai.onnx"," v").concat(e.version)).join(", ")))}},9395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onnxruntime=void 0;const r=n(5686);var o,i;(function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.INT=2]="INT",e[e.STRING=3]="STRING",e[e.TENSOR=4]="TENSOR",e[e.GRAPH=5]="GRAPH",e[e.FLOATS=6]="FLOATS",e[e.INTS=7]="INTS",e[e.STRINGS=8]="STRINGS",e[e.TENSORS=9]="TENSORS",e[e.GRAPHS=10]="GRAPHS",e[e.SPARSE_TENSOR=11]="SPARSE_TENSOR",e[e.SPARSE_TENSORS=12]="SPARSE_TENSORS"}(t=e.AttributeType||(e.AttributeType={}))})((i=(o=t.onnxruntime||(t.onnxruntime={})).experimental||(o.experimental={})).fbs||(i.fbs={})),function(e){!function(e){!function(e){let t;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VALUE=1]="VALUE",e[e.PARAM=2]="PARAM"}(t=e.DimensionValueType||(e.DimensionValueType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.UINT8=2]="UINT8",e[e.INT8=3]="INT8",e[e.UINT16=4]="UINT16",e[e.INT16=5]="INT16",e[e.INT32=6]="INT32",e[e.INT64=7]="INT64",e[e.STRING=8]="STRING",e[e.BOOL=9]="BOOL",e[e.FLOAT16=10]="FLOAT16",e[e.DOUBLE=11]="DOUBLE",e[e.UINT32=12]="UINT32",e[e.UINT64=13]="UINT64",e[e.COMPLEX64=14]="COMPLEX64",e[e.COMPLEX128=15]="COMPLEX128",e[e.BFLOAT16=16]="BFLOAT16"}(t=e.TensorDataType||(e.TensorDataType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.Primitive=0]="Primitive",e[e.Fused=1]="Fused"}(t=e.NodeType||(e.NodeType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.NONE=0]="NONE",e[e.tensor_type=1]="tensor_type",e[e.sequence_type=2]="sequence_type",e[e.map_type=3]="map_type"}(t=e.TypeInfoValue||(e.TypeInfoValue={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsShape(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsShape(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}dim(t,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}dimLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}static startShape(e){e.startObject(1)}static addDim(e,t){e.addFieldOffset(0,t,0)}static createDimVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startDimVector(e,t){e.startVector(4,t,4)}static endShape(e){return e.endObject()}static createShape(e,t){return n.startShape(e),n.addDim(e,t),n.endShape(e)}}t.Shape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimension(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimension(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}value(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}denotation(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimension(e){e.startObject(2)}static addValue(e,t){e.addFieldOffset(0,t,0)}static addDenotation(e,t){e.addFieldOffset(1,t,0)}static endDimension(e){return e.endObject()}static createDimension(e,t,r){return n.startDimension(e),n.addValue(e,t),n.addDenotation(e,r),n.endDimension(e)}}t.Dimension=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimensionValue(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimensionValue(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}dimType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):e.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}dimParam(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimensionValue(e){e.startObject(3)}static addDimType(t,n){t.addFieldInt8(0,n,e.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static addDimParam(e,t){e.addFieldOffset(2,t,0)}static endDimensionValue(e){return e.endObject()}static createDimensionValue(e,t,r,o){return n.startDimensionValue(e),n.addDimType(e,t),n.addDimValue(e,r),n.addDimParam(e,o),n.endDimensionValue(e)}}t.DimensionValue=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorTypeAndShape(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorTypeAndShape(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}elemType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}shape(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startTensorTypeAndShape(e){e.startObject(2)}static addElemType(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(e,t){e.addFieldOffset(1,t,0)}static endTensorTypeAndShape(e){return e.endObject()}static createTensorTypeAndShape(e,t,r){return n.startTensorTypeAndShape(e),n.addElemType(e,t),n.addShape(e,r),n.endTensorTypeAndShape(e)}}t.TensorTypeAndShape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMapType(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMapType(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}keyType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}valueType(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startMapType(e){e.startObject(2)}static addKeyType(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(e,t){e.addFieldOffset(1,t,0)}static endMapType(e){return e.endObject()}static createMapType(e,t,r){return n.startMapType(e),n.addKeyType(e,t),n.addValueType(e,r),n.endMapType(e)}}t.MapType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSequenceType(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSequenceType(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}elemType(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startSequenceType(e){e.startObject(1)}static addElemType(e,t){e.addFieldOffset(0,t,0)}static endSequenceType(e){return e.endObject()}static createSequenceType(e,t){return n.startSequenceType(e),n.addElemType(e,t),n.endSequenceType(e)}}t.SequenceType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){(e.fbs||(e.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(e,t,n,r){return e.prep(4,12),e.writeInt32(r),e.writeInt32(n),e.writeInt32(t),e.offset()}}}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNodeEdge(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNodeEdge(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}nodeIndex(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0}inputEdges(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}inputEdgesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}outputEdges(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}outputEdgesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNodeEdge(e){e.startObject(3)}static addNodeIndex(e,t){e.addFieldInt32(0,t,0)}static addInputEdges(e,t){e.addFieldOffset(1,t,0)}static startInputEdgesVector(e,t){e.startVector(12,t,4)}static addOutputEdges(e,t){e.addFieldOffset(2,t,0)}static startOutputEdgesVector(e,t){e.startVector(12,t,4)}static endNodeEdge(e){return e.endObject()}static createNodeEdge(e,t,r,o){return n.startNodeEdge(e),n.addNodeIndex(e,t),n.addInputEdges(e,r),n.addOutputEdges(e,o),n.endNodeEdge(e)}}t.NodeEdge=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNode(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNode(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}sinceVersion(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0}index(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint32(this.bb_pos+e):0}opType(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.NodeType.Primitive}executionProviderType(e){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null}inputs(e,t){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}attributes(t,n){let r=this.bb.__offset(this.bb_pos,24);return r?(n||new e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}attributesLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCounts(e){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}inputArgCountsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCountsArray(){let e=this.bb.__offset(this.bb_pos,26);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}implicitInputs(e,t){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}implicitInputsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNode(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDomain(e,t){e.addFieldOffset(2,t,0)}static addSinceVersion(e,t){e.addFieldInt32(3,t,0)}static addIndex(e,t){e.addFieldInt32(4,t,0)}static addOpType(e,t){e.addFieldOffset(5,t,0)}static addType(t,n){t.addFieldInt32(6,n,e.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(e,t){e.addFieldOffset(7,t,0)}static addInputs(e,t){e.addFieldOffset(8,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(9,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addAttributes(e,t){e.addFieldOffset(10,t,0)}static createAttributesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startAttributesVector(e,t){e.startVector(4,t,4)}static addInputArgCounts(e,t){e.addFieldOffset(11,t,0)}static createInputArgCountsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startInputArgCountsVector(e,t){e.startVector(4,t,4)}static addImplicitInputs(e,t){e.addFieldOffset(12,t,0)}static createImplicitInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startImplicitInputsVector(e,t){e.startVector(4,t,4)}static endNode(e){return e.endObject()}static createNode(e,t,r,o,i,a,s,u,l,c,d,h,f,p){return n.startNode(e),n.addName(e,t),n.addDocString(e,r),n.addDomain(e,o),n.addSinceVersion(e,i),n.addIndex(e,a),n.addOpType(e,s),n.addType(e,u),n.addExecutionProviderType(e,l),n.addInputs(e,c),n.addOutputs(e,d),n.addAttributes(e,h),n.addInputArgCounts(e,f),n.addImplicitInputs(e,p),n.endNode(e)}}t.Node=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsValueInfo(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsValueInfo(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startValueInfo(e){e.startObject(3)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(e,t){e.addFieldOffset(2,t,0)}static endValueInfo(e){return e.endObject()}static createValueInfo(e,t,r,o){return n.startValueInfo(e),n.addName(e,t),n.addDocString(e,r),n.addType(e,o),n.endValueInfo(e)}}t.ValueInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTypeInfo(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTypeInfo(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}denotation(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}valueType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):e.experimental.fbs.TypeInfoValue.NONE}value(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}static startTypeInfo(e){e.startObject(3)}static addDenotation(e,t){e.addFieldOffset(0,t,0)}static addValueType(t,n){t.addFieldInt8(1,n,e.experimental.fbs.TypeInfoValue.NONE)}static addValue(e,t){e.addFieldOffset(2,t,0)}static endTypeInfo(e){return e.endObject()}static createTypeInfo(e,t,r,o){return n.startTypeInfo(e),n.addDenotation(e,t),n.addValueType(e,r),n.addValue(e,o),n.endTypeInfo(e)}}t.TypeInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsOperatorSetId(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsOperatorSetId(e,n){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}domain(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}version(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}static startOperatorSetId(e){e.startObject(2)}static addDomain(e,t){e.addFieldOffset(0,t,0)}static addVersion(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static endOperatorSetId(e){return e.endObject()}static createOperatorSetId(e,n,r){return t.startOperatorSetId(e),t.addDomain(e,n),t.addVersion(e,r),t.endOperatorSetId(e)}}e.OperatorSetId=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}dataType(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}rawData(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0}rawDataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}rawDataArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}stringData(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringDataLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}static startTensor(e){e.startObject(6)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static addDataType(t,n){t.addFieldInt32(3,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(e,t){e.addFieldOffset(4,t,0)}static createRawDataVector(e,t){e.startVector(1,t.length,1);for(let n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()}static startRawDataVector(e,t){e.startVector(1,t,1)}static addStringData(e,t){e.addFieldOffset(5,t,0)}static createStringDataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startStringDataVector(e,t){e.startVector(4,t,4)}static endTensor(e){return e.endObject()}static createTensor(e,t,r,o,i,a,s){return n.startTensor(e),n.addName(e,t),n.addDocString(e,r),n.addDims(e,o),n.addDataType(e,i),n.addRawData(e,a),n.addStringData(e,s),n.endTensor(e)}}t.Tensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}values(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}indices(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSparseTensor(e){e.startObject(3)}static addValues(e,t){e.addFieldOffset(0,t,0)}static addIndices(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static endSparseTensor(e){return e.endObject()}static createSparseTensor(e,t,r,o){return n.startSparseTensor(e),n.addValues(e,t),n.addIndices(e,r),n.addDims(e,o),n.endSparseTensor(e)}}t.SparseTensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsAttribute(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsAttribute(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.AttributeType.UNDEFINED}f(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):0}i(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}s(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}t(t){let n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}g(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}floats(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+4*e):0}floatsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}floatsArray(){let e=this.bb.__offset(this.bb_pos,20);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}ints(e){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}intsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}strings(e,t){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringsLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}tensors(t,n){let r=this.bb.__offset(this.bb_pos,26);return r?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}tensorsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}graphs(t,n){let r=this.bb.__offset(this.bb_pos,28);return r?(n||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}graphsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startAttribute(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(t,n){t.addFieldInt32(2,n,e.experimental.fbs.AttributeType.UNDEFINED)}static addF(e,t){e.addFieldFloat32(3,t,0)}static addI(e,t){e.addFieldInt64(4,t,e.createLong(0,0))}static addS(e,t){e.addFieldOffset(5,t,0)}static addT(e,t){e.addFieldOffset(6,t,0)}static addG(e,t){e.addFieldOffset(7,t,0)}static addFloats(e,t){e.addFieldOffset(8,t,0)}static createFloatsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()}static startFloatsVector(e,t){e.startVector(4,t,4)}static addInts(e,t){e.addFieldOffset(9,t,0)}static createIntsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startIntsVector(e,t){e.startVector(8,t,8)}static addStrings(e,t){e.addFieldOffset(10,t,0)}static createStringsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startStringsVector(e,t){e.startVector(4,t,4)}static addTensors(e,t){e.addFieldOffset(11,t,0)}static createTensorsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startTensorsVector(e,t){e.startVector(4,t,4)}static addGraphs(e,t){e.addFieldOffset(12,t,0)}static createGraphsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startGraphsVector(e,t){e.startVector(4,t,4)}static endAttribute(e){return e.endObject()}static createAttribute(e,t,r,o,i,a,s,u,l,c,d,h,f,p){return n.startAttribute(e),n.addName(e,t),n.addDocString(e,r),n.addType(e,o),n.addF(e,i),n.addI(e,a),n.addS(e,s),n.addT(e,u),n.addG(e,l),n.addFloats(e,c),n.addInts(e,d),n.addStrings(e,h),n.addTensors(e,f),n.addGraphs(e,p),n.endAttribute(e)}}t.Attribute=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsGraph(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsGraph(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}initializers(t,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}initializersLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeArgs(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodeArgsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}nodes(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}maxNodeIndex(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb_pos+e):0}nodeEdges(t,n){let r=this.bb.__offset(this.bb_pos,12);return r?(n||new e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodeEdgesLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}inputs(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}sparseInitializers(t,n){let r=this.bb.__offset(this.bb_pos,18);return r?(n||new e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}sparseInitializersLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}static startGraph(e){e.startObject(8)}static addInitializers(e,t){e.addFieldOffset(0,t,0)}static createInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInitializersVector(e,t){e.startVector(4,t,4)}static addNodeArgs(e,t){e.addFieldOffset(1,t,0)}static createNodeArgsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodeArgsVector(e,t){e.startVector(4,t,4)}static addNodes(e,t){e.addFieldOffset(2,t,0)}static createNodesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodesVector(e,t){e.startVector(4,t,4)}static addMaxNodeIndex(e,t){e.addFieldInt32(3,t,0)}static addNodeEdges(e,t){e.addFieldOffset(4,t,0)}static createNodeEdgesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodeEdgesVector(e,t){e.startVector(4,t,4)}static addInputs(e,t){e.addFieldOffset(5,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(6,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addSparseInitializers(e,t){e.addFieldOffset(7,t,0)}static createSparseInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startSparseInitializersVector(e,t){e.startVector(4,t,4)}static endGraph(e){return e.endObject()}static createGraph(e,t,r,o,i,a,s,u,l){return n.startGraph(e),n.addInitializers(e,t),n.addNodeArgs(e,r),n.addNodes(e,o),n.addMaxNodeIndex(e,i),n.addNodeEdges(e,a),n.addInputs(e,s),n.addOutputs(e,u),n.addSparseInitializers(e,l),n.endGraph(e)}}t.Graph=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsModel(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsModel(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}irVersion(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}opsetImport(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}opsetImportLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}producerName(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}producerVersion(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null}modelVersion(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}docString(e){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,e):null}graph(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}graphDocString(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb_pos+t,e):null}static startModel(e){e.startObject(9)}static addIrVersion(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addOpsetImport(e,t){e.addFieldOffset(1,t,0)}static createOpsetImportVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOpsetImportVector(e,t){e.startVector(4,t,4)}static addProducerName(e,t){e.addFieldOffset(2,t,0)}static addProducerVersion(e,t){e.addFieldOffset(3,t,0)}static addDomain(e,t){e.addFieldOffset(4,t,0)}static addModelVersion(e,t){e.addFieldInt64(5,t,e.createLong(0,0))}static addDocString(e,t){e.addFieldOffset(6,t,0)}static addGraph(e,t){e.addFieldOffset(7,t,0)}static addGraphDocString(e,t){e.addFieldOffset(8,t,0)}static endModel(e){return e.endObject()}static createModel(e,t,r,o,i,a,s,u,l,c){return n.startModel(e),n.addIrVersion(e,t),n.addOpsetImport(e,r),n.addProducerName(e,o),n.addProducerVersion(e,i),n.addDomain(e,a),n.addModelVersion(e,s),n.addDocString(e,u),n.addGraph(e,l),n.addGraphDocString(e,c),n.endModel(e)}}t.Model=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKernelCreateInfos(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKernelCreateInfos(e,n){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}nodeIndices(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0}nodeIndicesLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeIndicesArray(){let e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}kernelDefHashes(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}kernelDefHashesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startKernelCreateInfos(e){e.startObject(2)}static addNodeIndices(e,t){e.addFieldOffset(0,t,0)}static createNodeIndicesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startNodeIndicesVector(e,t){e.startVector(4,t,4)}static addKernelDefHashes(e,t){e.addFieldOffset(1,t,0)}static createKernelDefHashesVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startKernelDefHashesVector(e,t){e.startVector(8,t,8)}static endKernelCreateInfos(e){return e.endObject()}static createKernelCreateInfos(e,n,r){return t.startKernelCreateInfos(e),t.addNodeIndices(e,n),t.addKernelDefHashes(e,r),t.endKernelCreateInfos(e)}}e.KernelCreateInfos=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSubGraphSessionState(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSubGraphSessionState(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}graphId(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}sessionState(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startSubGraphSessionState(e){e.startObject(2)}static addGraphId(e,t){e.addFieldOffset(0,t,0)}static addSessionState(e,t){e.addFieldOffset(1,t,0)}static endSubGraphSessionState(e){let t=e.endObject();return e.requiredField(t,4),t}static createSubGraphSessionState(e,t,r){return n.startSubGraphSessionState(e),n.addGraphId(e,t),n.addSessionState(e,r),n.endSubGraphSessionState(e)}}t.SubGraphSessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSessionState(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSessionState(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}kernels(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}subGraphSessionStates(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}subGraphSessionStatesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSessionState(e){e.startObject(2)}static addKernels(e,t){e.addFieldOffset(0,t,0)}static addSubGraphSessionStates(e,t){e.addFieldOffset(1,t,0)}static createSubGraphSessionStatesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startSubGraphSessionStatesVector(e,t){e.startVector(4,t,4)}static endSessionState(e){return e.endObject()}static createSessionState(e,t,r){return n.startSessionState(e),n.addKernels(e,t),n.addSubGraphSessionStates(e,r),n.endSessionState(e)}}t.SessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInferenceSession(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInferenceSession(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static bufferHasIdentifier(e){return e.__has_identifier("ORTM")}ortVersion(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}model(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}sessionState(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startInferenceSession(e){e.startObject(3)}static addOrtVersion(e,t){e.addFieldOffset(0,t,0)}static addModel(e,t){e.addFieldOffset(1,t,0)}static addSessionState(e,t){e.addFieldOffset(2,t,0)}static endInferenceSession(e){return e.endObject()}static finishInferenceSessionBuffer(e,t){e.finish(t,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(e,t){e.finish(t,"ORTM",!0)}static createInferenceSession(e,t,r,o){return n.startInferenceSession(e),n.addOrtVersion(e,t),n.addModel(e,r),n.addSessionState(e,o),n.endInferenceSession(e)}}t.InferenceSession=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={}))},7448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxjsSessionHandler=void 0;const r=n(1670),o=n(9162);t.OnnxjsSessionHandler=class{constructor(e){this.session=e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(e,t,n){const i=new Map;for(const r in e)if(Object.hasOwnProperty.call(e,r)){const t=e[r];i.set(r,new o.Tensor(t.dims,t.type,void 0,void 0,t.data))}const a=await this.session.run(i),s={};return a.forEach((e,t)=>{s[t]=new r.Tensor(e.type,e.data,e.dims)}),s}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;const r=n(7067),o=n(1296),i=n(7091),a=n(1036),s=n(6231),u=n(2644);t.Session=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._initialized=!1,this.backendHint=e.backendHint,this.profiler=s.Profiler.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(e,t,n){await this.profiler.event("session","Session.loadModel",async()=>{const a=await(0,i.resolveBackend)(this.backendHint);if(this.sessionHandler=a.createSessionHandler(this.context),this._model=new u.Model,"string"==typeof e){const t=e.endsWith(".ort");if("undefined"==typeof fetch){const n=await(0,o.promisify)(r.readFile)(e);this.initialize(n,t)}else{const n=await fetch(e),r=await n.arrayBuffer();this.initialize(new Uint8Array(r),t)}}else if(ArrayBuffer.isView(e))this.initialize(e);else{const r=new Uint8Array(e,t||0,n||e.byteLength);this.initialize(r)}})}initialize(e,t){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const n=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(e,n,t),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new a.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(e){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const t=this.normalizeAndValidateInputs(e),n=await this._executionPlan.execute(this.sessionHandler,t);return this.createOutput(n)})}normalizeAndValidateInputs(e){const t=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==t.length)throw new Error("incorrect input array length: expected ".concat(t.length," but got ").concat(e.length))}else{if(e.size!==t.length)throw new Error("incorrect input map size: expected ".concat(t.length," but got ").concat(e.size));const n=new Array(e.size);let r=0;for(let o=0;o<t.length;++o){const i=e.get(t[o]);if(!i)throw new Error("missing input tensor for: '".concat(name,"'"));n[r++]=i}e=n}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,e,!1);else{const t=this._model.graph.getInputIndices(),n=this._model.graph.getValues(),r=new Array(t.length);for(let o=0;o<t.length;++o){const i=n[t[o]];r[o]=i.type.shape.dims,this.context.graphInputTypes.push(i.type.tensorType),this.context.graphInputDims.push(e[o].dims)}this.validateInputTensorDims(r,e,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,e),e}validateInputTensorTypes(e,t){for(let n=0;n<t.length;n++){const r=e[n],o=t[n].type;if(r!==o)throw new Error("input tensor[".concat(n,"] check failed: expected type '").concat(r,"' but got ").concat(o))}}validateInputTensorDims(e,t,n){for(let r=0;r<t.length;r++){const o=e[r],i=t[r].dims;if(!this.compareTensorDims(o,i,n))throw new Error("input tensor[".concat(r,"] check failed: expected shape '[").concat(o.join(","),"]' but got [").concat(i.join(","),"]"))}}compareTensorDims(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]&&(!n||0!==e[r]))return!1;return!0}createOutput(e){const t=this._model.graph.getOutputNames();if(e.length!==t.length)throw new Error("expected number of outputs do not match number of generated outputs");const n=new Map;for(let r=0;r<t.length;++r)n.set(t[r],e[r]);return n}initializeOps(e){const t=e.getNodes();this._ops=new Array(t.length);for(let n=0;n<t.length;n++)this._ops[n]=this.sessionHandler.resolve(t[n],this._model.opsets,e)}}},9162:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const o=n(3442),i=r(n(3720)),a=n(1446),s=n(9395),u=n(2517);var l=s.onnxruntime.experimental.fbs;class c{get data(){if(void 0===this.cache){const e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(e){return this.data[u.ShapeUtil.indicesToOffset(e,this.strides)]}set(e,t){this.data[u.ShapeUtil.indicesToOffset(e,this.strides)]=t}async getData(){return void 0===this.cache&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=u.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o.Guid.create();this.dims=e,this.type=t,this.dataProvider=n,this.asyncDataProvider=r,this.cache=i,this.dataId=a,this.size=u.ShapeUtil.validateDimsAndCalcSize(e);const s=this.size,l=void 0===n&&void 0===r&&void 0===i;if(void 0!==i&&i.length!==s)throw new RangeError("Input dims doesn't match data length.");if("string"===t){if(!(void 0===i||Array.isArray(i)&&i.every(e=>"string"==typeof e)))throw new TypeError("cache should be a string array");l&&(this.cache=new Array(s))}else{if(void 0!==i){const e=h(t);if(!(i instanceof e))throw new TypeError("cache should be type ".concat(e.name))}if(l){const e=new ArrayBuffer(s*function(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error("cannot calculate sizeof() on type ".concat(e))}}(t));this.cache=function(e,t){return new(h(t))(e)}(e,t)}}}static fromProto(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=u.ProtoUtil.tensorDataTypeFromProto(e.dataType),n=u.ProtoUtil.tensorDimsFromProto(e.dims),r=new c(n,t);if("string"===t)e.stringData.forEach((e,t)=>{r.data[t]=(0,u.decodeUtf8String)(e)});else if(e.rawData&&"number"==typeof e.rawData.byteLength&&e.rawData.byteLength>0){const t=r.data,n=new DataView(e.rawData.buffer,e.rawData.byteOffset,e.rawData.byteLength),o=d(e.dataType),i=e.rawData.byteLength/o;if(e.rawData.byteLength%o!=0)throw new Error("invalid buffer length");if(t.length!==i)throw new Error("buffer length mismatch");for(let r=0;r<i;r++){const i=p(n,e.dataType,r*o);t[r]=i}}else{let t;switch(e.dataType){case a.onnx.TensorProto.DataType.FLOAT:t=e.floatData;break;case a.onnx.TensorProto.DataType.INT32:case a.onnx.TensorProto.DataType.INT16:case a.onnx.TensorProto.DataType.UINT16:case a.onnx.TensorProto.DataType.INT8:case a.onnx.TensorProto.DataType.UINT8:case a.onnx.TensorProto.DataType.BOOL:t=e.int32Data;break;case a.onnx.TensorProto.DataType.INT64:t=e.int64Data;break;case a.onnx.TensorProto.DataType.DOUBLE:t=e.doubleData;break;case a.onnx.TensorProto.DataType.UINT32:case a.onnx.TensorProto.DataType.UINT64:t=e.uint64Data;break;default:throw new Error("unspecific error")}if(null==t)throw new Error("failed to populate data from a tensorproto value");const n=r.data;if(n.length!==t.length)throw new Error("array length mismatch");for(let r=0;r<t.length;r++){const o=t[r];i.default.isLong(o)?n[r]=f(o,e.dataType):n[r]=o}}return r}static fromData(e,t,n){return new c(t,n,void 0,void 0,e)}static fromOrtTensor(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=u.ProtoUtil.tensorDimsFromORTFormat(e),n=u.ProtoUtil.tensorDataTypeFromProto(e.dataType()),r=new c(t,n);if("string"===n)for(let o=0;o<e.stringDataLength();o++)r.data[o]=e.stringData(o);else if(e.rawDataArray()&&"number"==typeof e.rawDataLength()&&e.rawDataLength()>0){const t=r.data,n=new DataView(e.rawDataArray().buffer,e.rawDataArray().byteOffset,e.rawDataLength()),o=d(e.dataType()),i=e.rawDataLength()/o;if(e.rawDataLength()%o!=0)throw new Error("invalid buffer length");if(t.length!==i)throw new Error("buffer length mismatch");for(let r=0;r<i;r++){const i=p(n,e.dataType(),r*o);t[r]=i}}return r}}function d(e){switch(e){case a.onnx.TensorProto.DataType.UINT8:case a.onnx.TensorProto.DataType.INT8:case a.onnx.TensorProto.DataType.BOOL:return 1;case a.onnx.TensorProto.DataType.UINT16:case a.onnx.TensorProto.DataType.INT16:return 2;case a.onnx.TensorProto.DataType.FLOAT:case a.onnx.TensorProto.DataType.INT32:case a.onnx.TensorProto.DataType.UINT32:return 4;case a.onnx.TensorProto.DataType.INT64:case a.onnx.TensorProto.DataType.DOUBLE:case a.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error("cannot calculate sizeof() on type ".concat(a.onnx.TensorProto.DataType[e]))}}function h(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function f(e,t){if(t===a.onnx.TensorProto.DataType.INT64||t===l.TensorDataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(t!==a.onnx.TensorProto.DataType.UINT32&&t!==l.TensorDataType.UINT32&&t!==a.onnx.TensorProto.DataType.UINT64&&t!==l.TensorDataType.UINT64)throw new TypeError("not a LONG type: ".concat(a.onnx.TensorProto.DataType[t]));if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported")}return e.toNumber()}function p(e,t,n){switch(t){case a.onnx.TensorProto.DataType.BOOL:case a.onnx.TensorProto.DataType.UINT8:return e.getUint8(n);case a.onnx.TensorProto.DataType.INT8:return e.getInt8(n);case a.onnx.TensorProto.DataType.UINT16:return e.getUint16(n,!0);case a.onnx.TensorProto.DataType.INT16:return e.getInt16(n,!0);case a.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(n,!0);case a.onnx.TensorProto.DataType.INT32:return e.getInt32(n,!0);case a.onnx.TensorProto.DataType.UINT32:return e.getUint32(n,!0);case a.onnx.TensorProto.DataType.INT64:return f(i.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!1),t);case a.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(n,!0);case a.onnx.TensorProto.DataType.UINT64:return f(i.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!0),t);default:throw new Error("cannot read from DataView for type ".concat(a.onnx.TensorProto.DataType[t]))}}t.Tensor=c},2517:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUtf8String=t.MAX_CLIP=t.MIN_CLIP=t.PoolConvUtil=t.ReduceUtil=t.SplitUtil=t.MathUtil=t.ShapeUtil=t.LongUtil=t.ProtoUtil=t.GemmUtil=t.arrayCopyHelper=t.BroadcastUtil=t.MatMulUtil=t.ArrayUtil=t.assert=t.checkInputsShape=void 0;const o=n(5686),i=r(n(3720)),a=n(1446),s=n(9162);t.checkInputsShape=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!e||e.length!==n.length)return!1;for(let o=0;o<e.length;o++)if(!e[o].dims||e[o].dims.length!==n[o])return!1;return!0},t.assert=function(e,t){if(!e)throw new Error("string"==typeof t?t:t())},t.ArrayUtil=class{static arraysEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}};class u{static preprocessInputShapes(e,t){return[1===e.length?[1,e[0]]:e,1===t.length?[t[0],1]:t]}static postprocessOutputShape(e,t,n){1===t&&e.splice(e.length-2,1),1===n&&e.pop()}static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}t.MatMulUtil=u;class l{static calcShape(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,o=t.length;if(0===r)return t;if(0===o)return e;const i=Math.max(e.length,t.length),a=new Array(i);if(n){if(r<2||o<2)return;const n=u.calcMatMulShape([e[r-2],e[r-1]],[t[o-2],t[o-1]]);if(void 0===n)return;[a[i-2],a[i-1]]=n}for(let s=n?3:1;s<=i;s++){const n=r-s<0?1:e[r-s],u=o-s<0?1:t[o-s];if(n!==u&&n>1&&u>1)return;a[i-s]=Math.max(n,u)}return a}static index(e,t){const n=new Array(t.length);return l.fillIndex(e,t,n),n}static fillIndex(e,t,n){const r=e.length-t.length;for(let o=0;o<t.length;o++)n[o]=e[r+o]%t[o]}static calc(e,t,n,r,o){const i=l.calcShape(e.dims,t.dims);if(i){if(r&&!h.areEqual(i,e.dims))return;const a=h.size(i),u=r?e:new s.Tensor(i,o||e.type);if(0===i.length)u.set([],n(e.get([]),t.get([])));else{const r=new Array(i.length),o=new Array(e.dims.length),s=new Array(t.dims.length);let c,d=0,h=0,f=!1,p=!1;0===e.dims.length&&(d=e.get([]),f=!0),0===t.dims.length&&(h=t.get([]),p=!0);for(let m=0;m<a;m++){c=m;for(let e=i.length-1;e>=0;e--)r[e]=c%i[e],c=Math.floor(c/i[e]);f||(l.fillIndex(r,e.dims,o),d=e.get(o)),p||(l.fillIndex(r,t.dims,s),h=t.get(s)),u.set(r,n(d,h))}}return u}}static isValidBroadcast(e,t){const n=e.length,r=t.length;if(n>r)return!1;for(let o=1;o<=n;o++)if(1!==e[n-o]&&e[n-o]!==t[r-o])return!1;return!0}static getBroadcastDims(e,t){const n=e.length,r=[];for(let o=0;o<n;o++){const i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}}t.BroadcastUtil=l,t.arrayCopyHelper=function(e,t,n,r,o){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(let i=0;i<o;i++)e[n+i]=t[r+i]},t.GemmUtil=class{static getShapeOfGemmResult(e,t,n,r,o){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let i,a,s;t?(i=e[1],a=e[0]):(i=e[0],a=e[1]);let u=-1;if(r?(s=n[0],u=1):(s=n[1],u=0),n[u]!==a)throw new Error("dimension mismatch");if(i<=0||s<=0||a<=0)throw new Error("invalid shape specified");if(o&&!l.isValidBroadcast(o,[i,s]))throw new Error("gemm: invalid bias shape for broadcast");return[i,s,a]}};class c{static tensorDataTypeFromProto(e){switch(e){case a.onnx.TensorProto.DataType.INT8:return"int8";case a.onnx.TensorProto.DataType.UINT8:return"uint8";case a.onnx.TensorProto.DataType.BOOL:return"bool";case a.onnx.TensorProto.DataType.INT16:return"int16";case a.onnx.TensorProto.DataType.UINT16:return"uint16";case a.onnx.TensorProto.DataType.INT32:return"int32";case a.onnx.TensorProto.DataType.UINT32:return"uint32";case a.onnx.TensorProto.DataType.FLOAT:return"float32";case a.onnx.TensorProto.DataType.DOUBLE:return"float64";case a.onnx.TensorProto.DataType.STRING:return"string";case a.onnx.TensorProto.DataType.INT64:return"int32";case a.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error("unsupported data type: ".concat(a.onnx.TensorProto.DataType[e]))}}static tensorDataTypeStringToEnum(e){switch(e){case"int8":return a.onnx.TensorProto.DataType.INT8;case"uint8":return a.onnx.TensorProto.DataType.UINT8;case"bool":return a.onnx.TensorProto.DataType.BOOL;case"int16":return a.onnx.TensorProto.DataType.INT16;case"uint16":return a.onnx.TensorProto.DataType.UINT16;case"int32":return a.onnx.TensorProto.DataType.INT32;case"uint32":return a.onnx.TensorProto.DataType.UINT32;case"float32":return a.onnx.TensorProto.DataType.FLOAT;case"float64":return a.onnx.TensorProto.DataType.DOUBLE;case"string":return a.onnx.TensorProto.DataType.STRING;case"int64":return a.onnx.TensorProto.DataType.INT64;case"uint64":return a.onnx.TensorProto.DataType.UINT64;default:throw new Error("unsupported data type: ".concat(e))}}static tensorDimsFromProto(e){return e.map(e=>i.default.isLong(e)?e.toNumber():e)}static tensorValueTypeFromProto(e){return{tensorType:c.tensorDataTypeFromProto(e.elemType),shape:{dims:c.tensorDimsFromProto(e.shape.dim.map(e=>e.dimValue))}}}static tensorDimsFromORTFormat(e){const t=[];for(let n=0;n<e.dimsLength();n++)t.push(d.longToNumber(e.dims(n)));return t}static tensorAttributesFromORTFormat(e){const t=[];for(let n=0;n<e.attributesLength();n++)t.push(e.attributes(n));return t}}t.ProtoUtil=c;class d{static longToNumber(e,t){return i.default.isLong(e)?e.toNumber():e instanceof o.flatbuffers.Long?i.default.fromValue({low:e.low,high:e.high,unsigned:null!=t&&t}).toNumber():e}static isLong(e){return i.default.isLong(e)||e instanceof o.flatbuffers.Long}}t.LongUtil=d;class h{static size(e){return h.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,t){if(t<0||t>e.length)throw new Error("invalid dimension of ".concat(t," for sizeFromDimension as Tensor has ").concat(e.length," dimensions."));return h.getSizeFromDimensionRange(e,t,e.length)}static sizeToDimension(e,t){if(t<0||t>e.length)throw new Error("invalid dimension of ".concat(t," for sizeToDimension as Tensor has ").concat(e.length," dimensions."));return h.getSizeFromDimensionRange(e,0,t)}static getSizeFromDimensionRange(e,t,n){let r=1;for(let o=t;o<n;o++){if(e[o]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[o]}return r}static computeStrides(e){const t=e.length;if(0===t)return[];if(1===t)return[1];const n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}static transpose(e){return e.slice().reverse()}static indicesToOffset(e,t,n){void 0===n&&(n=e.length);let r=0;for(let o=0;o<n;++o)r+=t[o]*e[o];return r}static offsetToIndices(e,t){const n=t.length;if(0===n)return[];if(1===n)return[e*t[0]];const r=new Array(t.length);for(let o=0;o<r.length-1;++o)r[o]=Math.floor(e/t[o]),e-=r[o]*t[o];return r[r.length-1]=e,r}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map(e=>this.normalizeAxis(e,t))}static incrementIndex(e,t,n){if(0===t.length||0===e.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=t.length;else if(n<=0||n>t.length)throw new Error("Incorrect axis to increment on");for(let r=n-1;r>=0&&(e[r]++,!(e[r]<t[r]));--r)e[r]=0}static calculateReshapedDims(e,t){if(0===t.length){if(0===e.length||1===h.size(e))return[];throw new Error("cannot reshape to a scalar Tensor")}const n=t.length,r=new Array(n);let o=-1,i=1;for(let s=0;s<n;s++){if(t[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===t[s]){if(-1!==o)throw new Error("at most one dimension in shape hints can be -1");o=s}else{if(0===t[s]){if(s>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");r[s]=e[s]}else r[s]=t[s];i*=r[s]}}const a=h.size(e);if(-1!==o){if(a%i!=0)throw new Error("the input tensor cannot be reshaped to the requested shape. Input shape: [".concat(e,"] Output shape: [").concat(t,"]"));r[o]=a/i}else if(i!==a)throw new Error("reshapedDims and originalDims don't have matching sizes");return r}static sortBasedOnPerm(e,t){return t?t.map(t=>e[t]):e.slice().reverse()}static padShape(e,t){const n=e.length;return e.map((e,r)=>e+t[r]+t[r+n])}static areEqual(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])}static validateDimsAndCalcSize(e){if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let t=1;for(const n of e){if(!Number.isInteger(n))throw new TypeError("Invalid shape: ".concat(n," is not an integer"));if(n<0||n>2147483647)throw new TypeError("Invalid shape: length ".concat(n," is not allowed"));t*=n}return t}static flattenShape(e,t){t<0&&(t+=e.length);const n=e.reduce((e,t)=>e*t,1),r=e.slice(t).reduce((e,t)=>e*t,1);return[n/r,r]}static squeezeShape(e,t){const n=new Array;t=h.normalizeAxes(t,e.length);for(let r=0;r<e.length;r++){const o=t.indexOf(r)>=0;if(o&&1!==e[r])throw new Error("squeeze an axis of size different than 1");(0===t.length&&e[r]>1||t.length>0&&!o)&&n.push(e[r])}return n}static unsqueezeShape(e,t){const n=new Array(e.length+t.length);n.fill(0);for(let o=0;o<t.length;o++){const e=h.normalizeAxis(t[o],n.length);if(e>=n.length)throw new Error("'axes' has an out of range axis");if(0!==n[e])throw new Error("'axes' has a duplicate axis");n[e]=1}let r=0;for(let o=0;o<n.length;o++)0===n[o]&&(n[o]=e[r++]);if(r!==e.length)throw new Error("the unsqueezed dimension could not be established");return n}}t.ShapeUtil=h,t.MathUtil=class{static sqr(e,t,n,r,o){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(let i=0;i<o;i++)e[n+i]+=Math.pow(t[r+i],2)}static axpy(e,t,n,r,o,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(let a=0;a<o;a++)e[n+a]+=i*t[r+a]}static powx(e,t,n,r,o,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(let a=0;a<o;a++)e[n+a]=Math.pow(t[r+a],i)}static mul(e,t,n,r,o){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(let i=0;i<o;i++)e[n+i]=t[r+i]*e[n+i]}};class f{static splitShape(e,t,n,r){if(0===n.length){if(!r)throw new Error("need to know number of outputs when the 'split' attribute is not specified");f.determineSplit(e[t],r,n)}const o=[],i=[0];for(let a=0;a<n.length;++a){0!==a&&i.push(i[a-1]+n[a-1]);const r=e.slice();r[t]=n[a],o.push(r)}return[o,i]}static determineSplit(e,t,n){if(e%t!=0)throw new Error("cannot split tensor to equal sized parts");for(let r=0;r<t;++r)n.push(e/t)}}t.SplitUtil=f;class p{static calcReduce(e,t,n,r,o){const i=e.dims.slice(0);0===t.length&&i.forEach((e,n)=>t.push(n));const a=p.calcReduceShape(i,t,!0),u=h.size(a),c=new s.Tensor(a,e.type),d=h.computeStrides(a),f=h.computeStrides(i),m=new Array(i.length);for(let s=0;s<u;s++){const n=h.offsetToIndices(s,d);l.fillIndex(n,i,m),c.set(n,p.calcReduceByAxis(e.numberData,t,i,0,h.indicesToOffset(m,f),r,o))}return n?c:new s.Tensor(p.calcReduceShape(i,t,n),c.type,void 0,void 0,c.data,c.dataId)}static calcReduceByAxis(e,t,n,r,o,i,a){let s=0;if(r>=t.length)return i(e[o]);const u=t[r],l=u>=n.length?1:h.size(n.slice(u+1));for(let c=0;c<n[u];c++)s=0===c?p.calcReduceByAxis(e,t,n,r+1,o,i,a):a(s,p.calcReduceByAxis(e,t,n,r+1,o,i,a)),o+=l;return s}static calcReduceShape(e,t,n){const r=e.slice();for(let o=0;o<t.length;o++)r[t[o]]=n?1:0;return r.filter(e=>0!==e)}}t.ReduceUtil=p;class m{static adjustPoolAttributes(e,t,n,r,o,i){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let a=0;a<t.length-2;a++)a>=n.length?n.push(t[a+2]):n[a]=t[a+2];for(let a=0;a<n.length;a++)if(a<r.length){if(r[a]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let a=0;a<n.length;a++)if(a<o.length){if(o[a]<0)throw new Error("dilations should be greater than or equal to 1")}else o.push(1);for(let a=0;a<2*n.length;a++)if(a<i.length){if(i[a]<0)throw new Error("pad should be greater than or equal to 1")}else i.push(0);for(let a=0;a<n.length;a++){if(n[a]<=0)throw new Error("kernel shapes need to be greater than 0");if(i[a]>=n[a]||i[a+n.length]>=n[a])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,t,n,r,o,i){if(i){if(o.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(t.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let a=0;a<e.length-2;a++)m.adjustPadAndReturnShape(e[a+2],t[a],n[a],r[a],o,a,a+e.length-2,i)}}static computePoolOutputShape(e,t,n,r,o,i,a){if(t.length<=0)throw new Error("input shape must be of size greater than 0");const s=[t[0],t[1]];return m.computeShapeHelper(e,t,s,n,r,o,i,a),s}static computeConvOutputShape(e,t,n,r,o,i,a){if(e.length<=0||t.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const s=[e[0],t[0]];return m.computeShapeHelper(!1,e,s,n,r,o,i,a),s}static computeShapeHelper(e,t,n,r,o,i,a,s){if(e)for(let u=0;u<t.length-2;u++)n.push(1);else for(let u=0;u<t.length-2;u++)n.push(m.adjustPadAndReturnShape(t[u+2],r[u],o[u],i[u],a,u,u+t.length-2,s))}static adjustPadAndReturnShape(e,t,n,r,o,i,a,s){const u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+o[i]+o[a]-u)/t+1);switch(s){case"VALID":return o[i]=0,o[a]=0,Math.floor((e-u)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const n=((e+t-1)/t-1)*t+r-e;return o[i]="SAME_LOWER"===s?Math.floor((n+1)/2):Math.floor(n/2),o[a]=n-o[i],Math.floor((e+n-r)/t+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=m,t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22,t.decodeUtf8String=function(e){return(new TextDecoder).decode(e)}},7967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,o)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach(e=>{let[i,a]=e;const s=n?n+i:i;if("object"==typeof a)(0,t.iterateExtraOptions)(a,s+".",r,o);else if("string"==typeof a||"number"==typeof a)o(s,a.toString());else{if("boolean"!=typeof a)throw new Error("Can't handle extra config type: "+typeof a);o(s,a?"1":"0")}})}},2157:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=t.initWasm=void 0;const s=n(1670),u=a(n(349)),l=n(6361),c=()=>!!s.env.wasm.proxy&&"undefined"!=typeof document;let d,h,f,p=!1,m=!1,g=!1;const y=[],b=[],v=[],_=[],w=[],x=[],D=()=>{if(p||!m||g||!d)throw new Error("worker not ready")},E=e=>{switch(e.data.type){case"init-wasm":p=!1,e.data.err?(g=!0,h[1](e.data.err)):(m=!0,h[0]());break;case"init-ort":e.data.err?f[1](e.data.err):f[0]();break;case"create_allocate":e.data.err?y.shift()[1](e.data.err):y.shift()[0](e.data.out);break;case"create_finalize":e.data.err?b.shift()[1](e.data.err):b.shift()[0](e.data.out);break;case"create":e.data.err?v.shift()[1](e.data.err):v.shift()[0](e.data.out);break;case"release":e.data.err?_.shift()[1](e.data.err):_.shift()[0]();break;case"run":e.data.err?w.shift()[1](e.data.err):w.shift()[0](e.data.out);break;case"end-profiling":e.data.err?x.shift()[1](e.data.err):x.shift()[0]()}},S="undefined"!=typeof document?null===(r=null===document||void 0===document?void 0:document.currentScript)||void 0===r?void 0:r.src:void 0;t.initWasm=async()=>{if(c()){if(m)return;if(p)throw new Error("multiple calls to 'initWasm()' detected.");if(g)throw new Error("previous call to 'initWasm()' failed.");return p=!0,void 0===s.env.wasm.wasmPaths&&S&&0!==S.indexOf("blob:")&&(s.env.wasm.wasmPaths=S.substr(0,+S.lastIndexOf("/")+1)),new Promise((e,t)=>{null==d||d.terminate(),d=n(9710).Z(),d.onmessage=E,h=[e,t];const r={type:"init-wasm",in:s.env.wasm};d.postMessage(r)})}return(0,l.initializeWebAssembly)(s.env.wasm)},t.initOrt=async(e,t)=>{if(c())return D(),new Promise((n,r)=>{f=[n,r];const o={type:"init-ort",in:{numThreads:e,loggingLevel:t}};d.postMessage(o)});u.initOrt(e,t)},t.createSessionAllocate=async e=>c()?(D(),new Promise((t,n)=>{y.push([t,n]);const r={type:"create_allocate",in:{model:e}};d.postMessage(r,[e.buffer])})):u.createSessionAllocate(e),t.createSessionFinalize=async(e,t)=>c()?(D(),new Promise((n,r)=>{b.push([n,r]);const o={type:"create_finalize",in:{modeldata:e,options:t}};d.postMessage(o)})):u.createSessionFinalize(e,t),t.createSession=async(e,t)=>c()?(D(),new Promise((n,r)=>{v.push([n,r]);const o={type:"create",in:{model:e,options:t}};d.postMessage(o,[e.buffer])})):u.createSession(e,t),t.releaseSession=async e=>{if(c())return D(),new Promise((t,n)=>{_.push([t,n]);const r={type:"release",in:e};d.postMessage(r)});u.releaseSession(e)},t.run=async(e,t,n,r,o)=>c()?(D(),new Promise((i,a)=>{w.push([i,a]);const s={type:"run",in:{sessionId:e,inputIndices:t,inputs:n,outputIndices:r,options:o}};d.postMessage(s,u.extractTransferableBuffers(n))})):u.run(e,t,n,r,o),t.endProfiling=async e=>{if(c())return D(),new Promise((t,n)=>{x.push([t,n]);const r={type:"end-profiling",in:e};d.postMessage(r)});u.endProfiling(e)}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(7967),o=n(4983),i=n(6361);t.setRunOptions=e=>{const t=(0,i.getInstance)();let n=0;const a=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(e.logSeverityLevel));if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(e.logVerbosityLevel));void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let i=0;if(void 0!==(null==e?void 0:e.tag)&&(i=(0,o.allocWasmString)(e.tag,a)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,i),0===n)throw new Error("Can't create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,(e,r)=>{const i=(0,o.allocWasmString)(e,a),s=(0,o.allocWasmString)(r,a);if(0!==t._OrtAddRunConfigEntry(n,i,s))throw new Error("Can't set a run config entry: ".concat(e," - ").concat(r))}),[n,a]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),a.forEach(t._free),e}}},2306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const r=n(2806),o=n(1670),i=n(2850),a=n(2157);let s;t.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(e){const t=await fetch(e),n=await t.arrayBuffer();return(0,a.createSessionAllocate)(new Uint8Array(n))}async loadModel(e,t){if(s||(await(0,a.initOrt)(o.env.wasm.numThreads,(e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error("unsupported logging level: ".concat(e))}})(o.env.logLevel)),s=!0),"string"==typeof e)if("undefined"==typeof fetch){const n=await(0,i.promisify)(r.readFile)(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,a.createSession)(n,t)}else{const n=await this.createSessionAllocate(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,a.createSessionFinalize)(n,t)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,a.createSession)(e,t)}async dispose(){return(0,a.releaseSession)(this.sessionId)}async run(e,t,n){const r=[],i=[];Object.entries(e).forEach(e=>{const t=e[0],n=e[1],o=this.inputNames.indexOf(t);if(-1===o)throw new Error("invalid input '".concat(t,"'"));r.push(n),i.push(o)});const s=[];Object.entries(t).forEach(e=>{const t=e[0],n=this.outputNames.indexOf(t);if(-1===n)throw new Error("invalid output '".concat(t,"'"));s.push(n)});const u=await(0,a.run)(this.sessionId,i,r.map(e=>[e.type,e.dims,e.data]),s,n),l={};for(let a=0;a<u.length;a++)l[this.outputNames[s[a]]]=new o.Tensor(u[a][0],u[a][2],u[a][1]);return l}startProfiling(){}endProfiling(){(0,a.endProfiling)(this.sessionId)}}},4919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(7967),o=n(4983),i=n(6361);t.setSessionOptions=e=>{const t=(0,i.getInstance)();let n=0;const a=[],s=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(s);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(s.graphOptimizationLevel="all");const u=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error("unsupported graph optimization level: ".concat(e))}})(s.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(s.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(s.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(s.executionMode="sequential");const l=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error("unsupported execution mode: ".concat(e))}})(s.executionMode);let c=0;if(void 0!==(null==e?void 0:e.logId)&&(c=(0,o.allocWasmString)(e.logId,a)),void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(e.logSeverityLevel));if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(e.logVerbosityLevel));if(void 0===(null==e?void 0:e.enableProfiling)&&(s.enableProfiling=!1),n=t._OrtCreateSessionOptions(u,!!s.enableCpuMemArena,!!s.enableMemPattern,l,!!s.enableProfiling,0,c,s.logSeverityLevel,s.logVerbosityLevel),0===n)throw new Error("Can't create session options");return(null==e?void 0:e.executionProviders)&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error("not supported EP: ".concat(t))}const a=(0,o.allocWasmString)(t,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(e,a))throw new Error("Can't append execution provider: ".concat(t))}})(n,e.executionProviders,a),void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,(e,r)=>{const i=(0,o.allocWasmString)(e,a),s=(0,o.allocWasmString)(r,a);if(0!==t._OrtAddSessionConfigEntry(n,i,s))throw new Error("Can't set a session config entry: ".concat(e," - ").concat(r))}),[n,a]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),a.forEach(t._free),e}}},4983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(6361);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),o=n.lengthBytesUTF8(e)+1,i=n._malloc(o);return n.stringToUTF8(e,i,o),t.push(i),i}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(586),o=n(4919),i=n(4983),a=n(6361);t.initOrt=(e,t)=>{const n=(0,a.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error("Can't initialize onnxruntime. error code = ".concat(n))};const s=new Map;t.createSessionAllocate=e=>{const t=(0,a.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,a.getInstance)();let r=0,i=0,u=[];try{if([i,u]=(0,o.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],i),0===r)throw new Error("Can't create a session")}finally{n._free(e[0]),n._OrtReleaseSessionOptions(i),u.forEach(n._free)}const l=n._OrtGetInputCount(r),c=n._OrtGetOutputCount(r),d=[],h=[],f=[],p=[];for(let o=0;o<l;o++){const e=n._OrtGetInputName(r,o);if(0===e)throw new Error("Can't get an input name");h.push(e),d.push(n.UTF8ToString(e))}for(let o=0;o<c;o++){const e=n._OrtGetOutputName(r,o);if(0===e)throw new Error("Can't get an output name");p.push(e),f.push(n.UTF8ToString(e))}return s.set(r,[r,h,p]),[r,d,f]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,a.getInstance)(),n=s.get(e);if(!n)throw new Error("invalid session id");const r=n[0],o=n[1],i=n[2];o.forEach(t._OrtFree),i.forEach(t._OrtFree),t._OrtReleaseSession(r),s.delete(e)};const u=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error("unsupported data type: ".concat(e))}},l=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error("unsupported data type: ".concat(e))}},c=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error("unsupported type: ".concat(e))}};t.run=(e,t,n,o,d)=>{const h=(0,a.getInstance)(),f=s.get(e);if(!f)throw new Error("invalid session id");const p=f[0],m=f[1],g=f[2],y=t.length,b=o.length;let v=0,_=[];const w=[],x=[];try{[v,_]=(0,r.setRunOptions)(d);for(let t=0;t<y;t++){const e=n[t][0],r=n[t][1],o=n[t][2];let a,s;if(Array.isArray(o)){s=4*o.length,a=h._malloc(s),x.push(a);let e=a/4;for(let t=0;t<o.length;t++){if("string"!=typeof o[t])throw new TypeError("tensor data at index ".concat(t," is not a string"));h.HEAPU32[e++]=(0,i.allocWasmString)(o[t],x)}}else s=o.byteLength,a=h._malloc(s),x.push(a),h.HEAPU8.set(new Uint8Array(o.buffer,o.byteOffset,s),a);const l=h.stackSave(),c=h.stackAlloc(4*r.length);try{let t=c/4;r.forEach(e=>h.HEAP32[t++]=e);const n=h._OrtCreateTensor(u(e),a,s,c,r.length);if(0===n)throw new Error("Can't create a tensor");w.push(n)}finally{h.stackRestore(l)}}const e=h.stackSave(),a=h.stackAlloc(4*y),s=h.stackAlloc(4*y),f=h.stackAlloc(4*b),D=h.stackAlloc(4*b);try{let e=a/4,n=s/4,r=f/4,i=D/4;for(let o=0;o<y;o++)h.HEAPU32[e++]=w[o],h.HEAPU32[n++]=m[t[o]];for(let t=0;t<b;t++)h.HEAPU32[r++]=0,h.HEAPU32[i++]=g[o[t]];let u=h._OrtRun(p,s,a,y,D,b,f,v);const d=[];if(0===u)for(let t=0;t<b;t++){const e=h.HEAPU32[f/4+t],n=h.stackSave(),r=h.stackAlloc(16);let o,i=0;try{if(u=h._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==u)throw new Error("Can't access output tensor data. error code = ".concat(u));let t=r/4;const n=h.HEAPU32[t++];i=h.HEAPU32[t++];const a=h.HEAPU32[t++],s=h.HEAPU32[t++],f=[];for(let e=0;e<s;e++)f.push(h.HEAPU32[a/4+e]);h._OrtFree(a);const p=0===f.length?1:f.reduce((e,t)=>e*t);if(o=l(n),"string"===o){const e=[];let t=i/4;for(let n=0;n<p;n++){const r=h.HEAPU32[t++],o=n===p-1?void 0:h.HEAPU32[t]-r;e.push(h.UTF8ToString(r,o))}d.push([o,f,e])}else{const e=new(c(o))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(h.HEAPU8.subarray(i,i+e.byteLength)),d.push([o,f,e])}}finally{h.stackRestore(n),"string"===o&&i&&h._free(i),h._OrtReleaseTensor(e)}}if(0===u)return d;throw new Error("failed to call OrtRun(). error code = ".concat(u,"."))}finally{h.stackRestore(e)}}finally{w.forEach(h._OrtReleaseTensor),x.forEach(h._free),h._OrtReleaseRunOptions(v),_.forEach(h._free)}},t.endProfiling=e=>{const t=(0,a.getInstance)(),n=s.get(e);if(!n)throw new Error("invalid session id");const r=n[0],o=t._OrtEndProfiling(r);if(0===o)throw new Error("Can't get an profile file name");t._OrtFree(o)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},6361:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const s=i(n(6449)),u=a(n(932)),l=n(3474);let c,d=!1,h=!1,f=!1;const p=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(d)return Promise.resolve();if(h)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(f)throw new Error("previous call to 'initializeWebAssembly()' failed.");h=!0;const t=e.initTimeout,r=e.numThreads,o=e.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),a=o&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),m="string"==typeof e.wasmPaths?e.wasmPaths:void 0,g=p(!1,i),y=p(a,i),b="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let v=!1;const _=[];if(t>0&&_.push(new Promise(e=>{setTimeout(()=>{v=!0,e()},t)})),_.push(new Promise((e,t)=>{const r=i?l:u.default,o={locateFile:(e,t)=>i&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(4154)],{type:"text/javascript"})):e===g?null!=b?b:(null!=m?m:t)+y:t+e};if(i)if("undefined"==typeof Blob)o.mainScriptUrlOrBlob=s.join("/","ort-wasm-threaded.js");else{const e="var ortWasmThreaded=(function(){var _scriptDir;return ".concat(r.toString(),"})();");o.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(o).then(t=>{h=!1,d=!0,c=t,e()},e=>{h=!1,f=!0,t(e)})})),await Promise.race(_),v)throw new Error("WebAssembly backend initializing failed due to timeout: ".concat(t,"ms"))},t.getInstance=()=>{if(d&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!d||h||f||(h=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,h=!1,d=!1,f=!0)}},9710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(477),o=n.n(r);function i(){return o()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:e=>{"use strict";e.exports=function(e,t,n,r){var o=self||window;try{try{var i;try{i=new o.Blob([e])}catch(t){(i=new(o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder)).append(e),i=i.getBlob()}var a=o.URL||o.webkitURL,s=a.createObjectURL(i),u=new o[t](s,n);return a.revokeObjectURL(s),u}catch(r){return new o[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new o[t](r,n)}}},4154:e=>{"use strict";e.exports='"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\n'},1670:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{flatbuffers:()=>r});var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.SIZE_PREFIX_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(e,t){this.low=0|e,this.high=0|t},r.Long.create=function(e,t){return 0==e&&0==t?r.Long.ZERO:new r.Long(e,t)},r.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},r.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},r.Long.ZERO=new r.Long(0,0),r.Builder=function(e){if(e)t=e;else var t=1024;this.bb=r.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},r.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var o=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-o}this.pad(n)},r.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},r.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},r.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},r.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},r.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},r.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},r.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},r.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},r.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},r.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},r.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},r.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},r.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},r.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},r.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},r.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},r.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},r.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},r.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},r.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},r.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},r.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},r.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},r.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,o=r.ByteBuffer.allocate(n);return o.setPosition(n-t),o.bytes().set(e.bytes(),n-t),o},r.Builder.prototype.addOffset=function(e){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-e+r.SIZEOF_INT)},r.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var o=(n+2)*r.SIZEOF_SHORT;this.addInt16(o);var i=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var s=this.bb.capacity()-this.vtables[t];if(o==this.bb.readInt16(s)){for(var u=r.SIZEOF_SHORT;u<o;u+=r.SIZEOF_SHORT)if(this.bb.readInt16(a+u)!=this.bb.readInt16(s+u))continue e;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},r.Builder.prototype.finish=function(e,t,n){var o=n?r.SIZE_PREFIX_LENGTH:0;if(t){var i=t;if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH+o),i.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var a=r.FILE_IDENTIFIER_LENGTH-1;a>=0;a--)this.writeInt8(i.charCodeAt(a))}this.prep(this.minalign,r.SIZEOF_INT+o),this.addOffset(e),o&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},r.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},r.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,r=n-this.bb.readInt32(n);if(0==this.bb.readInt16(r+t))throw new Error("FlatBuffers: field "+t+" must be set")},r.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(r.SIZEOF_INT,e*t),this.prep(n,e*t)},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},r.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var r,o=e.charCodeAt(n++);(r=o<55296||o>=56320?o:(o<<10)+e.charCodeAt(n++)+-56613888)<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),n=0;for(var i=this.space,a=this.bb.bytes();n<t.length;n++)a[i++]=t[n];return this.endVector()},r.Builder.prototype.createLong=function(e,t){return r.Long.create(e,t)},r.ByteBuffer=function(e){this.bytes_=e,this.position_=0},r.ByteBuffer.allocate=function(e){return new r.ByteBuffer(new Uint8Array(e))},r.ByteBuffer.prototype.clear=function(){this.position_=0},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.position=function(){return this.position_},r.ByteBuffer.prototype.setPosition=function(e){this.position_=e},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},r.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},r.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},r.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},r.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},r.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},r.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},r.ByteBuffer.prototype.readInt64=function(e){return new r.Long(this.readInt32(e),this.readInt32(e+4))},r.ByteBuffer.prototype.readUint64=function(e){return new r.Long(this.readUint32(e),this.readUint32(e+4))},r.ByteBuffer.prototype.readFloat32=function(e){return r.int32[0]=this.readInt32(e),r.float32[0]},r.ByteBuffer.prototype.readFloat64=function(e){return r.int32[r.isLittleEndian?0:1]=this.readInt32(e),r.int32[r.isLittleEndian?1:0]=this.readInt32(e+4),r.float64[0]},r.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},r.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},r.ByteBuffer.prototype.writeFloat32=function(e,t){r.float32[0]=t,this.writeInt32(e,r.int32[0])},r.ByteBuffer.prototype.writeFloat64=function(e,t){r.float64[0]=t,this.writeInt32(e,r.int32[r.isLittleEndian?0:1]),this.writeInt32(e+4,r.int32[r.isLittleEndian?1:0])},r.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+r.SIZEOF_INT+t));return e},r.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},r.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},r.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),o="",i=0;if(e+=r.SIZEOF_INT,t===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;i<n;){var a,s=this.readUint8(e+i++);if(s<192)a=s;else{var u=this.readUint8(e+i++);if(s<224)a=(31&s)<<6|63&u;else{var l=this.readUint8(e+i++);a=s<240?(15&s)<<12|(63&u)<<6|63&l:(7&s)<<18|(63&u)<<12|(63&l)<<6|63&this.readUint8(e+i++)}}a<65536?o+=String.fromCharCode(a):(a-=65536,o+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return o},r.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},r.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+r.SIZEOF_INT},r.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},r.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+r.SIZEOF_INT+t))return!1;return!0},r.ByteBuffer.prototype.createLong=function(e,t){return r.Long.create(e,t)}}},__webpack_module_cache__={};function __nested_webpack_require_817794__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_817794__),n.exports}__nested_webpack_require_817794__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_817794__.d(t,{a:t}),t},__nested_webpack_require_817794__.d=(e,t)=>{for(var n in t)__nested_webpack_require_817794__.o(t,n)&&!__nested_webpack_require_817794__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_817794__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_817794__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_817794__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_817794__(6018);return __nested_webpack_exports__})(),module.exports=e(__webpack_require__(554))},391(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},499(){},554(e,t,n){"use strict";n.r(t),n.d(t,{InferenceSession:()=>p,Tensor:()=>h,env:()=>a,registerBackend:()=>i});const r={},o=[],i=(e,t,n)=>{if(t&&"function"===typeof t.init&&"function"===typeof t.createSessionHandler){const i=r[e];if(void 0===i)r[e]={backend:t,priority:n};else{if(i.priority>n)return;if(i.priority===n&&i.backend!==t)throw new Error('cannot register backend "'.concat(e,'" using priority ').concat(n))}if(n>=0){const t=o.indexOf(e);-1!==t&&o.splice(t,1);for(let i=0;i<o.length;i++)if(r[o[i]].priority<=n)return void o.splice(i,0,e);o.push(e)}return}throw new TypeError("not a valid backend")};const a=new class{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(e){if(void 0!==e){if("string"!==typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error("Unsupported logging level: ".concat(e));this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}},s="undefined"!==typeof BigInt64Array&&"function"===typeof BigInt64Array.from,u="undefined"!==typeof BigUint64Array&&"function"===typeof BigUint64Array.from,l=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),c=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);s&&(l.set("int64",BigInt64Array),c.set(BigInt64Array,"int64")),u&&(l.set("uint64",BigUint64Array),c.set(BigUint64Array,"uint64"));class d{constructor(e,t,n){let r,o,i;if("string"===typeof e)if(r=e,i=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");o=t}else{const n=l.get(e);if(void 0===n)throw new TypeError("Unsupported tensor type: ".concat(e,"."));if(Array.isArray(t))o=n.from(t);else{if(!(t instanceof n))throw new TypeError("A ".concat(r," tensor's data must be type of ").concat(n));o=t}}else if(i=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)r="string",o=e;else{if("boolean"!==t)throw new TypeError("Invalid element type of data array: ".concat(t,"."));r="bool",o=Uint8Array.from(e)}}else{const t=c.get(e.constructor);if(void 0===t)throw new TypeError("Unsupported type for tensor data: ".concat(e.constructor,"."));r=t,o=e}if(void 0===i)i=[o.length];else if(!Array.isArray(i))throw new TypeError("A tensor's dims must be a number array");const a=(e=>{let t=1;for(let n=0;n<e.length;n++){const r=e[n];if("number"!==typeof r||!Number.isSafeInteger(r))throw new TypeError("dims[".concat(n,"] must be an integer, got: ").concat(r));if(r<0)throw new RangeError("dims[".concat(n,"] must be a non-negative integer, got: ").concat(r));t*=r}return t})(i);if(a!==o.length)throw new Error("Tensor's size(".concat(a,") does not match data length(").concat(o.length,")."));this.dims=i,this.type=r,this.data=o,this.size=a}static bufferToTensor(e,t){if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");const{height:n,width:r}=t,o=t.norm;let i,a;i=void 0===o||void 0===o.mean?255:o.mean,a=void 0===o||void 0===o.bias?0:o.bias;const s=void 0!==t.bitmapFormat?t.bitmapFormat:"RGBA",u=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",l=n*r,c="RGBA"===u?new Float32Array(4*l):new Float32Array(3*l);let h=4,f=0,p=1,m=2,g=3,y=0,b=l,v=2*l,_=-1;"RGB"===s&&(h=3,f=0,p=1,m=2,g=-1),"RGBA"===u?_=3*l:"RBG"===u?(y=0,v=l,b=2*l):"BGR"===u&&(v=0,b=l,y=2*l);for(let d=0;d<l;d++,f+=h,m+=h,p+=h,g+=h)c[y++]=(e[f]+a)/i,c[b++]=(e[p]+a)/i,c[v++]=(e[m]+a)/i,-1!==_&&-1!==g&&(c[_++]=(e[g]+a)/i);return new d("float32",c,"RGBA"===u?[1,4,n,r]:[1,3,n,r])}static async fromImage(e,t){const n="undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement,r="undefined"!==typeof ImageData&&e instanceof ImageData,o="undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap,i="undefined"!==typeof String&&(e instanceof String||"string"===typeof e);let a,s={};if(n){const n=document.createElement("canvas"),r=n.getContext("2d");if(null==r)throw new Error("Can not access image data");{let o=e.naturalHeight,i=e.naturalWidth;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(o=t.resizedHeight,i=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(s.tensorFormat="RGBA",void 0!==t.height&&t.height!==o)throw new Error("Image input config height doesn't match HTMLImageElement height");if(s.height=o,void 0!==t.width&&t.width!==i)throw new Error("Image input config width doesn't match HTMLImageElement width");s.width=i}else s.tensorFormat="RGBA",s.height=o,s.width=i;n.width=i,n.height=o,r.drawImage(e,0,0,i,o),a=r.getImageData(0,0,i,o).data}}else{if(!r){if(o){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");if(void 0!==t.bitmapFormat)throw new Error("Image input config format must be defined for ImageBitmap");const n=document.createElement("canvas").getContext("2d");if(null!=n){const r=e.height,o=e.width;if(n.drawImage(e,0,0,o,r),a=n.getImageData(0,0,o,r).data,void 0!==t){if(void 0!==t.height&&t.height!==r)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=r,void 0!==t.width&&t.width!==o)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=o}else s.height=r,s.width=o;return d.bufferToTensor(a,s)}throw new Error("Can not access image data")}if(i)return new Promise((n,r)=>{const o=document.createElement("canvas"),i=o.getContext("2d");if(!e||!i)return r();const a=new Image;a.crossOrigin="Anonymous",a.src=e,a.onload=()=>{o.width=a.width,o.height=a.height,i.drawImage(a,0,0,o.width,o.height);const e=i.getImageData(0,0,o.width,o.height);if(void 0!==t){if(void 0!==t.height&&t.height!==o.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=o.height,void 0!==t.width&&t.width!==o.width)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=o.width}else s.height=o.height,s.width=o.width;n(d.bufferToTensor(e.data,s))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{const n="RGBA";let r,o;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(r=t.resizedHeight,o=t.resizedWidth):(r=e.height,o=e.width),void 0!==t){if(s=t,void 0!==t.bitmapFormat&&t.bitmapFormat!==n)throw new Error("Image input config format must be RGBA for ImageData");s.bitmapFormat="RGBA"}else s.bitmapFormat="RGBA";if(s.height=r,s.width=o,void 0!==t){const t=document.createElement("canvas");t.width=o,t.height=r;const n=t.getContext("2d");if(null==n)throw new Error("Can not access image data");n.putImageData(e,0,0),a=n.getImageData(0,0,o,r).data}else a=e.data}}if(void 0!==a)return d.bufferToTensor(a,s);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(e){var t,n;const r=document.createElement("canvas").getContext("2d");let o;if(null==r)throw new Error("Can not access image data");{const i=this.dims[3],a=this.dims[2],s=this.dims[1],u=void 0!==e&&void 0!==e.format?e.format:"RGB",l=void 0!==e&&void 0!==(null===(t=e.norm)||void 0===t?void 0:t.mean)?e.norm.mean:255,c=void 0!==e&&void 0!==(null===(n=e.norm)||void 0===n?void 0:n.bias)?e.norm.bias:0,d=a*i;if(void 0!==e){if(void 0!==e.height&&e.height!==a)throw new Error("Image output config height doesn't match tensor height");if(void 0!==e.width&&e.width!==i)throw new Error("Image output config width doesn't match tensor width");if(void 0!==e.format&&4===s&&"RGBA"!==e.format||3===s&&"RGB"!==e.format&&"BGR"!==e.format)throw new Error("Tensor format doesn't match input tensor dims")}const h=4;let f=0,p=1,m=2,g=3,y=0,b=d,v=2*d,_=-1;"RGBA"===u?(y=0,b=d,v=2*d,_=3*d):"RGB"===u?(y=0,b=d,v=2*d):"RBG"===u&&(y=0,v=d,b=2*d),o=r.createImageData(i,a);for(let e=0;e<a*i;f+=h,p+=h,m+=h,g+=h,e++)o.data[f]=(this.data[y++]-c)*l,o.data[p]=(this.data[b++]-c)*l,o.data[m]=(this.data[v++]-c)*l,o.data[g]=-1===_?255:(this.data[_++]-c)*l}return o}reshape(e){return new d(this.type,this.data,e)}}const h=d;class f{constructor(e){this.handler=e}async run(e,t,n){const r={};let o={};if("object"!==typeof e||null===e||e instanceof h||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let i=!0;if("object"===typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof h)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");i=!1;for(const e of t){if("string"!==typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError("'fetches' contains invalid output name: ".concat(e,"."));r[e]=null}if("object"===typeof n&&null!==n)o=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else{let e=!1;const a=Object.getOwnPropertyNames(t);for(const n of this.outputNames)if(-1!==a.indexOf(n)){const o=t[n];(null===o||o instanceof h)&&(e=!0,i=!1,r[n]=o)}if(e){if("object"===typeof n&&null!==n)o=n;else if("undefined"!==typeof n)throw new TypeError("'options' must be an object.")}else o=t}}else if("undefined"!==typeof t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const u of this.inputNames)if("undefined"===typeof e[u])throw new Error("input '".concat(u,"' is missing in 'feeds'."));if(i)for(const u of this.outputNames)r[u]=null;const a=await this.handler.run(e,r,o),s={};for(const u in a)Object.hasOwnProperty.call(a,u)&&(s[u]=new h(a[u].type,a[u].data,a[u].dims));return s}static async create(e,t,n,i){let a,s={};if("string"===typeof e){if(a=e,"object"===typeof t&&null!==t)s=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(a=e,"object"===typeof t&&null!==t)s=t;else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const r=e;let o=0,u=e.byteLength;if("object"===typeof t&&null!==t)s=t;else if("number"===typeof t){if(o=t,!Number.isSafeInteger(o))throw new RangeError("'byteOffset' must be an integer.");if(o<0||o>=r.byteLength)throw new RangeError("'byteOffset' is out of range [0, ".concat(r.byteLength,")."));if(u=e.byteLength-o,"number"===typeof n){if(u=n,!Number.isSafeInteger(u))throw new RangeError("'byteLength' must be an integer.");if(u<=0||o+u>r.byteLength)throw new RangeError("'byteLength' is out of range (0, ".concat(r.byteLength-o,"]."));if("object"===typeof i&&null!==i)s=i;else if("undefined"!==typeof i)throw new TypeError("'options' must be an object.")}else if("undefined"!==typeof n)throw new TypeError("'byteLength' must be a number.")}else if("undefined"!==typeof t)throw new TypeError("'options' must be an object.");a=new Uint8Array(r,o,u)}}const u=(s.executionProviders||[]).map(e=>"string"===typeof e?e:e.name),l=await(async e=>{const t=0===e.length?o:e,n=[];for(const o of t){const e=r[o];if(e){if(e.initialized)return e.backend;if(e.aborted)continue;const t=!!e.initPromise;try{return t||(e.initPromise=e.backend.init()),await e.initPromise,e.initialized=!0,e.backend}catch(i){t||n.push({name:o,err:i}),e.aborted=!0}finally{delete e.initPromise}}}throw new Error("no available backend found. ERR: ".concat(n.map(e=>"[".concat(e.name,"] ").concat(e.err)).join(", ")))})(u),c=await l.createSessionHandler(a,s);return new f(c)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const p=f},579(e,t,n){"use strict";e.exports=n(799)},603(){},672(e,t,n){"use strict";var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=u.T,n=a.p;try{if(u.T=null,a.p=2,e)return e()}finally{u.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return u.H.useFormState(e,t,n)},t.useFormStatus=function(){return u.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},806(){},837(){},853(e,t,n){"use strict";e.exports=n(896)},896(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>i(u,n))l<o&&0>i(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<o&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,E||(E=!0,D());else{var t=r(c);null!==t&&P(x,t.startTime-e)}}var D,E=!1,S=-1,T=5,A=-1;function k(){return!!y||!(t.unstable_now()-A<T)}function F(){if(y=!1,E){var e=t.unstable_now();A=e;var n=!0;try{e:{m=!1,g&&(g=!1,v(S),S=-1),p=!0;var i=f;try{t:{for(w(e),h=r(l);null!==h&&!(h.expirationTime>e&&k());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),n=!0;break t}h===r(l)&&o(l),w(e)}else o(l);h=r(l)}if(null!==h)n=!0;else{var u=r(c);null!==u&&P(x,u.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?D():E=!1}}}if("function"===typeof _)D=function(){_(F)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,O=C.port2;C.port1.onmessage=F,D=function(){O.postMessage(null)}}else D=function(){b(F,0)};function P(e,n){S=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(c,e),null===r(l)&&e===r(c)&&(g?(v(S),S=-1):g=!0,P(x,i-a))):(e.sortIndex=s,n(l,e),m||p||(m=!0,E||(E=!0,D()))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var o=Object.create(null);__webpack_require__.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,__webpack_require__.d(o,i),o}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/AI-Powered-Portfolio/";var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(43),t=__webpack_require__.t(e,2),n=__webpack_require__(391);function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const l=["sri"],c=["page"],d=["page","matches"],h=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],p=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var m="popstate";function g(){return D(function(e,t){let{pathname:n="/",search:r="",hash:o=""}=x(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),_("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:w(t))},function(e,t){b("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function y(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function v(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function x(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function D(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s="POP",l=null,c=d();function d(){return(a.state||{idx:null}).idx}function h(){s="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:s,location:p.location,delta:t})}function f(e){return E(e)}null==c&&(c=0,a.replaceState(u(u({},a.state),{},{idx:c}),""));let p={get action(){return s},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(m,h),l=e,()=>{o.removeEventListener(m,h),l=null}},createHref:e=>t(o,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=_(p.location,e,t);n&&n(r,e),c=d()+1;let u=v(r,c),h=p.createHref(r);try{a.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(h)}i&&l&&l({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let r=_(p.location,e,t);n&&n(r,e),c=d();let o=v(r,c),u=p.createHref(r);a.replaceState(o,"",u),i&&l&&l({action:s,location:p.location,delta:0})},go:e=>a.go(e)};return p}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),y(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function S(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,n,r){let o=V(("string"===typeof t?x(t):t).pathname||"/",n);if(null==o)return null;let i=A(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=z(o);a=j(i[s],e,r)}return a}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=arguments.length>3?arguments[3]:void 0,u={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&a)return;y(u.relativePath.startsWith(r),'Absolute route path "'.concat(u.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),u.relativePath=u.relativePath.slice(r.length)}let l=K([r,u.relativePath]),c=n.concat(u);e.children&&e.children.length>0&&(y(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(l,'".')),A(e.children,t,c,l,a)),(null!=e.path||e.index)&&t.push({path:l,score:L(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of k(e.path))i(e,t,!0,r);else i(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=k(r.join("/")),s=[];return s.push(...a.map(e=>""===e?i:[i,e].join("/"))),o&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var F=/^:[\w-]+$/,C=3,O=2,P=1,I=10,M=-2,N=e=>"*"===e;function L(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=M),t&&(r+=O),n.filter(e=>!N(e)).reduce((e,t)=>e+(F.test(t)?C:""===t?P:I),r)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],u=s===r.length-1,l="/"===i?t:t.slice(i.length)||"/",c=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:u},l),d=e.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!c)return null;Object.assign(o,c.params),a.push({params:o,pathname:K([i,c.pathname]),pathnameBase:$(K([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=K([i,c.pathnameBase]))}return a}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=R(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const u=s[n];return e[r]=o&&!u?void 0:(u||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function R(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var U=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G=e=>U.test(e);function H(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function X(e){let t=q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Y(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=x(e):(r=u({},e),y(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),y(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),y(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let i,a=""===e||""===r.pathname,s=a?"/":r.pathname;if(null==s)i=n;else{let e=t.length-1;if(!o&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:o="",hash:i=""}="string"===typeof e?x(e):e;if(r)if(G(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),b(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?H(r.substring(1),"/"):H(r,n)}else t=n;return{pathname:t,search:Q(o),hash:Z(i)}}(r,i),c=s&&"/"!==s&&s.endsWith("/"),d=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var K=e=>e.join("/").replace(/\/\/+/g,"/"),$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var J=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function te(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function re(e,t){let n=e;if("string"!==typeof n||!U.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(ne)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=V(r.pathname,t);r.origin===e.origin&&null!=i?n=i+r.search+r.hash:o=!0}catch(i){b(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:o,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oe=["POST","PUT","PATCH","DELETE"],ie=(new Set(oe),["GET",...oe]);new Set(ie),Symbol("ResetLoaderData");var ae=e.createContext(null);ae.displayName="DataRouter";var se=e.createContext(null);se.displayName="DataRouterState";var ue=e.createContext(!1);function le(){return e.useContext(ue)}var ce=e.createContext({isTransitioning:!1});ce.displayName="ViewTransition";var de=e.createContext(new Map);de.displayName="Fetchers";var he=e.createContext(null);he.displayName="Await";var fe=e.createContext(null);fe.displayName="Navigation";var pe=e.createContext(null);pe.displayName="Location";var me=e.createContext({outlet:null,matches:[],isDataRoute:!1});me.displayName="Route";var ge=e.createContext(null);ge.displayName="RouteError";var ye="REACT_ROUTER_ERROR";function be(){return null!=e.useContext(pe)}function ve(){return y(be(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(pe).location}var _e="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function we(t){e.useContext(fe).static||e.useLayoutEffect(t)}function xe(){let{isDataRoute:t}=e.useContext(me);return t?function(){let{router:t}=Ie("useNavigate"),n=Ne("useNavigate"),r=e.useRef(!1);we(()=>{r.current=!0});let o=e.useCallback(async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,_e),r.current&&("number"===typeof e?await t.navigate(e):await t.navigate(e,u({fromRouteId:n},o)))},[t,n]);return o}():function(){y(be(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(ae),{basename:n,navigator:r}=e.useContext(fe),{matches:o}=e.useContext(me),{pathname:i}=ve(),a=JSON.stringify(X(o)),s=e.useRef(!1);we(()=>{s.current=!0});let u=e.useCallback(function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(s.current,_e),!s.current)return;if("number"===typeof e)return void r.go(e);let u=Y(e,JSON.parse(a),i,"path"===o.relative);null==t&&"/"!==n&&(u.pathname="/"===u.pathname?n:K([n,u.pathname])),(o.replace?r.replace:r.push)(u,o.state,o)},[n,r,a,i,t]);return u}()}e.createContext(null);function De(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(me),{pathname:o}=ve(),i=JSON.stringify(X(r));return e.useMemo(()=>Y(t,JSON.parse(i),o,"path"===n),[t,i,o,n])}function Ee(t,n,r,o,i){y(be(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=e.useContext(fe),{matches:s}=e.useContext(me),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Be(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=ve();if(n){var g;let e="string"===typeof n?x(n):n;y("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let v=p.pathname||"/",_=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=S(t,{pathname:_});b(f||null!=w,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),b(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let D=Oe(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:K([h,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:K([h,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,r,o,i);return n&&D?e.createElement(pe.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},D):D}function Se(){let t=Le(),n=ee(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:a},"ErrorBoundary")," or"," ",e.createElement("code",{style:a},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,s)}var Te=e.createElement(Se,null),Ae=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let t=this.state.error;if(this.context&&"object"===typeof t&&t&&"digest"in t&&"string"===typeof t.digest){const e=function(e){if(e.startsWith("".concat(ye,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new J(t.status,t.statusText,t.data)}catch(t){}}(t.digest);e&&(t=e)}let n=void 0!==t?e.createElement(me.Provider,{value:this.props.routeContext},e.createElement(ge.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?e.createElement(Fe,{error:t},n):n}};Ae.contextType=ue;var ke=new WeakMap;function Fe(t){let{children:n,error:r}=t,{basename:o}=e.useContext(fe);if("object"===typeof r&&r&&"digest"in r&&"string"===typeof r.digest){let t=function(e){if(e.startsWith("".concat(ye,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(r.digest);if(t){let n=ke.get(r);if(n)throw n;let i=re(t.location,o);if(ne&&!ke.get(r)){if(!i.isExternal&&!t.reloadDocument){const e=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:t.replace}));throw ke.set(r,e),e}window.location.href=i.absoluteURL||i.to}return e.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(i.absoluteURL||i.to)})}}return n}function Ce(t){let{routeContext:n,match:r,children:o}=t,i=e.useContext(ae);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(me.Provider,{value:n},o)}function Oe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,a=null===r||void 0===r?void 0:r.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));y(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,u=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:n}=r,o=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||o){s=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}let l=r&&o?(e,t)=>{var n,i;o(e,{location:r.location,params:null!==(n=null===(i=r.matches)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.params)&&void 0!==n?n:{},unstable_pattern:te(r.matches),errorInfo:t})}:void 0;return i.reduceRight((t,o,c)=>{let d,h=!1,f=null,p=null;r&&(d=a&&o.route.id?a[o.route.id]:void 0,f=o.route.errorElement||Te,s&&(u<0&&0===c?(Be("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):u===c&&(h=!0,p=o.route.hydrateFallbackElement||null)));let m=n.concat(i.slice(0,c+1)),g=()=>{let n;return n=d?f:h?p:o.route.Component?e.createElement(o.route.Component,null):o.route.element?o.route.element:t,e.createElement(Ce,{match:o,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?e.createElement(Ae,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):g()},null)}function Pe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ie(t){let n=e.useContext(ae);return y(n,Pe(t)),n}function Me(t){let n=e.useContext(se);return y(n,Pe(t)),n}function Ne(t){let n=function(t){let n=e.useContext(me);return y(n,Pe(t)),n}(t),r=n.matches[n.matches.length-1];return y(r.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),r.route.id}function Le(){var t;let n=e.useContext(ge),r=Me("useRouteError"),o=Ne("useRouteError");return void 0!==n?n:null===(t=r.errors)||void 0===t?void 0:t[o]}var je={};function Be(e,t,n){t||je[e]||(je[e]=!0,b(!1,n))}var Re={};function ze(e,t){e||Re[t]||(Re[t]=!0,console.warn(t))}t.useOptimistic;e.memo(function(e){let{routes:t,future:n,state:r,onError:o}=e;return Ee(t,void 0,r,o,n)});function Ve(t){let{basename:n="/",children:r=null,location:o,navigationType:i="POP",navigator:a,static:s=!1,unstable_useTransitions:u}=t;y(!be(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:u,future:{}}),[l,a,s,u]);"string"===typeof o&&(o=x(o));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=o,g=e.useMemo(()=>{let e=V(d,l);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return b(null!=g,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(h).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:e.createElement(fe.Provider,{value:c},e.createElement(pe.Provider,{children:r,value:g}))}e.Component;var Ue="get",Ge="application/x-www-form-urlencoded";function He(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var We=null;var qe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xe(e){return null==e||qe.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ge,'"')),null)}function Ye(e,t){let n,r,o,i,a;if(He(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?V(a,t):null,n=e.getAttribute("method")||Ue,o=Xe(e.getAttribute("enctype"))||Ge,i=new FormData(e)}else if(function(e){return He(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return He(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?V(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ue,o=Xe(e.getAttribute("formenctype"))||Xe(a.getAttribute("enctype"))||Ge,i=new FormData(a,e),!function(){if(null===We)try{new FormData(document.createElement("form"),0),We=!1}catch(e){We=!0}return We}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(He(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ue,r=null,o=Ge,a=e}var s;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ke(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function $e(e,t,n,r){let o="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return n?o.pathname.endsWith("/")?o.pathname="".concat(o.pathname,"_.").concat(r):o.pathname="".concat(o.pathname,".").concat(r):"/"===o.pathname?o.pathname="_root.".concat(r):t&&"/"===V(o.pathname,t)?o.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):o.pathname="".concat(o.pathname.replace(/\/$/,""),".").concat(r),o}async function Qe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ze(e){return null!=e&&"string"===typeof e.page}function Je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function et(e,t,n,r,o,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>a(e,t)||s(e,t)):"data"===i?t.filter((t,i)=>{let u=r.routes[t.route.id];if(!u||!u.hasLoader)return!1;if(a(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){var l;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(l=n[0])||void 0===l?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function tt(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function nt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&!Ze(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e},[])}function rt(e,t){return"lazy"===e.mode&&!0===t}function ot(){let t=e.useContext(ae);return Ke(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function it(){let t=e.useContext(se);return Ke(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var at=e.createContext(void 0);function st(){let t=e.useContext(at);return Ke(t,"You must render this element inside a <HydratedRouter> element"),t}function ut(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lt(e,t,n){if(n&&!ft)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}at.displayName="FrameworkContext";function ct(t){let{page:n}=t,o=r(t,c),{router:i}=ot(),a=e.useMemo(()=>S(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?e.createElement(ht,u({page:n,matches:a},o)):null}function dt(t){let{manifest:n,routeModules:r}=st(),[o,i]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return nt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Qe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Je).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(t,n,r).then(t=>{e||i(t)}),()=>{e=!0}},[t,n,r]),o}function ht(t){let{page:n,matches:o}=t,i=r(t,d),a=ve(),{future:s,manifest:l,routeModules:c}=st(),{basename:h}=ot(),{loaderData:f,matches:p}=it(),m=e.useMemo(()=>et(n,o,p,l,a,"data"),[n,o,p,l,a]),g=e.useMemo(()=>et(n,o,p,l,a,"assets"),[n,o,p,l,a]),y=e.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(o.forEach(n=>{var r;let o=l.routes[n.route.id];o&&o.hasLoader&&(!m.some(e=>e.route.id===n.route.id)&&n.route.id in f&&null!==(r=c[n.route.id])&&void 0!==r&&r.shouldRevalidate||o.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let r=$e(n,h,s.unstable_trailingSlashAwareDataRequests,"data");return t&&e.size>0&&r.searchParams.set("_routes",o.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[h,s.unstable_trailingSlashAwareDataRequests,f,a,l,m,o,n,c]),b=e.useMemo(()=>tt(g,l),[g,l]),v=dt(g);return e.createElement(e.Fragment,null,y.map(t=>e.createElement("link",u({key:t,rel:"prefetch",as:"fetch",href:t},i))),b.map(t=>e.createElement("link",u({key:t,rel:"modulepreload",href:t},i))),v.map(t=>{let{key:n,link:r}=t;return e.createElement("link",u({key:n,nonce:i.nonce},r))}))}var ft=!1;function pt(t){let{manifest:n,serverHandoffString:o,isSpaMode:i,renderMeta:a,routeDiscovery:s,ssr:c}=st(),{router:d,static:h,staticContext:f}=ot(),{matches:p}=it(),m=le(),g=rt(s,c);a&&(a.didRenderScripts=!0);let y=lt(p,null,i);e.useEffect(()=>{ft=!0},[]);let b=e.useMemo(()=>{var i;if(m)return null;let a=f?"window.__reactRouterContext = ".concat(o,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=h?"".concat(null!==(i=n.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(y.map((e,t)=>{let r="route".concat(t),o=n.routes[e.route.id];Ke(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:u,module:l}=o,c=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...u?[{module:u,varName:"".concat(r,"_HydrateFallback")}]:[],{module:l,varName:"".concat(r,"_main")}];return 1===c.length?"import * as ".concat(r," from ").concat(JSON.stringify(l),";"):[c.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(c.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,o=r(e,l),i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push("/".concat(a.join("/"))),a.pop();s.forEach(e=>{let n=S(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let c=[...i].reduce((e,t)=>Object.assign(e,{[t]:o.routes[t]}),{});return u(u({},o),{},{routes:c,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",u(u({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:void 0})),e.createElement("script",u(u({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:"module",async:!0})))},[]),v=ft||m?[]:(_=n.entry.imports.concat(tt(y,n,{includeHydrateFallback:!0})),[...new Set(_)]);var _;let w="object"===typeof n.sri?n.sri:{};return ze(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ft||m?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",u(u({},t),{},{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}})):null,g?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:w[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:w[n.entry.module],suppressHydrationWarning:!0}),v.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:w[n],suppressHydrationWarning:!0})),b)}function mt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function gt(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let o,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(n))return e.createElement(yt,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)o=n;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);o=new Error(e)}return e.createElement(yt,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function yt(t){var n;let{title:r,renderScripts:o,isOutsideRemixApp:i,children:a}=t,{routeModules:s}=st();return null!==(n=s.root)&&void 0!==n&&n.Layout&&!i?a:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,r)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,o?e.createElement(pt,null):null)))}var bt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{bt&&(window.__reactRouterVersion="7.12.0")}catch(fv){}function vt(t){let{basename:n,children:r,unstable_useTransitions:o,window:i}=t,a=e.useRef();null==a.current&&(a.current=g({window:i,v5Compat:!0}));let s=a.current,[u,l]=e.useState({action:s.action,location:s.location}),c=e.useCallback(t=>{!1===o?l(t):e.startTransition(()=>l(t))},[o]);return e.useLayoutEffect(()=>s.listen(c),[s,c]),e.createElement(Ve,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:s,unstable_useTransitions:o})}var _t=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=e.forwardRef(function(t,n){let{onClick:o,discover:i="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:b}=t,v=r(t,h),{basename:_,unstable_useTransitions:x}=e.useContext(fe),D="string"===typeof p&&_t.test(p),E=re(p,_);p=E.to;let S=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(be(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=e.useContext(fe),{hash:i,pathname:a,search:s}=De(t,{relative:n}),u=a;return"/"!==r&&(u="/"===a?r:K([r,a])),o.createHref({pathname:u,search:s,hash:i})}(p,{relative:s}),[T,A,k]=function(t,n){let r=e.useContext(at),[o,i]=e.useState(!1),[a,s]=e.useState(!1),{onFocus:u,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=n,f=e.useRef(null);e.useEffect(()=>{if("render"===t&&s(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(o){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[o]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return r?"intent"!==t?[a,f,{}]:[a,f,{onFocus:ut(u,p),onBlur:ut(l,m),onMouseEnter:ut(c,p),onMouseLeave:ut(d,m),onTouchStart:ut(h,p)}]:[!1,f,{}]}(a,v),F=function(t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u,unstable_useTransitions:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=xe(),d=ve(),h=De(t,{relative:a});return e.useCallback(f=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(f,n)){f.preventDefault();let n=void 0!==r?r:w(d)===w(h),p=()=>c(t,{replace:n,state:o,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:u});l?e.startTransition(()=>p()):p()}},[d,c,h,r,o,n,t,i,a,s,u,l])}(p,{replace:c,state:d,target:f,preventScrollReset:m,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:b,unstable_useTransitions:x});let C=e.createElement("a",u(u(u({},v),k),{},{href:E.absoluteURL||S,onClick:E.isExternal||l?o:function(e){o&&o(e),e.defaultPrevented||F(e)},ref:mt(n,A),target:f,"data-discover":D||"render"!==i?void 0:"true"}));return T&&!D?e.createElement(e.Fragment,null,C,e.createElement(ct,{page:S})):C});wt.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":o="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:d,children:h}=t,p=r(t,f),m=De(c,{relative:p.relative}),g=ve(),b=e.useContext(se),{navigator:v,basename:_}=e.useContext(fe),w=null!=b&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(ce);y(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Et("useViewTransitionState"),i=De(t,{relative:n});if(!r.isTransitioning)return!1;let a=V(r.currentLocation.pathname,o)||r.currentLocation.pathname,s=V(r.nextLocation.pathname,o)||r.nextLocation.pathname;return null!=B(i.pathname,s)||null!=B(i.pathname,a)}(m)&&!0===d,x=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,D=g.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(D=D.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&_&&(E=V(E,_)||E);const S="/"!==x&&x.endsWith("/")?x.length-1:x.length;let T,A=D===x||!s&&D.startsWith(x)&&"/"===D.charAt(S),k=null!=E&&(E===x||!s&&E.startsWith(x)&&"/"===E.charAt(x.length)),F={isActive:A,isPending:k,isTransitioning:w},C=A?o:void 0;T="function"===typeof a?a(F):[a,A?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof l?l(F):l;return e.createElement(wt,u(u({},p),{},{"aria-current":C,className:T,ref:n,style:O,to:c,viewTransition:d}),"function"===typeof h?h(F):h)}).displayName="NavLink";var xt=e.forwardRef((t,n)=>{let{discover:o="render",fetcherKey:i,navigate:a,reloadDocument:s,replace:l,state:c,method:d=Ue,action:h,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v}=t,_=r(t,p),{unstable_useTransitions:x}=e.useContext(fe),D=At(),E=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(fe),o=e.useContext(me);y(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a=u({},De(t||".",{relative:n})),s=ve();if(null==t){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}t&&"."!==t||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:K([r,a.pathname]));return w(a)}(h,{relative:m}),S="get"===d.toLowerCase()?"get":"post",T="string"===typeof h&&_t.test(h);return e.createElement("form",u(u({ref:n,method:S,action:E,onSubmit:s?f:t=>{if(f&&f(t),t.defaultPrevented)return;t.preventDefault();let n=t.nativeEvent.submitter,r=(null===n||void 0===n?void 0:n.getAttribute("formmethod"))||d,o=()=>D(n||t.currentTarget,{fetcherKey:i,method:r,navigate:a,replace:l,state:c,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v});x&&!1!==a?e.startTransition(()=>o()):o()}},_),{},{"data-discover":T||"render"!==o?void 0:"true"}))});function Dt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Et(t){let n=e.useContext(ae);return y(n,Dt(t)),n}xt.displayName="Form";var St=0,Tt=()=>"__".concat(String(++St),"__");function At(){let{router:t}=Et("useSubmit"),{basename:n}=e.useContext(fe),r=Ne("useRouteId"),o=t.fetch,i=t.navigate;return e.useCallback(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:u,formData:l,body:c}=Ye(e,n);if(!1===t.navigate){let e=t.fetcherKey||Tt();await o(e,r,t.action||a,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:l,body:c,formMethod:t.method||s,formEncType:t.encType||u,flushSync:t.flushSync})}else await i(t.action||a,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:l,body:c,formMethod:t.method||s,formEncType:t.encType||u,replace:t.replace,state:t.state,fromRouteId:r,flushSync:t.flushSync,viewTransition:t.viewTransition})},[o,i,n,r])}const kt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ft=(()=>new Set(kt))(),Ct=e=>180*e/Math.PI,Ot=e=>{const t=Ct(Math.atan2(e[1],e[0]));return It(t)},Pt={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ot,rotateZ:Ot,skewX:e=>Ct(Math.atan(e[1])),skewY:e=>Ct(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},It=e=>((e%=360)<0&&(e+=360),e),Mt=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Nt=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Lt={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mt,scaleY:Nt,scale:e=>(Mt(e)+Nt(e))/2,rotateX:e=>It(Ct(Math.atan2(e[6],e[5]))),rotateY:e=>It(Ct(Math.atan2(-e[2],e[0]))),rotateZ:Ot,rotate:Ot,skewX:e=>Ct(Math.atan(e[4])),skewY:e=>Ct(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jt(e){return e.includes("scale")?1:0}function Bt(e,t){if(!e||"none"===e)return jt(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,o;if(n)r=Lt,o=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=Pt,o=t}if(!o)return jt(t);const i=r[t],a=o[1].split(",").map(Rt);return"function"===typeof i?i(a):a[i]}function Rt(e){return parseFloat(e.trim())}const zt=e=>t=>"string"===typeof t&&t.startsWith(e),Vt=zt("--"),Ut=zt("var(--"),Gt=e=>!!Ut(e)&&Ht.test(e.split("/*")[0].trim()),Ht=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Wt(e){return"string"===typeof e&&e.split("/*")[0].includes("var(--")}function qt(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}const Xt=(e,t,n)=>e+(t-e)*n;function Yt(e){return void 0===e||1===e}function Kt(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Yt(t)||!Yt(n)||!Yt(r)}function $t(e){return Kt(e)||Qt(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Qt(e){return Zt(e.x)||Zt(e.y)}function Zt(e){return e&&"0%"!==e}function Jt(e,t,n){return n+t*(e-n)}function en(e,t,n,r,o){return void 0!==o&&(e=Jt(e,o,r)),Jt(e,n,r)+t}function tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=en(e.min,t,n,r,o),e.max=en(e.max,t,n,r,o)}function nn(e,t){let{x:n,y:r}=t;tn(e.x,n.translate,n.scale,n.originPoint),tn(e.y,r.translate,r.scale,r.originPoint)}const rn=.999999999999,on=1.0000000000001;function an(e,t){e.min=e.min+t,e.max=e.max+t}function sn(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;tn(e,t,n,Xt(e.min,e.max,o),r)}function un(e,t){sn(e.x,t.x,t.scaleX,t.scale,t.originX),sn(e.y,t.y,t.scaleY,t.scale,t.originY)}function ln(e,t){return qt(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const cn=new Set(["width","height","top","left","right","bottom",...kt]),dn=(e,t,n)=>n>t?t:n<e?e:n,hn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},fn=u(u({},hn),{},{transform:e=>dn(0,1,e)}),pn=u(u({},hn),{},{default:1}),mn=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),gn=mn("deg"),yn=mn("%"),bn=mn("px"),vn=mn("vh"),_n=mn("vw"),wn=(()=>u(u({},yn),{},{parse:e=>yn.parse(e)/100,transform:e=>yn.transform(100*e)}))(),xn=e=>t=>t.test(e),Dn=[hn,bn,yn,gn,_n,vn,{test:e=>"auto"===e,parse:e=>e}],En=e=>Dn.find(xn(e));function Sn(e,t){return t?"".concat(e,". For more information and steps for solving, visit https://motion.dev/troubleshooting/").concat(t):e}var Tn;let An=()=>{},kn=()=>{};"undefined"!==typeof process&&"production"!==(null===(Tn={NODE_ENV:"production",PUBLIC_URL:"/AI-Powered-Portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===Tn?void 0:Tn.NODE_ENV)&&(An=(e,t,n)=>{e||"undefined"===typeof console||console.warn(Sn(t,n))},kn=(e,t,n)=>{if(!e)throw new Error(Sn(t,n))});const Fn=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Cn=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function On(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;kn(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'),"max-css-var-depth");const[r,o]=function(e){const t=Cn.exec(e);if(!t)return[,];const[,n,r,o]=t;return["--".concat(null!==n&&void 0!==n?n:r),o]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Fn(e)?parseFloat(e):e}return Gt(o)?On(o,t,n+1):o}const Pn=e=>e===hn||e===bn,In=new Set(["x","y","z"]),Mn=kt.filter(e=>!In.has(e));const Nn={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Bt(n,"x")},y:(e,t)=>{let{transform:n}=t;return Bt(n,"y")}};Nn.translateX=Nn.x,Nn.translateY=Nn.y;const Ln=e=>e,jn={},Bn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Rn={value:null,addProjectionMetrics:null};function zn(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Bn.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,o=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},u=0;function l(t){a.has(t)&&(c.schedule(t),e()),u++,t(s)}const c={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{s=e,o?i=!0:(o=!0,[n,r]=[r,n],n.forEach(l),t&&Rn.value&&Rn.value.frameloop[t].push(u),u=0,n.clear(),o=!1,i&&(i=!1,c.process(e)))}};return c}(i,t?n:void 0),e),{}),{setup:s,read:u,resolveKeyframes:l,preUpdate:c,update:d,preRender:h,render:f,postRender:p}=a,m=()=>{const i=jn.useManualTiming?o.timestamp:performance.now();n=!1,jn.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1)),o.timestamp=i,o.isProcessing=!0,s.process(o),u.process(o),l.process(o),c.process(o),d.process(o),h.process(o),f.process(o),p.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(m))},g=Bn.reduce((t,i)=>{const s=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(m)),s.schedule(t,i,a)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<Bn.length;t++)a[Bn[t]].cancel(e)},state:o,steps:a}}const{schedule:Vn,cancel:Un,state:Gn,steps:Hn}=zn("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Ln,!0),Wn=new Set;let qn=!1,Xn=!1,Yn=!1;function Kn(){if(Xn){const e=Array.from(Wn).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Mn.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,o]=t;null===(n=e.getValue(r))||void 0===n||n.set(o)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Xn=!1,qn=!1,Wn.forEach(e=>e.complete(Yn)),Wn.clear()}function $n(){Wn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xn=!0)})}class Qn{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Wn.add(this),qn||(qn=!0,Vn.read($n),Vn.resolveKeyframes(Kn))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const o=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===o&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wn.delete(this)}cancel(){"scheduled"===this.state&&(Wn.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Zn=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Jn(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Zn(e))}const er=e=>Math.round(1e5*e)/1e5,tr=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const nr=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,rr=(e,t)=>n=>Boolean("string"===typeof n&&nr.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),or=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[o,i,a,s]=r.match(tr);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},ir=u(u({},hn),{},{transform:e=>Math.round((e=>dn(0,255,e))(e))}),ar={test:rr("rgb","red"),parse:or("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+ir.transform(t)+", "+ir.transform(n)+", "+ir.transform(r)+", "+er(fn.transform(o))+")"}};const sr={test:rr("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:ar.transform},ur={test:rr("hsl","hue"),parse:or("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+yn.transform(er(n))+", "+yn.transform(er(r))+", "+er(fn.transform(o))+")"}},lr={test:e=>ar.test(e)||sr.test(e)||ur.test(e),parse:e=>ar.test(e)?ar.parse(e):ur.test(e)?ur.parse(e):sr.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?ar.transform(e):ur.transform(e),getAnimatableNone:e=>{const t=lr.parse(e);return t.alpha=0,lr.transform(t)}},cr=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const dr="number",hr="color",fr=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function pr(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=t.replace(fr,e=>(lr.test(e)?(r.color.push(i),o.push(hr),n.push(lr.parse(e))):e.startsWith("var(")?(r.var.push(i),o.push("var"),n.push(e)):(r.number.push(i),o.push(dr),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:a,indexes:r,types:o}}function mr(e){return pr(e).values}function gr(e){const{split:t,types:n}=pr(e),r=t.length;return e=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],void 0!==e[i]){const t=n[i];o+=t===dr?er(e[i]):t===hr?lr.transform(e[i]):e[i]}return o}}const yr=e=>"number"===typeof e?0:lr.test(e)?lr.getAnimatableNone(e):e;const br={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(tr))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(cr))||void 0===n?void 0:n.length)||0)>0},parse:mr,createTransformer:gr,getAnimatableNone:function(e){const t=mr(e);return gr(e)(t.map(yr))}},vr=new Set(["brightness","contrast","saturate","opacity"]);function _r(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(tr)||[];if(!r)return e;const o=n.replace(r,"");let i=vr.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const wr=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,xr=u(u({},br),{},{getAnimatableNone:e=>{const t=e.match(wr);return t?t.map(_r).join(" "):e}}),Dr=u(u({},hn),{},{transform:Math.round}),Er=u(u({borderWidth:bn,borderTopWidth:bn,borderRightWidth:bn,borderBottomWidth:bn,borderLeftWidth:bn,borderRadius:bn,radius:bn,borderTopLeftRadius:bn,borderTopRightRadius:bn,borderBottomRightRadius:bn,borderBottomLeftRadius:bn,width:bn,maxWidth:bn,height:bn,maxHeight:bn,top:bn,right:bn,bottom:bn,left:bn,inset:bn,insetBlock:bn,insetBlockStart:bn,insetBlockEnd:bn,insetInline:bn,insetInlineStart:bn,insetInlineEnd:bn,padding:bn,paddingTop:bn,paddingRight:bn,paddingBottom:bn,paddingLeft:bn,paddingBlock:bn,paddingBlockStart:bn,paddingBlockEnd:bn,paddingInline:bn,paddingInlineStart:bn,paddingInlineEnd:bn,margin:bn,marginTop:bn,marginRight:bn,marginBottom:bn,marginLeft:bn,marginBlock:bn,marginBlockStart:bn,marginBlockEnd:bn,marginInline:bn,marginInlineStart:bn,marginInlineEnd:bn,backgroundPositionX:bn,backgroundPositionY:bn},{rotate:gn,rotateX:gn,rotateY:gn,rotateZ:gn,scale:pn,scaleX:pn,scaleY:pn,scaleZ:pn,skew:gn,skewX:gn,skewY:gn,distance:bn,translateX:bn,translateY:bn,translateZ:bn,x:bn,y:bn,z:bn,perspective:bn,transformPerspective:bn,opacity:fn,originX:wn,originY:wn,originZ:bn}),{},{zIndex:Dr,fillOpacity:fn,strokeOpacity:fn,numOctaves:Dr}),Sr=u(u({},Er),{},{color:lr,backgroundColor:lr,outlineColor:lr,fill:lr,stroke:lr,borderColor:lr,borderTopColor:lr,borderRightColor:lr,borderBottomColor:lr,borderLeftColor:lr,filter:xr,WebkitFilter:xr}),Tr=e=>Sr[e];function Ar(e,t){let n=Tr(e);return n!==xr&&(n=br),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const kr=new Set(["auto","none","0"]);class Fr extends Qn{constructor(e,t,n,r,o){super(e,t,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),Gt(n))){const r=On(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!cn.has(n)||2!==e.length)return;const[r,o]=e,i=En(r),a=En(o);if(Wt(r)!==Wt(o)&&Nn[n])this.needsMeasurement=!0;else if(i!==a)if(Pn(i)&&Pn(a))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else Nn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||Jn(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,o=0;for(;o<e.length&&!r;){const t=e[o];"string"===typeof t&&!kr.has(t)&&pr(t).values.length&&(r=e[o]),o++}if(r&&n)for(const i of t)e[i]=Ar(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Nn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const Cr=e=>Boolean(e&&e.getVelocity);let Or;function Pr(){Or=void 0}const Ir={now:()=>(void 0===Or&&Ir.set(Gn.isProcessing||jn.useManualTiming?Gn.timestamp:performance.now()),Or),set:e=>{Or=e,queueMicrotask(Pr)}};function Mr(e,t){-1===e.indexOf(t)&&e.push(t)}function Nr(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Lr{constructor(){this.subscriptions=[]}add(e){return Mr(this.subscriptions,e),()=>Nr(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function jr(e,t){return t?e*(1e3/t):0}const Br={current:void 0};class Rr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Ir.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Ir.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Lr);const n=this.events[e].add(t);return"change"===e?()=>{n(),Vn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Br.current&&Br.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ir.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return jr(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zr(e,t){return new Rr(e,t)}const Vr=[...Dn,lr,br],{schedule:Ur,cancel:Gr}=zn(queueMicrotask,!1),Hr={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wr={};for(const mv in Hr)Wr[mv]={isEnabled:e=>Hr[mv].some(t=>!!e[t])};const qr=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Xr="undefined"!==typeof window,Yr={current:null},Kr={current:!1};const $r=new WeakMap;function Qr(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Zr(e){return"string"===typeof e||Array.isArray(e)}const Jr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eo=["initial",...Jr];function to(e){return Qr(e.animate)||eo.some(t=>Zr(e[t]))}function no(e){return Boolean(to(e)||e.variants)}function ro(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function oo(e,t,n,r){if("function"===typeof t){const[o,i]=ro(r);t=t(void 0!==n?n:e.custom,o,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[o,i]=ro(r);t=t(void 0!==n?n:e.custom,o,i)}return t}const io=["willChange"],ao=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class so{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:o,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Ir.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Vn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=s;this.latestValues=c,this.baseTarget=u({},c),this.initialValues=n.initial?u({},c):{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=to(n),this.isVariantNode=no(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=h,p=r(h,io);for(const r in p){const e=p[r];void 0!==c[r]&&Cr(e)&&e.set(c[r])}}mount(e){var t;this.current=e,$r.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(Kr.current||function(){if(Kr.current=!0,Xr)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yr.current=e.matches;e.addEventListener("change",t),t()}else Yr.current=!1}(),this.shouldReduceMotion=Yr.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Un(this.notifyUpdate),Un(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ft.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Vn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Wr){const t=Wr[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ao.length;n++){const t=ao[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const o=t[r],i=n[r];if(Cr(o))e.addValue(r,o);else if(Cr(i))e.addValue(r,zr(o,{owner:e}));else if(i!==o)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(r);e.addValue(r,zr(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=zr(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var o;return void 0!==r&&null!==r&&("string"===typeof r&&(Fn(r)||Zn(r))?r=parseFloat(r):(o=r,!Vr.find(xn(o))&&br.test(t)&&(r=Ar(e,t))),this.setBaseTarget(e,Cr(r)?r.get():r)),Cr(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const o=oo(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);o&&(n=o[e])}if(t&&void 0!==n)return n;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||Cr(o)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new Lr),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){Ur.render(this.render)}}class uo extends so{constructor(){super(...arguments),this.KeyframeResolver=Fr}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cr(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const lo=(e,t)=>t&&"number"===typeof e?t.transform(e):e,co={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ho=kt.length;function fo(e,t,n){const{style:r,vars:o,transformOrigin:i}=e;let a=!1,s=!1;for(const u in t){const e=t[u];if(Ft.has(u))a=!0;else if(Vt(u))o[u]=e;else{const t=lo(e,Er[u]);u.startsWith("origin")?(s=!0,i[u]=t):r[u]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",o=!0;for(let i=0;i<ho;i++){const a=kt[i],s=e[a];if(void 0===s)continue;let u=!0;if(u="number"===typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!u||n){const e=lo(s,Er[a]);u||(o=!1,r+="".concat(co[a]||a,"(").concat(e,") ")),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function po(e,t,n,r){let{style:o,vars:i}=t;const a=e.style;let s;for(s in o)a[s]=o[s];for(s in null===r||void 0===r||r.applyProjectionStyles(a,n),i)a.setProperty(s,i[s])}function mo(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const go={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!bn.test(e))return e;e=parseFloat(e)}const n=mo(e,t.target.x),r=mo(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},yo={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,i=br.parse(e);if(i.length>5)return o;const a=br.createTransformer(e),s="number"!==typeof i[0]?1:0,u=r.x.scale*n.x,l=r.y.scale*n.y;i[0+s]/=u,i[1+s]/=l;const c=Xt(u,l,.5);return"number"===typeof i[2+s]&&(i[2+s]/=c),"number"===typeof i[3+s]&&(i[3+s]/=c),a(i)}},bo={borderRadius:u(u({},go),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:go,borderTopRightRadius:go,borderBottomLeftRadius:go,borderBottomRightRadius:go,boxShadow:yo};function vo(e,t){let{layout:n,layoutId:r}=t;return Ft.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!bo[e]||"opacity"===e)}function _o(e,t,n){const{style:r}=e,o={};for(const a in r){var i;(Cr(r[a])||t.style&&Cr(t.style[a])||vo(a,e)||void 0!==(null===n||void 0===n||null===(i=n.getValue(a))||void 0===i?void 0:i.liveStyle))&&(o[a]=r[a])}return o}class wo extends uo{constructor(){super(...arguments),this.type="html",this.renderInstance=po}readValueFromInstance(e,t){var n,r;if(Ft.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?jt(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Bt(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),o=(Vt(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof o?o.trim():o}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return ln(e,n)}build(e,t,n){fo(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return _o(e,t,n)}}const xo=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Do={offset:"stroke-dashoffset",array:"stroke-dasharray"},Eo={offset:"strokeDashoffset",array:"strokeDasharray"};const So=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"],To=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Ao(e,t,n,o,i){let{attrX:a,attrY:s,attrScale:u,pathLength:l,pathSpacing:c=1,pathOffset:d=0}=t;if(fo(e,r(t,So),o),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;var p,m;(h.transform&&(f.transform=h.transform,delete h.transform),f.transform||h.transformOrigin)&&(f.transformOrigin=null!==(p=h.transformOrigin)&&void 0!==p?p:"50% 50%",delete h.transformOrigin);f.transform&&(f.transformBox=null!==(m=null===i||void 0===i?void 0:i.transformBox)&&void 0!==m?m:"fill-box",delete h.transformBox);for(const r of To)void 0!==h[r]&&(f[r]=h[r],delete h[r]);void 0!==a&&(h.x=a),void 0!==s&&(h.y=s),void 0!==u&&(h.scale=u),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=o?Do:Eo;e[i.offset]=bn.transform(-r);const a=bn.transform(t),s=bn.transform(n);e[i.array]="".concat(a," ").concat(s)}(h,l,c,d,!1)}const ko=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Fo=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Co(e,t,n){const r=_o(e,t,n);for(const o in e)if(Cr(e[o])||Cr(t[o])){r[-1!==kt.indexOf(o)?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o]=e[o]}return r}class Oo extends uo{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ft.has(t)){const e=Tr(t);return e&&e.default||0}return t=ko.has(t)?t:xo(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Co(e,t,n)}build(e,t,n){Ao(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){po(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(ko.has(o)?o:xo(o),t.attrs[o])}(e,t,0,r)}mount(e){this.isSVGTag=Fo(e.tagName),super.mount(e)}}const Po=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Io(e){return"string"===typeof e&&!e.includes("-")&&!!(Po.indexOf(e)>-1||/[A-Z]/.test(e))}const Mo=(t,n)=>{var r;return(null!==(r=n.isSVG)&&void 0!==r?r:Io(t))?new Oo(n):new wo(n,{allowProjection:t!==e.Fragment})};var No=__webpack_require__(579);const Lo=(0,e.createContext)({}),jo=(0,e.createContext)({strict:!1}),Bo=(0,e.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ro=(0,e.createContext)({});function zo(t){const{initial:n,animate:r}=function(e,t){if(to(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Zr(t)?t:void 0,animate:Zr(n)?n:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(Ro));return(0,e.useMemo)(()=>({initial:n,animate:r}),[Vo(n),Vo(r)])}function Vo(e){return Array.isArray(e)?e.join(" "):e}const Uo=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Go(e,t,n){for(const r in t)Cr(t[r])||vo(r,n)||(e[r]=t[r])}function Ho(t,n){const r={};return Go(r,t.style||{},t),Object.assign(r,function(t,n){let{transformTemplate:r}=t;return(0,e.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return fo(e,n,r),Object.assign({},e.vars,e.style)},[n])}(t,n)),r}function Wo(e,t){const n={},r=Ho(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const qo=()=>u(u({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function Xo(t,n,r,o){const i=(0,e.useMemo)(()=>{const e=qo();return Ao(e,n,Fo(o),t.transformTemplate,t.style),u(u({},e.attrs),{},{style:u({},e.style)})},[n]);if(t.style){const e={};Go(e,t.style,t),i.style=u(u({},e),i.style)}return i}const Yo=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ko(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Yo.has(e)}let $o=e=>!Ko(e);try{"function"===typeof(Qo=require("@emotion/is-prop-valid").default)&&($o=e=>e.startsWith("on")?!Ko(e):Qo(e))}catch(pv){}var Qo;function Zo(t,n,r,o,i){let{latestValues:a}=o,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;const c=((null!==l&&void 0!==l?l:Io(t))?Xo:Wo)(n,a,i,t),d=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||($o(o)||!0===n&&Ko(o)||!t&&!Ko(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(n,"string"===typeof t,s),h=t!==e.Fragment?u(u(u({},d),c),{},{ref:r}):{},{children:f}=n,p=(0,e.useMemo)(()=>Cr(f)?f.get():f,[f]);return(0,e.createElement)(t,u(u({},h),{},{children:p}))}const Jo=(0,e.createContext)(null);function ei(t){const n=(0,e.useRef)(null);return null===n.current&&(n.current=t()),n.current}function ti(e){return Cr(e)?e.get():e}const ni=["transitionEnd","transition"];function ri(e,t,n,o){const i={},a=o(e,{});for(const r in a)i[r]=ti(a[r]);let{initial:s,animate:u}=e;const l=to(e),c=no(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const h=d?u:s;if(h&&"boolean"!==typeof h&&!Qr(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const o=oo(e,t[n]);if(o){const{transitionEnd:e,transition:t}=o,n=r(o,ni);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const oi=t=>(n,r)=>{const o=(0,e.useContext)(Ro),i=(0,e.useContext)(Jo),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:i}=e;return{latestValues:ri(t,n,r,o),renderState:i()}}(t,n,o,i);return r?a():ei(a)},ii=oi({scrapeMotionValuesFromProps:_o,createRenderState:Uo}),ai=oi({scrapeMotionValuesFromProps:Co,createRenderState:qo});const si=Symbol.for("motionComponentSymbol");function ui(t,n,r){const o=(0,e.useRef)(r);(0,e.useInsertionEffect)(()=>{o.current=r});const i=(0,e.useRef)(null);return(0,e.useCallback)(e=>{var r;e&&(null===(r=t.onMount)||void 0===r||r.call(t,e));n&&(e?n.mount(e):n.unmount());const a=o.current;if("function"===typeof a)if(e){const t=a(e);"function"===typeof t&&(i.current=t)}else i.current?(i.current(),i.current=null):a(e);else a&&(a.current=e)},[n])}const li="data-"+xo("framerAppearId"),ci=(0,e.createContext)({});function di(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const hi=Xr?e.useLayoutEffect:e.useEffect;function fi(t,n,r,o,i,a){var s,u,l,c;const{visualElement:d}=(0,e.useContext)(Ro),h=(0,e.useContext)(jo),f=(0,e.useContext)(Jo),p=(0,e.useContext)(Bo).reducedMotion,m=(0,e.useRef)(null);o=o||h.renderer,!m.current&&o&&(m.current=o(t,{visualState:n,parent:d,props:r,presenceContext:f,blockInitialAnimation:!!f&&!1===f.initial,reducedMotionConfig:p,isSVG:a}));const g=m.current,y=(0,e.useContext)(ci);!g||g.projection||!i||"html"!==g.type&&"svg"!==g.type||function(e,t,n,r){const{layoutId:o,layout:i,drag:a,dragConstraints:s,layoutScroll:u,layoutRoot:l,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pi(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(a)||s&&di(s),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:u,layoutRoot:l})}(m.current,r,i,y);const b=(0,e.useRef)(!1);(0,e.useInsertionEffect)(()=>{g&&b.current&&g.update(r,f)});const v=r[li],_=(0,e.useRef)(Boolean(v)&&!(null!==(s=(u=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(u,v))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,v)));return hi(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),_.current&&g.animationState&&g.animationState.animateChanges())}),(0,e.useEffect)(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),_.current=!1),g.enteringChildren=void 0)}),g}function pi(e){if(e)return!1!==e.options.allowProjection?e.projection:pi(e.parent)}function mi(t){var n,r;let{forwardMotionProps:o=!1,type:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;a&&function(e){for(const t in e)Wr[t]=u(u({},Wr[t]),e[t])}(a);const l=i?"svg"===i:Io(t),c=l?ai:ii;function d(n,r){let i;const a=u(u(u({},(0,e.useContext)(Bo)),n),{},{layoutId:gi(n)}),{isStatic:d}=a,h=zo(n),f=c(n,d);if(!d&&Xr){!function(){(0,e.useContext)(jo).strict;0}();const n=function(e){const{drag:t,layout:n}=Wr;if(!t&&!n)return{};const r=u(u({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(a);i=n.MeasureLayout,h.visualElement=fi(t,f,a,s,n.ProjectionNode,l)}return(0,No.jsxs)(Ro.Provider,{value:h,children:[i&&h.visualElement?(0,No.jsx)(i,u({visualElement:h.visualElement},a)):null,Zo(t,n,ui(f,h.visualElement,r),f,d,o,l)]})}d.displayName="motion.".concat("string"===typeof t?t:"create(".concat(null!==(n=null!==(r=t.displayName)&&void 0!==r?r:t.name)&&void 0!==n?n:"",")"));const h=(0,e.forwardRef)(d);return h[si]=t,h}function gi(t){let{layoutId:n}=t;const r=(0,e.useContext)(Lo).id;return r&&void 0!==n?r+"-"+n:n}function yi(e,t){if("undefined"===typeof Proxy)return mi;const n=new Map,r=(n,r)=>mi(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(o,i)=>"create"===i?r:(n.has(i)||n.set(i,mi(i,void 0,e,t)),n.get(i))})}function bi(e,t,n){const r=e.getProps();return oo(r,t,void 0!==n?n:r.custom,e)}function vi(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const _i=e=>Array.isArray(e),wi=["transitionEnd","transition"];function xi(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zr(n))}function Di(e){return _i(e)?e[e.length-1]||0:e}function Ei(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Cr(r)&&r.add))return n.add(t);if(!n&&jn.WillChange){const n=new jn.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function Si(e){return e.props[li]}function Ti(e){e.duration=0,e.type="keyframes"}const Ai=(e,t)=>n=>t(e(n)),ki=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Ai)},Fi=e=>1e3*e,Ci=e=>e/1e3,Oi={layout:0,mainThread:0,waapi:0};function Pi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ii(e,t){return n=>n>0?t:e}const Mi=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Ni=[sr,ar,ur];function Li(e){const t=(n=e,Ni.find(e=>e.test(n)));var n;if(An(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),"color-not-animatable"),!Boolean(t))return!1;let r=t.parse(e);return t===ur&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let i=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;i=Pi(o,e,t+1/3),a=Pi(o,e,t),s=Pi(o,e,t-1/3)}else i=a=s=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:o}}(r)),r}const ji=(e,t)=>{const n=Li(e),r=Li(t);if(!n||!r)return Ii(e,t);const o=u({},n);return e=>(o.red=Mi(n.red,r.red,e),o.green=Mi(n.green,r.green,e),o.blue=Mi(n.blue,r.blue,e),o.alpha=Xt(n.alpha,r.alpha,e),ar.transform(o))},Bi=new Set(["none","hidden"]);function Ri(e,t){return n=>Xt(e,t,n)}function zi(e){return"number"===typeof e?Ri:"string"===typeof e?Gt(e)?Ii:lr.test(e)?ji:Gi:Array.isArray(e)?Vi:"object"===typeof e?lr.test(e)?ji:Ui:Ii}function Vi(e,t){const n=[...e],r=n.length,o=e.map((e,n)=>zi(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}}function Ui(e,t){const n=u(u({},e),t),r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=zi(e[o])(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Gi=(e,t)=>{const n=br.createTransformer(t),r=pr(e),o=pr(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Bi.has(e)&&!o.values.length||Bi.has(t)&&!r.values.length?function(e,t){return Bi.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):ki(Vi(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){var o;const a=t.types[i],s=e.indexes[a][r[a]],u=null!==(o=e.values[s])&&void 0!==o?o:0;n[i]=u,r[a]++}return n}(r,o),o.values),n):(An(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),"complex-values-different"),Ii(e,t))};function Hi(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Xt(e,t,n);return zi(e)(e,t)}const Wi=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Vn.update(t,e)},stop:()=>Un(t),now:()=>Gn.isProcessing?Gn.timestamp:Ir.now()}},qi=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const o=Math.max(Math.round(t/n),2);for(let i=0;i<o;i++)r+=Math.round(1e4*e(i/(o-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Xi=2e4;function Yi(e){let t=0;let n=e.next(t);for(;!n.done&&t<Xi;)t+=50,n=e.next(t);return t>=Xi?1/0:t}function Ki(e,t,n){const r=Math.max(t-5,0);return jr(n-e(r),t-r)}const $i={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qi=.001;function Zi(e){let t,n,{duration:r=$i.duration,bounce:o=$i.bounce,velocity:i=$i.velocity,mass:a=$i.mass}=e;An(r<=Fi($i.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let s=1-o;s=dn($i.minDamping,$i.maxDamping,s),r=dn($i.minDuration,$i.maxDuration,Ci(r)),s<1?(t=e=>{const t=e*s,n=t*r,o=t-i,a=ea(e,s),u=Math.exp(-n);return Qi-o/a*u},n=e=>{const n=e*s*r,o=n*i+i,a=Math.pow(s,2)*Math.pow(e,2)*r,u=Math.exp(-n),l=ea(Math.pow(e,2),s);return(-t(e)+Qi>0?-1:1)*((o-a)*u)/l}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const u=function(e,t,n){let r=n;for(let o=1;o<Ji;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Fi(r),isNaN(u))return{stiffness:$i.stiffness,damping:$i.damping,duration:r};{const e=Math.pow(u,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const Ji=12;function ea(e,t){return e*Math.sqrt(1-t*t)}const ta=["duration","bounce"],na=["stiffness","damping","mass"];function ra(e,t){return t.some(t=>void 0!==e[t])}function oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=function(e){let t=u({velocity:$i.velocity,stiffness:$i.stiffness,damping:$i.damping,mass:$i.mass,isResolvedFromDuration:!1},e);if(!ra(e,na)&&ra(e,ta))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),o=r*r,i=2*dn(.05,1,1-(e.bounce||0))*Math.sqrt(o);t=u(u({},t),{},{mass:$i.mass,stiffness:o,damping:i})}else{const n=Zi(e);t=u(u(u({},t),n),{},{mass:$i.mass}),t.isResolvedFromDuration=!0}return t}(u(u({},n),{},{velocity:-Ci(n.velocity||0)})),m=f||0,g=c/(2*Math.sqrt(l*d)),y=a-i,b=Ci(Math.sqrt(l/d)),v=Math.abs(y)<5;let _;if(r||(r=v?$i.restSpeed.granular:$i.restSpeed.default),o||(o=v?$i.restDelta.granular:$i.restDelta.default),g<1){const e=ea(b,g);_=t=>{const n=Math.exp(-g*b*t);return a-n*((m+g*b*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===g)_=e=>a-Math.exp(-b*e)*(y+(m+b*y)*e);else{const e=b*Math.sqrt(g*g-1);_=t=>{const n=Math.exp(-g*b*t),r=Math.min(e*t,300);return a-n*((m+g*b*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}const w={calculatedDuration:p&&h||null,next:e=>{const t=_(e);if(p)s.done=e>=h;else{let n=0===e?m:0;g<1&&(n=0===e?Fi(m):Ki(_,e,t));const i=Math.abs(n)<=r,u=Math.abs(a-t)<=o;s.done=i&&u}return s.value=s.done?a:t,s},toString:()=>{const e=Math.min(Yi(w),Xi),t=qi(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function ia(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:u,max:l,restDelta:c=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===u?l:void 0===l||Math.abs(u-e)<Math.abs(l-e)?u:l;let m=r*n;const g=h+m,y=void 0===s?g:s(g);y!==g&&(m=y-h);const b=e=>-m*Math.exp(-e/o),v=e=>y+b(e),_=e=>{const t=b(e),n=v(e);f.done=Math.abs(t)<=c,f.value=f.done?y:n};let w,x;const D=e=>{var t;(t=f.value,void 0!==u&&t<u||void 0!==l&&t>l)&&(w=e,x=oa({keyframes:[f.value,p(f.value)],velocity:Ki(v,e,f.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return D(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==w||(t=!0,_(e),D(e)),void 0!==w&&e>=w?x.next(e-w):(!t&&_(e),f)}}}oa.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(u(u({},e),{},{keyframes:[0,t]})),r=Math.min(Yi(n),Xi);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:Ci(r)}}(e,100,oa);return e.ease=t.ease,e.duration=Fi(t.duration),e.type="keyframes",e};const aa=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function sa(e,t,n,r){if(e===t&&n===r)return Ln;const o=t=>function(e,t,n,r,o){let i,a,s=0;do{a=t+(n-t)/2,i=aa(a,r,o)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++s<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:aa(o(e),t,r)}const ua=sa(.42,0,1,1),la=sa(0,0,.58,1),ca=sa(.42,0,.58,1),da=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ha=e=>t=>1-e(1-t),fa=sa(.33,1.53,.69,.99),pa=ha(fa),ma=da(pa),ga=e=>(e*=2)<1?.5*pa(e):.5*(2-Math.pow(2,-10*(e-1))),ya=e=>1-Math.sin(Math.acos(e)),ba=ha(ya),va=da(ya),_a=e=>Array.isArray(e)&&"number"===typeof e[0],wa={linear:Ln,easeIn:ua,easeInOut:ca,easeOut:la,circIn:ya,circInOut:va,circOut:ba,backIn:pa,backInOut:ma,backOut:fa,anticipate:ga},xa=e=>{if(_a(e)){kn(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,o]=e;return sa(t,n,r,o)}return"string"===typeof e?(kn(void 0!==wa[e],"Invalid easing type '".concat(e,"'"),"invalid-easing-type"),wa[e]):e},Da=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function Ea(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(kn(i===t.length,"Both input and output ranges must be the same length","range-length"),1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],o=n||jn.mix||Hi,i=e.length-1;for(let a=0;a<i;a++){let n=o(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Ln:t;n=ki(e,n)}r.push(n)}return r}(t,r,o),u=s.length,l=n=>{if(a&&n<e[0])return t[0];let r=0;if(u>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const o=Da(e[r],e[r+1],n);return s[r](o)};return n?t=>l(dn(e[0],e[i-1],t)):l}function Sa(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Da(0,t,r);e.push(Xt(n,1,o))}}(t,e.length-1),t}function Ta(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(xa):xa(o),a={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:Sa(n),t),u=Ea(s,n,{ease:Array.isArray(i)?i:(l=n,c=i,l.map(()=>c||ca).splice(0,l.length-1))});var l,c;return{calculatedDuration:t,next:e=>(a.value=u(e),a.done=e>=t,a)}}const Aa=e=>null!==e;function ka(e,t,n){let{repeat:r,repeatType:o="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.filter(Aa),s=i<0||r&&"loop"!==o&&r%2===1?0:a.length-1;return s&&void 0!==n?n:a[s]}const Fa={decay:ia,inertia:ia,tween:Ta,keyframes:Ta,spring:oa};function Ca(e){"string"===typeof e.type&&(e.type=Fa[e.type])}class Oa{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Pa=e=>e/100;class Ia extends Oa{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==Ir.now()&&this.tick(Ir.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},Oi.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Ca(e);const{type:t=Ta,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=e;let{keyframes:a}=e;const s=t||Ta;s!==Ta&&"number"!==typeof a[0]&&(this.mixKeyframes=ki(Pa,Hi(a[0],a[1])),a=[0,100]);const l=s(u(u({},e),{},{keyframes:a}));"mirror"===o&&(this.mirroredGenerator=s(u(u({},e),{},{keyframes:[...a].reverse(),velocity:-i}))),null===l.calculatedDuration&&(l.calculatedDuration=Yi(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:a,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:u=0,keyframes:l,repeat:c,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let b=this.currentTime,v=n;if(c){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,c+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/a)):"mirror"===d&&(v=i)),b=dn(0,1,n)*a}const _=y?{done:!1,value:l[0]}:v.next(b);o&&(_.value=o(_.value));let{done:w}=_;y||null===s||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return x&&f!==ia&&(_.value=ka(l,this.options,m,this.speed)),p&&p(_.value),x&&this.finish(),_}then(e,t){return this.finished.then(e,t)}get duration(){return Ci(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ci(e)}get time(){return Ci(this.currentTime)}set time(e){var t;e=Fi(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ir.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ci(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Wi,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const o=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=o):null!==this.holdTime?this.startTime=o-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:o),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ir.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Oi.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function Ma(e){let t;return()=>(void 0===t&&(t=e()),t)}const Na=Ma(()=>void 0!==window.ScrollTimeline),La={};function ja(e,t){const n=Ma(e);return()=>{var e;return null!==(e=La[t])&&void 0!==e?e:n()}}const Ba=ja(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(fv){return!1}return!0},"linearEasing"),Ra=e=>{let[t,n,r,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")},za={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ra([0,.65,.55,1]),circOut:Ra([.55,0,1,.45]),backIn:Ra([.31,.01,.66,-.59]),backOut:Ra([.33,1.53,.69,.99])};function Va(e,t){return e?"function"===typeof e?Ba()?qi(e,t):"ease-out":_a(e)?Ra(e):Array.isArray(e)?e.map(e=>Va(e,t)||za.easeOut):za[e]:void 0}function Ua(e,t,n){let{delay:r=0,duration:o=300,repeat:i=0,repeatType:a="loop",ease:s="easeOut",times:u}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const c={[t]:n};u&&(c.offset=u);const d=Va(s,o);Array.isArray(d)&&(c.easing=d),Rn.value&&Oi.waapi++;const h={delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"};l&&(h.pseudoElement=l);const f=e.animate(c,h);return Rn.value&&f.finished.finally(()=>{Oi.waapi--}),f}function Ga(e){return"function"===typeof e&&"applyToOptions"in e}const Ha=["type"];class Wa extends Oa{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:n,keyframes:o,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:s,onComplete:u}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=a,this.options=e,kn("string"!==typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function(e){let{type:t}=e,n=r(e,Ha);return Ga(t)&&Ba()?t.applyToOptions(n):(null!==(o=n.duration)&&void 0!==o||(n.duration=300),null!==(i=n.ease)&&void 0!==i||(n.ease="easeOut"),n);var o,i}(e);this.animation=Ua(t,n,o,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=ka(o,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===u||void 0===u||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(fv){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return Ci(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ci(e)}get time(){return Ci(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Fi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){var e;return null!==(e=this.manualStartTime)&&void 0!==e?e:Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&Na()?(this.animation.timeline=t,Ln):n(this)}}const qa={anticipate:ga,backInOut:ma,circInOut:va};function Xa(e){"string"===typeof e.ease&&e.ease in qa&&(e.ease=qa[e.ease])}const Ya=["motionValue","onUpdate","onComplete","element"];class Ka extends Wa{constructor(e){Xa(e),Ca(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const t=this.options,{motionValue:n,onUpdate:o,onComplete:i,element:a}=t,s=r(t,Ya);if(!n)return;if(void 0!==e)return void n.set(e);const l=new Ia(u(u({},s),{},{autoplay:!1})),c=Math.max(10,Ir.now()-this.startTime),d=dn(0,10,c-10);n.setWithVelocity(l.sample(Math.max(0,c-d)).value,l.sample(c).value,d),l.stop()}}const $a=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!br.test(e)&&"0"!==e||e.startsWith("url(")));const Qa=new Set(["opacity","clipPath","filter","transform"]),Za=Ma(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Ja=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class es extends Oa{constructor(e){var t;let{autoplay:n=!0,delay:o=0,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:f}=e,p=r(e,Ja);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Ir.now();const m=u({autoplay:n,delay:o,type:i,repeat:a,repeatDelay:s,repeatType:l,name:d,motionValue:h,element:f},p),g=(null===f||void 0===f?void 0:f.KeyframeResolver)||Qn;this.keyframeResolver=new g(c,(e,t,n)=>this.onKeyframesResolved(e,t,m,!n),d,h,f),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:o,type:i,velocity:a,delay:s,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Ir.now(),function(e,t,n,r){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=$a(o,t),s=$a(i,t);return An(a===s,"You are trying to animate ".concat(t,' from "').concat(o,'" to "').concat(i,'". "').concat(a?i:o,'" is not an animatable value.'),"value-not-animatable"),!(!a||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Ga(n))&&r)}(e,o,i,a)||(!jn.instantAnimations&&s||null===c||void 0===c||c(ka(e,n,t)),e[0]=e[e.length-1],Ti(n),n.repeat=0);const d=u(u({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),h=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:o,repeatType:i,damping:a,type:s}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=n.owner.getProps();return Za()&&r&&Qa.has(r)&&("transform"!==r||!l)&&!u&&!o&&"mirror"!==i&&0!==a&&"inertia"!==s}(d)?new Ka(u(u({},d),{},{element:d.motionValue.owner.current})):new Ia(d);h.finished.then(()=>this.notifyFinished()).catch(Ln),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Yn=!0,$n(),Kn(),Yn=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const ts=e=>null!==e;const ns={type:"spring",stiffness:500,damping:25,restSpeed:10},rs={type:"keyframes",duration:.8},os={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},is=(e,t)=>{let{keyframes:n}=t;return n.length>2?rs:Ft.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:ns:os},as=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const ss=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return s=>{const l=vi(o,e)||{},c=l.delay||o.delay||0;let{elapsed:d=0}=o;d-=Fi(c);const h=u(u({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-d,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i});(function(e){let{when:t,delay:n,delayChildren:o,staggerChildren:i,staggerDirection:a,repeat:s,repeatType:u,repeatDelay:l,from:c,elapsed:d}=e,h=r(e,as);return!!Object.keys(h).length})(l)||Object.assign(h,is(e,h)),h.duration&&(h.duration=Fi(h.duration)),h.repeatDelay&&(h.repeatDelay=Fi(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let f=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(Ti(h),0===h.delay&&(f=!0)),(jn.instantAnimations||jn.skipAnimations)&&(f=!0,Ti(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!a&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:o="loop"}=t;const i=e.filter(ts),a=r&&"loop"!==o&&r%2===1?0:i.length-1;return a&&void 0!==n?n:i[a]}(h.keyframes,l);if(void 0!==e)return void Vn.update(()=>{h.onUpdate(e),h.onComplete()})}return l.isSync?new Ia(h):new es(h)}},us=["transition","transitionEnd"];function ls(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function cs(e,t){let{delay:n=0,transitionOverride:o,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:s}=t,l=r(t,us);o&&(a=o);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const r in l){var h;const t=e.getValue(r,null!==(h=e.latestValues[r])&&void 0!==h?h:null),o=l[r];if(void 0===o||d&&ls(d,r))continue;const i=u({delay:n},vi(a||{},r)),s=t.get();if(void 0!==s&&!t.isAnimating&&!Array.isArray(o)&&o===s&&!i.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const t=Si(e);if(t){const e=window.MotionHandoffAnimation(t,r,Vn);null!==e&&(i.startTime=e,f=!0)}}Ei(e,r),t.start(ss(r,t,o,e.shouldReduceMotion&&cn.has(r)?{type:!1}:i,e,f));const p=t.animation;p&&c.push(p)}return s&&Promise.all(c).then(()=>{Vn.update(()=>{s&&function(e,t){let n=bi(e,t)||{},{transitionEnd:o={},transition:i={}}=n,a=r(n,wi);a=u(u({},a),o);for(const r in a)xi(e,r,Di(a[r]))}(e,s)})}),c}function ds(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const i=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,s=(a-1)*r;return"function"===typeof n?n(i,a):1===o?i*r:s-i*r}function hs(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=bi(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(i=r.transitionOverride);const a=o?()=>Promise.all(cs(e,o,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0;const s=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),s.push(hs(l,t,u(u({},a),{},{delay:n+("function"===typeof r?0:r)+ds(e.variantChildren,l,r,o,i)})).then(()=>l.notify("AnimationComplete",t)));return Promise.all(s)}(e,t,n,o,a,s,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,s]:[s,a];return e().then(()=>t())}return Promise.all([a(),s(r.delay)])}function fs(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const ps=eo.length;function ms(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&ms(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<ps;n++){const r=eo[n],o=e.props[r];(Zr(o)||!1===o)&&(t[r]=o)}return t}const gs=["transition","transitionEnd"],ys=[...Jr].reverse(),bs=Jr.length;function vs(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map(t=>hs(e,t,r));n=Promise.all(o)}else if("string"===typeof t)n=hs(e,t,r);else{const o="function"===typeof t?bi(e,t,r.custom):t;n=Promise.all(cs(e,o,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function _s(e){let t=vs(e),n=Ds(),o=!0;const i=t=>(n,o)=>{var i;const a=bi(e,o,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,o=r(a,gs);n=u(u(u({},n),o),t)}return n};function a(r){const{props:a}=e,s=ms(e.parent)||{},l=[],c=new Set;let d={},h=1/0;for(let t=0;t<bs;t++){const f=ys[t],p=n[f],m=void 0!==a[f]?a[f]:s[f],g=Zr(m),y=f===r?p.isActive:null;!1===y&&(h=t);let b=m===s[f]&&m!==a[f]&&g;if(b&&o&&e.manuallyAnimateOnMount&&(b=!1),p.protectedKeys=u({},d),!p.isActive&&null===y||!m&&!p.prevProp||Qr(m)||"boolean"===typeof m)continue;const v=ws(p.prevProp,m);let _=v||f===r&&p.isActive&&!b&&g||t>h&&g,w=!1;const x=Array.isArray(m)?m:[m];let D=x.reduce(i(f),{});!1===y&&(D={});const{prevResolvedValues:E={}}=p,S=u(u({},E),D),T=t=>{_=!0,c.has(t)&&(w=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=D[e],n=E[e];if(d.hasOwnProperty(e))continue;let r=!1;r=_i(t)&&_i(n)?!fs(t,n):t!==n,r?void 0!==t&&null!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=D,p.isActive&&(d=u(u({},d),D)),o&&e.blockInitialAnimation&&(_=!1);const A=b&&v;_&&(!A||w)&&l.push(...x.map(t=>{const n={type:f};if("string"===typeof t&&o&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,o=bi(r,t);if(r.enteringChildren&&o){const{delayChildren:t}=o.transition||{};n.delay=ds(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=bi(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let f=Boolean(l.length);return!o||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),o=!1,f?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const i=a(t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Ds()}}}function ws(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!fs(t,e)}function xs(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ds(){return{animate:xs(!0),whileInView:xs(),whileHover:xs(),whileTap:xs(),whileDrag:xs(),whileFocus:xs(),exit:xs()}}class Es{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Ss=0;const Ts={animation:{Feature:class extends Es{constructor(e){super(e),e.animationState||(e.animationState=_s(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qr(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Es{constructor(){super(...arguments),this.id=Ss++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},As={x:!1,y:!1};function ks(){return As.x||As.y}const Fs=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Cs(e){return Fs.has(e.tagName)||!0===e.isContentEditable}function Os(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Ps=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Is(e){return{point:{x:e.pageX,y:e.pageY}}}function Ms(e,t,n,r){return Os(e,t,(e=>t=>Ps(t)&&e(t,Is(t)))(n),r)}function Ns(e){return e.max-e.min}function Ls(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Xt(t.min,t.max,e.origin),e.scale=Ns(n)/Ns(t),e.translate=Xt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function js(e,t,n,r){Ls(e.x,t.x,n.x,r?r.originX:void 0),Ls(e.y,t.y,n.y,r?r.originY:void 0)}function Bs(e,t,n){e.min=n.min+t.min,e.max=e.min+Ns(t)}function Rs(e,t,n){e.min=t.min-n.min,e.max=e.min+Ns(t)}function zs(e,t,n){Rs(e.x,t.x,n.x),Rs(e.y,t.y,n.y)}function Vs(e){return[e("x"),e("y")]}const Us=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Gs=(e,t)=>Math.abs(e-t);const Hs=new Set(["auto","scroll"]);class Ws{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3,element:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ys(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Gs(e.x,t.x),r=Gs(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=Gn;this.history.push(u(u({},r),{},{timestamp:o}));const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=qs(t,this.transformPagePoint),Vn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(!this.dragSnapToOrigin&&this.startEvent||o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Ys("pointercancel"===e.type?this.lastMoveEventInfo:qs(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Ps(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const s=qs(Is(e),this.transformPagePoint),{point:l}=s,{timestamp:c}=Gn;this.history=[u(u({},l),{},{timestamp:c})];const{onSessionStart:d}=t;d&&d(e,Ys(s,this.history)),this.removeListeners=ki(Ms(this.contextWindow,"pointermove",this.handlePointerMove),Ms(this.contextWindow,"pointerup",this.handlePointerUp),Ms(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let t=e.parentElement;for(;t;){const e=getComputedStyle(t);(Hs.has(e.overflowX)||Hs.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o=r.x-t.x,i=r.y-t.y;0===o&&0===i||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o,this.lastMoveEventInfo.point.y+=i):this.history.length>0&&(this.history[0].x-=o,this.history[0].y-=i),this.scrollPositions.set(e,r),Vn.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Un(this.updatePoint)}}function qs(e,t){return t?{point:t(e.point)}:e}function Xs(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ys(e,t){let{point:n}=e;return{point:n,delta:Xs(n,$s(t)),offset:Xs(n,Ks(t)),velocity:Qs(t,.1)}}function Ks(e){return e[0]}function $s(e){return e[e.length-1]}function Qs(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=$s(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Fi(t)));)n--;if(!r)return{x:0,y:0};const i=Ci(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Zs(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Js(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const eu=.35;function tu(e,t,n){return{min:nu(e,t),max:nu(e,n)}}function nu(e,t){return"number"===typeof e?e:e[t]||0}const ru=new WeakMap;class ou{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:o}=this.getProps();this.panSession=new Ws(e,{onSessionStart:e=>{t?(this.stopAnimation(),this.snapToCursor(Is(e).point)):this.pauseAnimation()},onStart:(e,t)=>{this.stopAnimation();const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?As[i]?null:(As[i]=!0,()=>{As[i]=!1}):As.x||As.y?null:(As.x=As.y=!0,()=>{As.x=As.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs(e=>{let t=this.getAxisMotionValue(e).get()||0;if(yn.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Ns(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),o&&Vn.postRender(()=>o(e,t)),Ei(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Vs(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,distanceThreshold:n,contextWindow:Us(this.visualElement),element:this.visualElement.current})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Vn.postRender(()=>a(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!iu(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?Xt(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?Xt(o,e,n.max):Math.min(e,o)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&di(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:i}=t;return{x:Zs(e.x,r,i),y:Zs(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu;return!1===e?e=0:!0===e&&(e=eu),{x:tu(e,"left","right"),y:tu(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vs(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!di(e))return!1;const n=e.current;kn(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=ln(e,n),{scroll:o}=t;return o&&(an(r.x,o.offset.x),an(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Js(e.x,t.x),y:Js(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=qt(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=Vs(a=>{if(!iu(a,t,this.currentDirection))return;let l=s&&s[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,h=u(u({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},o),l);return this.startAxisValueAnimation(a,h)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Ei(this.visualElement,e),n.start(ss(e,n,0,t,this.visualElement,!1))}stopAnimation(){Vs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vs(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Vs(t=>{const{drag:n}=this.getProps();if(!iu(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t],a=o.get()||0;o.set(e[t]-Xt(n,i,.5)+a)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!di(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Vs(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Ns(e),o=Ns(t);return o>r?n=Da(t.min,t.max-r,e.min):r>o&&(n=Da(e.min,e.max-o,t.min)),dn(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Vs(t=>{if(!iu(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(Xt(o,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;ru.set(this.visualElement,this);const e=Ms(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&!Cs(e.target)&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();di(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Vn.read(t);const o=Os(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Vs(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{o(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=eu,dragMomentum:a=!0}=e;return u(u({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:a})}}function iu(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const au=e=>(t,n)=>{e&&Vn.postRender(()=>e(t,n))};function su(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,e.useContext)(Jo);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:o,register:i}=n,a=(0,e.useId)();(0,e.useEffect)(()=>{if(t)return i(a)},[t]);const s=(0,e.useCallback)(()=>t&&o&&o(a),[a,o,t]);return!r&&o?[!1,s]:[!0]}const uu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let lu=!1;class cu extends e.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),lu&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions(u(u({},o.options),{},{onExitComplete:()=>this.safeToRemove()}))),uu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,{projection:i}=n;return i?(i.isPresent=o,lu=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==o?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Vn.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ur.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;lu=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function du(t){const[n,r]=su(),o=(0,e.useContext)(Lo);return(0,No.jsx)(cu,u(u({},t),{},{layoutGroup:o,switchLayoutGroup:(0,e.useContext)(ci),isPresent:n,safeToRemove:r}))}function hu(e){return"object"===typeof e&&null!==e}function fu(e){return hu(e)&&"ownerSVGElement"in e}const pu=(e,t)=>e.depth-t.depth;class mu{constructor(){this.children=[],this.isDirty=!1}add(e){Mr(this.children,e),this.isDirty=!0}remove(e){Nr(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pu),this.isDirty=!1,this.children.forEach(e)}}function gu(e,t){const n=Ir.now(),r=o=>{let{timestamp:i}=o;const a=i-n;a>=t&&(Un(r),e(a-t))};return Vn.setup(r,!0),()=>Un(r)}const yu=["TopLeft","TopRight","BottomLeft","BottomRight"],bu=yu.length,vu=e=>"string"===typeof e?parseFloat(e):e,_u=e=>"number"===typeof e||bn.test(e);function wu(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const xu=Eu(0,.5,ba),Du=Eu(.5,.95,Ln);function Eu(e,t,n){return r=>r<e?0:r>t?1:n(Da(e,t,r))}function Su(e,t){e.min=t.min,e.max=t.max}function Tu(e,t){Su(e.x,t.x),Su(e.y,t.y)}function Au(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ku(e,t,n,r,o){return e=Jt(e-=t,1/n,r),void 0!==o&&(e=Jt(e,1/o,r)),e}function Fu(e,t,n,r,o){let[i,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;yn.test(t)&&(t=parseFloat(t),t=Xt(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=Xt(i.min,i.max,r);e===i&&(s-=t),e.min=ku(e.min,t,n,s,o),e.max=ku(e.max,t,n,s,o)}(e,t[i],t[a],t[s],t.scale,r,o)}const Cu=["x","scaleX","originX"],Ou=["y","scaleY","originY"];function Pu(e,t,n,r){Fu(e.x,t,Cu,n?n.x:void 0,r?r.x:void 0),Fu(e.y,t,Ou,n?n.y:void 0,r?r.y:void 0)}function Iu(e){return 0===e.translate&&1===e.scale}function Mu(e){return Iu(e.x)&&Iu(e.y)}function Nu(e,t){return e.min===t.min&&e.max===t.max}function Lu(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ju(e,t){return Lu(e.x,t.x)&&Lu(e.y,t.y)}function Bu(e){return Ns(e.x)/Ns(e.y)}function Ru(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zu{constructor(){this.members=[]}add(e){Mr(this.members,e),e.scheduleRender()}remove(e){if(Nr(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Vu={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Uu=["","X","Y","Z"];let Gu=0;function Hu(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Wu(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Si(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Vn,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Wu(r)}function qu(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Gu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rn.value&&(Vu.nodes=Vu.calculatedTargetDeltas=Vu.calculatedProjections=0),this.nodes.forEach(Ku),this.nodes.forEach(nl),this.nodes.forEach(rl),this.nodes.forEach($u),Rn.addProjectionMetrics&&Rn.addProjectionMetrics(Vu)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new mu)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Lr),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=fu(e)&&!(fu(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:o,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const o=()=>this.root.updateBlockedByResize=!1;Vn.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=gu(o,250),uu.hasAnimatedSinceResize&&(uu.hasAnimatedSinceResize=!1,this.nodes.forEach(tl)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||o)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||ll,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!ju(this.targetLayout,o),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=u(u({},vi(a,"layout")),{},{onPlay:s,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||tl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ol),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wu(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Zu);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Ju);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(el),this.nodes.forEach(Xu),this.nodes.forEach(Yu)):this.nodes.forEach(Ju),this.clearAllSnapshots();const e=Ir.now();Gn.delta=dn(0,1e3/60,e-Gn.timestamp),Gn.timestamp=e,Gn.isProcessing=!0,Hn.update.process(Gn),Hn.preRender.process(Gn),Hn.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ur.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qu),this.sharedNodes.forEach(il)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Ns(this.snapshot.measuredBox.x)||Ns(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Mu(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||$t(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),hl((r=n).x),hl(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(pl))){const{scroll:e}=this.root;e&&(an(n.x,e.offset.x),an(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Tu(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:o,options:i}=t;t!==this.root&&o&&i.layoutScroll&&(o.wasRoot&&Tu(n,e),an(n.x,o.offset.x),an(n.y,o.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Tu(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&un(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),$t(e.latestValues)&&un(n,e.latestValues)}return $t(this.latestValues)&&un(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Tu(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!$t(e.latestValues))continue;Kt(e.latestValues)&&e.updateSnapshot();const r=qr();Tu(r,e.measurePageBox()),Pu(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return $t(this.latestValues)&&Pu(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=u(u(u({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:i}=this.options;if(!this.layout||!o&&!i)return;this.resolvedRelativeTargetAt=Gn.timestamp;const a=this.getClosestProjectingParent();var s,u,l;(a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,u=this.relativeTarget,l=this.relativeParent.target,Bs(s.x,u.x,l.x),Bs(s.y,u.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Tu(this.target,this.layout.layoutBox),nn(this.target,this.targetDelta)):Tu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&Boolean(a.resumingFrom)===Boolean(this.resumingFrom)&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0),Rn.value&&Vu.calculatedTargetDeltas++)}getClosestProjectingParent(){if(this.parent&&!Kt(this.parent.latestValues)&&!Qt(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},zs(this.relativeTargetOrigin,t,n),Tu(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(r=!1),r)return;const{layout:o,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!i)return;Tu(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let i,a;t.x=t.y=1;for(let s=0;s<o;s++){i=n[s],a=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&un(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,nn(e,a)),r&&$t(i.latestValues)&&un(e,i.latestValues))}t.x<on&&t.x>rn&&(t.x=1),t.y<on&&t.y>rn&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:u}=t;u?(this.projectionDelta&&this.prevProjectionDelta?(Au(this.prevProjectionDelta.x,this.projectionDelta.x),Au(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),js(this.projectionDelta,this.layoutCorrected,u,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&Ru(this.projectionDelta.x,this.prevProjectionDelta.x)&&Ru(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u)),Rn.value&&Vu.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o=u({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(ul));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var u,l,f,p,m,g;al(i.x,e.x,n),al(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zs(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=a,g=n,sl(f.x,p.x,m.x,g),sl(f.y,p.y,m.y,g),h&&(u=this.relativeTarget,l=h,Nu(u.x,l.x)&&Nu(u.y,l.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Tu(h,this.relativeTarget)),s&&(this.animationValues=o,function(e,t,n,r,o,i){var a,s;if(o)e.opacity=Xt(0,null!==(a=n.opacity)&&void 0!==a?a:1,xu(r)),e.opacityExit=Xt(null!==(s=t.opacity)&&void 0!==s?s:1,0,Du(r));else if(i){var u,l;e.opacity=Xt(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(l=n.opacity)&&void 0!==l?l:1,r)}for(let c=0;c<bu;c++){const o="border".concat(yu[c],"Radius");let i=wu(t,o),a=wu(n,o);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||_u(i)===_u(a)?(e[o]=Math.max(Xt(vu(i),vu(a),r),0),(yn.test(a)||yn.test(i))&&(e[o]+="%")):e[o]=a)}(t.rotate||n.rotate)&&(e.rotate=Xt(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(Un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vn.update(()=>{uu.hasAnimatedSinceResize=!0,Oi.layout++,this.motionValue||(this.motionValue=zr(0)),this.currentAnimation=function(e,t,n){const r=Cr(e)?e:zr(e);return r.start(ss("",r,t,n)),r.animation}(this.motionValue,[0,1e3],u(u({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Oi.layout--},onComplete:()=>{Oi.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&fl(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ns(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Ns(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Tu(t,n),un(t,o),js(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new zu);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Hu("z",e,r,this.animationValues);for(let o=0;o<Uu.length;o++)Hu("rotate".concat(Uu[o]),e,r,this.animationValues),Hu("skew".concat(Uu[o]),e,r,this.animationValues);e.render();for(const o in r)e.setStaticValue(o,r[o]),this.animationValues&&(this.animationValues[o]=r[o]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=ti(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=ti(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!$t(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const o=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((o||i||a)&&(r="translate3d(".concat(o,"px, ").concat(i,"px, ").concat(a,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:i,skewX:a,skewY:s}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),o&&(r+="rotateX(".concat(o,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),a&&(r+="skewX(".concat(a,"deg) ")),s&&(r+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,u=e.y.scale*t.y;return 1===s&&1===u||(r+="scale(".concat(s,", ").concat(u,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o);n&&(i=n(o,i)),e.transform=i;const{x:a,y:s}=this.projectionDelta;var u,l;(e.transformOrigin="".concat(100*a.origin,"% ").concat(100*s.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(u=null!==(l=o.opacity)&&void 0!==l?l:this.latestValues.opacity)&&void 0!==u?u:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:e.opacity=r===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in bo){if(void 0===o[c])continue;const{correct:t,applyTo:n,isCSSVariable:a}=bo[c],s="none"===i?o[c]:t(o[c],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=s}else a?this.options.visualElement.renderState.vars[c]=s:e[c]=s}this.options.layoutId&&(e.pointerEvents=r===this?ti(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Zu),this.root.sharedNodes.clear()}}}function Xu(e){e.updateLayout()}function Yu(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;"size"===o?Vs(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],o=Ns(r);r.min=t[e].min,r.max=r.min+o}):fl(o,n.layoutBox,t)&&Vs(r=>{const o=i?n.measuredBox[r]:n.layoutBox[r],a=Ns(t[r]);o.max=o.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};js(a,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?js(s,e.applyTransform(r,!0),n.measuredBox):js(s,t,n.layoutBox);const u=!Mu(a);let l=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};zs(a,n.layoutBox,o.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};zs(s,t,i.layoutBox),ju(a,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:l})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Ku(e){Rn.value&&Vu.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $u(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Qu(e){e.clearSnapshot()}function Zu(e){e.clearMeasurements()}function Ju(e){e.isLayoutDirty=!1}function el(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nl(e){e.resolveTargetDelta()}function rl(e){e.calcProjection()}function ol(e){e.resetSkewAndRotation()}function il(e){e.removeLeadSnapshot()}function al(e,t,n){e.translate=Xt(t.translate,0,n),e.scale=Xt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function sl(e,t,n,r){e.min=Xt(t.min,n.min,r),e.max=Xt(t.max,n.max,r)}function ul(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ll={duration:.45,ease:[.4,0,.1,1]},cl=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dl=cl("applewebkit/")&&!cl("chrome/")?Math.round:Ln;function hl(e){e.min=dl(e.min),e.max=dl(e.max)}function fl(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Bu(t),o=Bu(n),i=.2,!(Math.abs(r-o)<=i));var r,o,i}function pl(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const ml=qu({attachResizeListener:(e,t)=>Os(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gl={current:void 0},yl=qu({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gl.current){const e=new ml({});e.mount(window),e.setOptions({layoutScroll:!0}),gl.current=e}return gl.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),bl={pan:{Feature:class extends Es{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new Ws(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Us(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:au(e),onStart:au(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Vn.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Ms(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Es{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new ou(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:yl,MeasureLayout:du}};function vl(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let o=document;t&&(o=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:o.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,u(u({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function _l(e){return!("touch"===e.pointerType||ks())}function wl(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const o=r["onHover"+n];o&&Vn.postRender(()=>o(t,Is(t)))}function xl(e){return hu(e)&&"offsetHeight"in e}const Dl=(e,t)=>!!t&&(e===t||Dl(e,t.parentElement)),El=new WeakSet;function Sl(e){return t=>{"Enter"===t.key&&e(t)}}function Tl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Al(e){return Ps(e)&&!ks()}function kl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=vl(e,n),a=e=>{const r=e.currentTarget;if(!Al(e))return;El.add(r);const i=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",u),El.has(r)&&El.delete(r),Al(e)&&"function"===typeof i&&i(e,{success:t})},s=e=>{a(e,r===window||r===document||n.useGlobalTarget||Dl(r,e.target))},u=e=>{a(e,!1)};window.addEventListener("pointerup",s,o),window.addEventListener("pointercancel",u,o)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,o),xl(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Sl(()=>{if(El.has(n))return;Tl(n,"down");const e=Sl(()=>{Tl(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>Tl(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,o)),Cs(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function Fl(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const o=r["onTap"+("End"===n?"":n)];o&&Vn.postRender(()=>o(t,Is(t)))}const Cl=["root"],Ol=new WeakMap,Pl=new WeakMap,Il=e=>{const t=Ol.get(e.target);t&&t(e)},Ml=e=>{e.forEach(Il)};function Nl(e,t,n){const o=function(e){let{root:t}=e,n=r(e,Cl);const o=t||document;Pl.has(o)||Pl.set(o,{});const i=Pl.get(o),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(Ml,u({root:t},n))),i[a]}(t);return Ol.set(e,n),o.observe(e),()=>{Ol.delete(e),o.unobserve(e)}}const Ll={some:0,all:1};const jl={inView:{Feature:class extends Es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Ll[r]};return Nl(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Es{mount(){const{current:e}=this.node;e&&(this.unmount=kl(e,(e,t)=>(Fl(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return Fl(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(fv){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ki(Os(this.node.current,"focus",()=>this.onFocus()),Os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Es{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=vl(e,n),a=e=>{if(!_l(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{_l(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,o)};return r.forEach(e=>{e.addEventListener("pointerenter",a,o)}),i}(e,(e,t)=>(wl(this.node,t,"Start"),e=>wl(this.node,e,"End"))))}unmount(){}}}},Bl={layout:{ProjectionNode:yl,MeasureLayout:du}},Rl=yi(u(u(u(u({},Ts),jl),bl),Bl),Mo);function zl(t){let{children:n}=t;const r=(0,e.useRef)(null),[o,i]=(0,e.useState)({x:0,y:0}),{x:a,y:s}=o;return(0,No.jsx)(Rl.div,{style:{position:"relative"},ref:r,onMouseMove:e=>{const{clientX:t,clientY:n}=e,{height:o,width:a,left:s,top:u}=r.current.getBoundingClientRect();i({x:.15*(t-(s+a/2)),y:.15*(n-(u+o/2))})},onMouseLeave:()=>{i({x:0,y:0})},animate:{x:a,y:s},transition:{type:"spring",stiffness:150,damping:15,mass:.1},children:n})}function Vl(t){let{text:n,className:r=""}=t;const[o,i]=(0,e.useState)(n),a=(0,e.useRef)(null),s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=[]{}|;:,.<>?",u=()=>{let e=0;clearInterval(a.current),a.current=setInterval(()=>{i(t=>n.split("").map((t,r)=>r<e?n[r]:s[Math.floor(62*Math.random())]).join("")),e>=n.length&&clearInterval(a.current),e+=1/3},30)};return(0,e.useEffect)(()=>(u(),()=>clearInterval(a.current)),[]),(0,No.jsx)("span",{className:"font-mono cursor-default ".concat(r),onMouseEnter:u,children:o})}function Ul(){const[t,n]=(0,e.useState)("home"),r=[{name:"Home",path:"home"},{name:"Projects",path:"projects"},{name:"About",path:"about"},{name:"Contact",path:"contact"}];return(0,e.useEffect)(()=>{const e=()=>{const e=r.map(e=>document.getElementById(e.path)),t=window.scrollY+100;e.forEach(e=>{e&&e.offsetTop<=t&&e.offsetTop+e.offsetHeight>t&&n(e.id)})};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,No.jsx)("nav",{className:"fixed top-0 left-0 w-full z-50 mix-blend-difference",children:(0,No.jsxs)("div",{className:"max-w-7xl mx-auto px-6 h-28 flex justify-between items-center",children:[(0,No.jsx)(zl,{children:(0,No.jsxs)("a",{href:"#home",className:"group relative block",children:[(0,No.jsx)(Vl,{text:"MD USMAN",className:"text-xl font-black text-white tracking-tighter group-hover:text-cyan-400 transition-colors"}),(0,No.jsx)("span",{className:"text-cyan-400 font-bold",children:"."})]})}),(0,No.jsx)("div",{className:"hidden md:flex items-center gap-2 bg-black/50 backdrop-blur-md border border-white/10 rounded-full px-2 py-2",children:r.map(e=>(0,No.jsx)(zl,{children:(0,No.jsxs)("a",{href:"#".concat(e.path),className:"relative px-5 py-2.5 text-xs font-bold uppercase tracking-widest transition-colors duration-300 rounded-full ".concat(t===e.path?"text-black":"text-slate-400 hover:text-white"),onClick:()=>n(e.path),children:[(0,No.jsx)("span",{className:"relative z-10",children:e.name}),t===e.path&&(0,No.jsx)(Rl.div,{layoutId:"nav-pill",className:"absolute inset-0 bg-white rounded-full z-0",transition:{type:"spring",stiffness:300,damping:30}})]})},e.name))}),(0,No.jsx)("a",{href:"https://Md-usman-05.github.io/AI-Powered-Portfolio/resume.pdf",target:"_blank",rel:"noopener noreferrer",className:"hidden md:block px-6 py-2 border border-white/20 rounded-full text-xs font-bold tracking-widest text-white hover:bg-white hover:text-black transition-all duration-300",children:"DOWNLOAD RESUME"})]})})}function Gl(){return(0,No.jsxs)("footer",{className:"relative w-full bg-[#050505] border-t border-white/5 pt-8 pb-8 overflow-hidden",children:[(0,No.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-3xl h-[1px] bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"}),(0,No.jsxs)("div",{className:"max-w-6xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,No.jsx)("div",{className:"text-center md:text-left",children:(0,No.jsxs)("h2",{className:"text-xl font-black font-space text-white tracking-tighter",children:["MD ",(0,No.jsx)("span",{className:"text-cyan-400",children:"USMAN"})]})}),(0,No.jsxs)("div",{className:"flex items-center gap-6 text-xs font-mono text-slate-600",children:[(0,No.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/5",children:[(0,No.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),(0,No.jsx)("span",{className:"text-emerald-500/80 font-bold tracking-wider",children:"SYSTEM ONLINE"})]}),(0,No.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()]})]})]})]})}function Hl(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Wl(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=Hl(t,e);return n||"function"!==typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():Hl(t[e],null)}}}}(...n),n)}class ql extends e.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=xl(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Xl(t){var n,r;let{children:o,isPresent:i,anchorX:a,root:s}=t;const u=(0,e.useId)(),l=(0,e.useRef)(null),c=(0,e.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,e.useContext)(Bo),h=null!==(n=null===(r=o.props)||void 0===r?void 0:r.ref)&&void 0!==n?n:null===o||void 0===o?void 0:o.ref,f=Wl(l,h);return(0,e.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:r,right:o}=c.current;if(i||!l.current||!e||!t)return;const h="left"===a?"left: ".concat(r):"right: ".concat(o);l.current.dataset.motionPopId=u;const f=document.createElement("style");d&&(f.nonce=d);const p=null!==s&&void 0!==s?s:document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule('\n          [data-motion-pop-id="'.concat(u,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(h,"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{p.contains(f)&&p.removeChild(f)}},[i]),(0,No.jsx)(ql,{isPresent:i,childRef:l,sizeRef:c,children:e.cloneElement(o,{ref:f})})}const Yl=t=>{let{children:n,initial:r,isPresent:o,onExitComplete:i,custom:a,presenceAffectsLayout:s,mode:l,anchorX:c,root:d}=t;const h=ei(Kl),f=(0,e.useId)();let p=!0,m=(0,e.useMemo)(()=>(p=!1,{id:f,initial:r,isPresent:o,custom:a,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;i&&i()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[o,h,i]);return s&&p&&(m=u({},m)),(0,e.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[o]),e.useEffect(()=>{!o&&!h.size&&i&&i()},[o]),"popLayout"===l&&(n=(0,No.jsx)(Xl,{isPresent:o,anchorX:c,root:d,children:n})),(0,No.jsx)(Jo.Provider,{value:m,children:n})};function Kl(){return new Map}const $l=e=>e.key||"";function Ql(t){const n=[];return e.Children.forEach(t,t=>{(0,e.isValidElement)(t)&&n.push(t)}),n}const Zl=t=>{let{children:n,custom:r,initial:o=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:s="sync",propagate:u=!1,anchorX:l="left",root:c}=t;const[d,h]=su(u),f=(0,e.useMemo)(()=>Ql(n),[n]),p=u&&!d?[]:f.map($l),m=(0,e.useRef)(!0),g=(0,e.useRef)(f),y=ei(()=>new Map),b=(0,e.useRef)(new Set),[v,_]=(0,e.useState)(f),[w,x]=(0,e.useState)(f);hi(()=>{m.current=!1,g.current=f;for(let e=0;e<w.length;e++){const t=$l(w[e]);p.includes(t)?(y.delete(t),b.current.delete(t)):!0!==y.get(t)&&y.set(t,!1)}},[w,p.length,p.join("-")]);const D=[];if(f!==v){let e=[...f];for(let t=0;t<w.length;t++){const n=w[t],r=$l(n);p.includes(r)||(e.splice(t,0,n),D.push(n))}return"wait"===s&&D.length&&(e=D),x(Ql(e)),_(f),null}const{forceRender:E}=(0,e.useContext)(Lo);return(0,No.jsx)(No.Fragment,{children:w.map(e=>{const t=$l(e),n=!(u&&!d)&&(f===w||p.includes(t));return(0,No.jsx)(Yl,{isPresent:n,initial:!(m.current&&!o)&&void 0,custom:r,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:n?void 0:()=>{if(b.current.has(t))return;if(b.current.add(t),!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null===E||void 0===E||E(),x(g.current),u&&(null===h||void 0===h||h()),i&&i())},anchorX:l,children:e},t)})})};var Jl={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ec=e.createContext&&e.createContext(Jl),tc=["attr","size","title"];function nc(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rc.apply(this,arguments)}function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ac(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sc(t){return t&&t.map((t,n)=>e.createElement(t.tag,ic({key:n},t.attr),sc(t.child)))}function uc(t){return n=>e.createElement(lc,rc({attr:ic({},t.attr)},n),sc(t.child))}function lc(t){var n=n=>{var r,{attr:o,size:i,title:a}=t,s=nc(t,tc),u=i||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",rc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:r,style:ic(ic({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==ec?e.createElement(ec.Consumer,null,e=>n(e)):n(Jl)}function cc(e){return uc({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function dc(e){return uc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function hc(e){return uc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function fc(e){return uc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function pc(e){return uc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(e)}function mc(e){return uc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function gc(e){return uc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"},child:[]}]})(e)}function yc(e){return uc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function bc(e){return uc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function vc(e){return uc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function _c(e){return uc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function wc(e){return uc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function xc(e){return uc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function Dc(e){return uc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ec(e){return uc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function Sc(e){return uc({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Tc(e){return uc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(e)}function Ac(e){return uc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function kc(e,t){e&&e(t)}function Fc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Cc=class{constructor(){let e=function(){return e._call(...arguments)};return Object.setPrototypeOf(e,new.target.prototype)}_call(){throw Error("Must implement _call method in subclass")}};function Oc(e){return Number.isInteger(e)||"bigint"===typeof e}function Pc(e){const t=[];let n=e;for(;Array.isArray(n);)t.push(n.length),n=n[0];return t}function Ic(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r=e[t];if(void 0!==r)return delete e[t],r;if(void 0===n)throw Error("Key ".concat(t," does not exist in object."));return n}function Mc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply([],t)}function Nc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>e.flatMap(e=>t.map(t=>[e,t])))}function Lc(e,t){return Math.abs((e+t)%(2*t)-t)}var jc,Bc=__webpack_require__(143),Rc=__webpack_require__(603),zc=__webpack_require__(9),Vc=__webpack_require__(837),Uc=__webpack_require__(499),Gc=__webpack_require__(52),Hc=__webpack_require__.t(Gc,2),Wc=__webpack_require__(373),qc=__webpack_require__.t(Wc,2);let Xc;const Yc=["wasm"];if("undefined"!==typeof process&&"node"===(null===(jc=process)||void 0===jc||null===(jc=jc.release)||void 0===jc?void 0:jc.name)){var Kc;Xc=null!==(Kc=Gc)&&void 0!==Kc?Kc:Hc,Yc.unshift("cpu")}else{var $c;Xc=null!==($c=Wc)&&void 0!==$c?$c:qc;"undefined"!==typeof navigator&&/iP(hone|od|ad).+16_4.+AppleWebKit/.test(navigator.userAgent)&&(Xc.env.wasm.simd=!1)}const{env:Qc}=Xc,Zc="2.17.2",Jc="undefined"!==typeof self&&"caches"in self,ed=!ud(zc),td=!ud(Vc),nd=ed&&td,rd=nd?Vc.dirname(Vc.dirname(Uc.fileURLToPath("file:///C:/Users/zuber/my-pf/node_modules/@xenova/transformers/src/env.js"))):"./",od=nd?Vc.join(rd,"/.cache/"):null,id="/models/",ad=nd?Vc.join(rd,id):id;null!==Qc&&void 0!==Qc&&Qc.wasm&&(Qc.wasm.wasmPaths=nd?Vc.join(rd,"/dist/"):"https://cdn.jsdelivr.net/npm/@xenova/transformers@".concat(Zc,"/dist/"));const sd={backends:{onnx:Qc,tfjs:{}},__dirname:rd,version:Zc,allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!0,localModelPath:ad,useFS:ed,useBrowserCache:Jc,useFSCache:ed,cacheDir:od,useCustomCache:!1,customCache:null};function ud(e){return 0===Object.keys(e).length}class ld{constructor(e){if(a(this,"_CONTENT_TYPE_MAP",{txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"}),this.filePath=e,this.headers=new Headers,this.exists=Bc.existsSync(e),this.exists){this.status=200,this.statusText="OK";let t=Bc.statSync(e);this.headers.set("content-length",t.size.toString()),this.updateContentType();let n=this;this.body=new ReadableStream({start(e){n.arrayBuffer().then(t=>{e.enqueue(new Uint8Array(t)),e.close()})}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){var e;const t=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",null!==(e=this._CONTENT_TYPE_MAP[t])&&void 0!==e?e:"application/octet-stream")}clone(){let e=new ld(this.filePath);return e.exists=this.exists,e.status=this.status,e.statusText=this.statusText,e.headers=new Headers(this.headers),e}async arrayBuffer(){return(await Bc.promises.readFile(this.filePath)).buffer}async blob(){const e=await Bc.promises.readFile(this.filePath);return new Blob([e],{type:this.headers.get("content-type")})}async text(){return await Bc.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function cd(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{t=new URL(e)}catch(o){return!1}return!(n&&!n.includes(t.protocol))&&!(r&&!r.includes(t.hostname))}async function dd(e){var t;if(sd.useFS&&!cd(e,["http:","https:","blob:"]))return new ld(e);if("undefined"!==typeof process&&"node"===(null===(t=process)||void 0===t||null===(t=t.release)||void 0===t?void 0:t.name)){var n;const t=!(null===(n={NODE_ENV:"production",PUBLIC_URL:"/AI-Powered-Portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===n||!n.TESTING_REMOTELY),a=sd.version,s=new Headers;s.set("User-Agent","transformers.js/".concat(a,"; is_ci/").concat(t,";"));if(cd(e,["http:","https:"],["huggingface.co","hf.co"])){var r,o,i;const e=null!==(r=null===(o={NODE_ENV:"production",PUBLIC_URL:"/AI-Powered-Portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===o?void 0:o.HF_TOKEN)&&void 0!==r?r:null===(i={NODE_ENV:"production",PUBLIC_URL:"/AI-Powered-Portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===i?void 0:i.HF_ACCESS_TOKEN;e&&s.set("Authorization","Bearer ".concat(e))}return fetch(e,{headers:s})}return fetch(e)}const hd={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};class fd{constructor(e){this.path=e}async match(e){let t=Rc.join(this.path,e),n=new ld(t);return n.exists?n:void 0}async put(e,t){const n=Buffer.from(await t.arrayBuffer());let r=Rc.join(this.path,e);try{await Bc.promises.mkdir(Rc.dirname(r),{recursive:!0}),await Bc.promises.writeFile(r,n)}catch(o){console.warn("An error occurred while writing the file to cache:",o)}}}async function pd(e,t){var n;let r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!sd.allowLocalModels){if(i.local_files_only)throw Error("Invalid configuration detected: local models are disabled (`env.allowLocalModels=false`) but you have requested to only use local models (`local_files_only=true`).");if(!sd.allowRemoteModels)throw Error("Invalid configuration detected: both local and remote models are disabled. Fix by setting `env.allowLocalModels` or `env.allowRemoteModels` to `true`.")}if(kc(i.progress_callback,{status:"initiate",name:e,file:t}),!r&&sd.useBrowserCache){if("undefined"===typeof caches)throw Error("Browser cache is not available in this environment.");try{r=await caches.open("transformers-cache")}catch(fv){console.warn("An error occurred while opening the browser cache:",fv)}}var a;!r&&sd.useFSCache&&(r=new fd(null!==(a=i.cache_dir)&&void 0!==a?a:sd.cacheDir));if(!r&&sd.useCustomCache){if(!sd.customCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");if(!sd.customCache.match||!sd.customCache.put)throw new Error("`env.customCache` must be an object which implements the `match` and `put` functions of the Web Cache API. For more information, see https://developer.mozilla.org/en-US/docs/Web/API/Cache");r=sd.customCache}const s=null!==(n=i.revision)&&void 0!==n?n:"main";let l,c,d=gd(e,t),h=gd(sd.localModelPath,d),f=gd(sd.remoteHost,sd.remotePathTemplate.replaceAll("{model}",e).replaceAll("{revision}",encodeURIComponent(s)),t),p="main"===s?d:gd(e,s,t),m=r instanceof fd?p:f,g=!1;r&&(c=await async function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let o of n)try{let t=await e.match(o);if(t)return t}catch(fv){continue}}(r,h,m));const y=void 0!==c;if(void 0===c){if(sd.allowLocalModels){if(cd(d,["http:","https:"])){if(i.local_files_only)throw new Error("`local_files_only=true`, but attempted to load a remote file from: ".concat(d,"."));if(!sd.allowRemoteModels)throw new Error("`env.allowRemoteModels=false`, but attempted to load a remote file from: ".concat(d,"."))}else try{c=await dd(h),l=h}catch(fv){console.warn('Unable to load from local path "'.concat(h,'": "').concat(fv,'"'))}}if(void 0===c||404===c.status){if(i.local_files_only||!sd.allowRemoteModels){if(o)throw Error('`local_files_only=true` or `env.allowRemoteModels=false` and file was not found locally at "'.concat(h,'".'));return null}if(c=await dd(f),200!==c.status)return function(e,t,n){var r;if(!n)return null;const o=null!==(r=hd[e])&&void 0!==r?r:"Error (".concat(e,") occurred while trying to load file");throw Error("".concat(o,': "').concat(t,'".'))}(c.status,f,o);l=m}g=r&&"undefined"!==typeof Response&&c instanceof Response&&200===c.status}kc(i.progress_callback,{status:"download",name:e,file:t});const b={status:"progress",name:e,file:t};let v;return i.progress_callback?y&&"undefined"!==typeof navigator&&/firefox/i.test(navigator.userAgent)?(v=new Uint8Array(await c.arrayBuffer()),kc(i.progress_callback,u(u({},b),{},{progress:100,loaded:v.length,total:v.length}))):v=await async function(e,t){const n=e.headers.get("Content-Length");null===n&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let r=parseInt(null!==n&&void 0!==n?n:"0"),o=new Uint8Array(r),i=0;const a=e.body.getReader();async function s(){const{done:e,value:n}=await a.read();if(e)return;let u=i+n.length;if(u>r){r=u;let e=new Uint8Array(r);e.set(o),o=e}o.set(n,i),i=u;return t({progress:i/r*100,loaded:i,total:r}),s()}return await s(),o}(c,e=>{kc(i.progress_callback,u(u({},b),e))}):v=new Uint8Array(await c.arrayBuffer()),g&&l&&void 0===await r.match(l)&&await r.put(l,new Response(v,{headers:c.headers})).catch(e=>{console.warn("Unable to add response to browser cache: ".concat(e,"."))}),kc(i.progress_callback,{status:"done",name:e,file:t}),v}async function md(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=await pd(e,t,n,r);if(null===o)return{};let i=new TextDecoder("utf-8").decode(o);return JSON.parse(i)}function gd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(t=t.map((e,n)=>(n&&(e=e.replace(new RegExp("^/"),"")),n!==t.length-1&&(e=e.replace(new RegExp("/$"),"")),e))).join("/")}function yd(e){const t=_d(e)[0],n=e.map(e=>Math.exp(e-t)),r=n.reduce((e,t)=>e+t,0);return n.map(e=>e/r)}function bd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e=Array.from(e).map((e,t)=>[t,e]).sort((e,t)=>t[1]-e[1]),null!==t&&t>0&&(e=e.slice(0,t)),e}function vd(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let r=1;r<e.length;++r)e[r]<t&&(t=e[r],n=r);return[t,n]}function _d(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let r=1;r<e.length;++r)e[r]>t&&(t=e[r],n=r);return[Number(t),n]}function wd(e){return e>0&&0===(e&e-1)}class xd{constructor(e){if(this.size=0|e,this.size<=1||!wd(this.size))throw new Error("FFT size must be a power of two larger than 1");this._csize=e<<1,this.table=new Float64Array(2*this.size);for(let n=0;n<this.table.length;n+=2){const e=Math.PI*n/this.size;this.table[n]=Math.cos(e),this.table[n+1]=-Math.sin(e)}let t=0;for(let n=1;this.size>n;n<<=1)++t;this._width=t%2===0?t-1:t,this._bitrev=new Int32Array(1<<this._width);for(let n=0;n<this._bitrev.length;++n){this._bitrev[n]=0;for(let e=0;e<this._width;e+=2){const t=this._width-e-2;this._bitrev[n]|=(n>>>e&3)<<t}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(e,t){const n=t||new Array(e.length>>>1);for(let r=0;r<e.length;r+=2)n[r>>>1]=e[r];return n}toComplexArray(e,t){const n=t||this.createComplexArray();for(let r=0;r<n.length;r+=2)n[r]=e[r>>>1],n[r+1]=0;return n}transform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,1)}realTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._realTransform4(e,t,1)}inverseTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,-1);for(let n=0;n<e.length;++n)e[n]/=this.size}_transform4(e,t,n){const r=this._csize;let o,i,a=1<<this._width,s=r/a<<1;const u=this._bitrev;if(4===s)for(o=0,i=0;o<r;o+=s,++i){const n=u[i];this._singleTransform2(t,e,o,n,a)}else for(o=0,i=0;o<r;o+=s,++i){const r=u[i];this._singleTransform4(t,e,o,r,a,n)}const l=this.table;for(a>>=2;a>=2;a>>=2){s=r/a<<1;const t=s>>>2;for(o=0;o<r;o+=s){const r=o+t-1;for(let i=o,s=0;i<r;i+=2,s+=a){const r=i,o=r+t,a=o+t,u=a+t,c=e[r],d=e[r+1],h=e[o],f=e[o+1],p=e[a],m=e[a+1],g=e[u],y=e[u+1],b=l[s],v=n*l[s+1],_=h*b-f*v,w=h*v+f*b,x=l[2*s],D=n*l[2*s+1],E=p*x-m*D,S=p*D+m*x,T=l[3*s],A=n*l[3*s+1],k=g*T-y*A,F=g*A+y*T,C=c+E,O=d+S,P=c-E,I=d-S,M=_+k,N=w+F,L=n*(_-k),j=n*(w-F);e[r]=C+M,e[r+1]=O+N,e[o]=P+j,e[o+1]=I-L,e[a]=C-M,e[a+1]=O-N,e[u]=P-j,e[u+1]=I+L}}}}_singleTransform2(e,t,n,r,o){const i=e[r],a=e[r+1],s=e[r+o],u=e[r+o+1];t[n]=i+s,t[n+1]=a+u,t[n+2]=i-s,t[n+3]=a-u}_singleTransform4(e,t,n,r,o,i){const a=2*o,s=3*o,u=e[r],l=e[r+1],c=e[r+o],d=e[r+o+1],h=e[r+a],f=e[r+a+1],p=e[r+s],m=e[r+s+1],g=u+h,y=l+f,b=u-h,v=l-f,_=c+p,w=d+m,x=i*(c-p),D=i*(d-m);t[n]=g+_,t[n+1]=y+w,t[n+2]=b+D,t[n+3]=v-x,t[n+4]=g-_,t[n+5]=y-w,t[n+6]=b-D,t[n+7]=v+x}_realTransform4(e,t,n){const r=this._csize;let o,i,a=1<<this._width,s=r/a<<1;const u=this._bitrev;if(4===s)for(o=0,i=0;o<r;o+=s,++i){const n=u[i];this._singleRealTransform2(t,e,o,n>>>1,a>>>1)}else for(o=0,i=0;o<r;o+=s,++i){const r=u[i];this._singleRealTransform4(t,e,o,r>>>1,a>>>1,n)}const l=this.table;for(a>>=2;a>=2;a>>=2){s=r/a<<1;const t=s>>>1,i=t>>>1,u=i>>>1;for(o=0;o<r;o+=s)for(let r=0,s=0;r<=u;r+=2,s+=a){const a=o+r,c=a+i,d=c+i,h=d+i,f=e[a],p=e[a+1],m=e[c],g=e[c+1],y=e[d],b=e[d+1],v=e[h],_=e[h+1],w=f,x=p,D=l[s],E=n*l[s+1],S=m*D-g*E,T=m*E+g*D,A=l[2*s],k=n*l[2*s+1],F=y*A-b*k,C=y*k+b*A,O=l[3*s],P=n*l[3*s+1],I=v*O-_*P,M=v*P+_*O,N=w+F,L=x+C,j=w-F,B=x-C,R=S+I,z=T+M,V=n*(S-I),U=n*(T-M);if(e[a]=N+R,e[a+1]=L+z,e[c]=j+U,e[c+1]=B-V,0===r){e[d]=N-R,e[d+1]=L-z;continue}if(r===u)continue;const G=o+i-r,H=o+t-r;e[G]=j-n*U,e[G+1]=-B-n*V,e[H]=N-n*R,e[H+1]=n*z-L}}const c=r>>>1;for(let d=2;d<c;d+=2)e[r-d]=e[d],e[r-d+1]=-e[d+1]}_singleRealTransform2(e,t,n,r,o){const i=e[r],a=e[r+o];t[n]=i+a,t[n+1]=0,t[n+2]=i-a,t[n+3]=0}_singleRealTransform4(e,t,n,r,o,i){const a=2*o,s=3*o,u=e[r],l=e[r+o],c=e[r+a],d=e[r+s],h=u+c,f=u-c,p=l+d,m=i*(l-d);t[n]=h+p,t[n+1]=0,t[n+2]=f,t[n+3]=-m,t[n+4]=h-p,t[n+5]=0,t[n+6]=f,t[n+7]=m}}class Dd{constructor(e){const t=2*(e-1),n=2*(2*e-1),r=2**Math.ceil(Math.log2(n));this.bufferSize=r,this._a=t;const o=new Float64Array(n),i=new Float64Array(r);this._chirpBuffer=new Float64Array(r),this._buffer1=new Float64Array(r),this._buffer2=new Float64Array(r),this._outBuffer1=new Float64Array(r),this._outBuffer2=new Float64Array(r);const a=-2*Math.PI/e,s=Math.cos(a),u=Math.sin(a);for(let l=0;l<n>>1;++l){const t=(l+1-e)**2/2,n=Math.sqrt(s**2+u**2)**t,r=t*Math.atan2(u,s),a=2*l;o[a]=n*Math.cos(r),o[a+1]=n*Math.sin(r),i[a]=o[a],i[a+1]=-o[a+1]}this._slicedChirpBuffer=o.subarray(t,n),this._f=new xd(r>>1),this._f.transform(this._chirpBuffer,i)}_transform(e,t,n){const r=this._buffer1,o=this._buffer2,i=this._outBuffer1,a=this._outBuffer2,s=this._chirpBuffer,u=this._slicedChirpBuffer,l=this._a;if(n)for(let c=0;c<u.length;c+=2){const e=c+1,n=t[c>>1];r[c]=n*u[c],r[e]=n*u[e]}else for(let c=0;c<u.length;c+=2){const e=c+1;r[c]=t[c]*u[c]-t[e]*u[e],r[e]=t[c]*u[e]+t[e]*u[c]}this._f.transform(i,r);for(let c=0;c<s.length;c+=2){const e=c+1;o[c]=i[c]*s[c]-i[e]*s[e],o[e]=i[c]*s[e]+i[e]*s[c]}this._f.inverseTransform(a,o);for(let c=0;c<a.length;c+=2){const t=a[c+l],n=a[c+l+1],r=u[c],o=u[c+1];e[c]=t*r-n*o,e[c+1]=t*o+n*r}}transform(e,t){this._transform(e,t,!1)}realTransform(e,t){this._transform(e,t,!0)}}class Ed{constructor(e){this.fft_length=e,this.isPowerOfTwo=wd(e),this.isPowerOfTwo?(this.fft=new xd(e),this.outputBufferSize=2*e):(this.fft=new Dd(e),this.outputBufferSize=this.fft.bufferSize)}realTransform(e,t){this.fft.realTransform(e,t)}transform(e,t){this.fft.transform(e,t)}}function Sd(e,t){if(t%2===0||t<=0)throw new Error("Window size must be a positive odd number");const n=new e.constructor(e.length),r=new e.constructor(t),o=Math.floor(t/2);for(let i=0;i<e.length;++i){let t=0;for(let n=-o;n<=o;++n){let o=i+n;o<0?o=Math.abs(o):o>=e.length&&(o=2*(e.length-1)-o),r[t++]=e[o]}r.sort(),n[i]=r[o]}return n}function Td(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const Ad=Object.freeze({float32:Float32Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array}),kd=Xc.Tensor;class Fd{constructor(){return a(this,"dims",void 0),a(this,"type",void 0),a(this,"data",void 0),a(this,"size",void 0),(arguments.length<=0?void 0:arguments[0])instanceof kd?Object.assign(this,arguments.length<=0?void 0:arguments[0]):Object.assign(this,new kd(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])),new Proxy(this,{get:(e,t)=>{if("string"===typeof t){let n=Number(t);if(Number.isInteger(n))return e._getitem(n)}return e[t]},set:(e,t,n)=>e[t]=n})}*[Symbol.iterator](){const[e,...t]=this.dims;if(t.length>0){const n=t.reduce((e,t)=>e*t);for(let r=0;r<e;++r)yield this._subarray(r,n,t)}else yield*this.data}_getitem(e){const[t,...n]=this.dims;if(e=Id(e,t),n.length>0){const t=n.reduce((e,t)=>e*t);return this._subarray(e,t,n)}return new Fd(this.type,[this.data[e]],n)}indexOf(e){for(let t=0;t<this.data.length;++t)if(this.data[t]==e)return t;return-1}_subarray(e,t,n){const r=e*t,o=(e+1)*t,i="subarray"in this.data?this.data.subarray(r,o):this.data.slice(r,o);return new Fd(this.type,i,n)}item(){if(1!==this.data.length)throw new Error("a Tensor with ".concat(this.data.length," elements cannot be converted to Scalar"));return this.data[0]}tolist(){return function(e,t){const n=e.length,r=t.reduce((e,t)=>e*t);if(n!==r)throw Error("cannot reshape array of size ".concat(n," into shape (").concat(t,")"));let o=e;for(let i=t.length-1;i>=0;i--)o=o.reduce((e,n)=>{let r=e[e.length-1];return r.length<t[i]?r.push(n):e.push([n]),e},[[]]);return o[0]}(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){for(let e=0;e<this.data.length;++e)this.data[e]=1/(1+Math.exp(-this.data[e]));return this}mul(e){return this.clone().mul_(e)}mul_(e){for(let t=0;t<this.data.length;++t)this.data[t]*=e;return this}add(e){return this.clone().add_(e)}add_(e){for(let t=0;t<this.data.length;++t)this.data[t]+=e;return this}clone(){return new Fd(this.type,this.data.slice(),this.dims.slice())}slice(){let e=[],t=[];for(let a=0;a<this.dims.length;++a){let n=a<0||arguments.length<=a?void 0:arguments[a];if(null===n||void 0===n)t.push([0,this.dims[a]]),e.push(this.dims[a]);else if("number"===typeof n)n=Id(n,this.dims[a],a),t.push([n,n+1]);else{if(!Array.isArray(n)||2!==n.length)throw new Error("Invalid slice: ".concat(n));{if(n[0]>n[1])throw new Error("Invalid slice: ".concat(n));let r=[Math.max(n[0],0),Math.min(n[1],this.dims[a])];t.push(r),e.push(r[1]-r[0])}}}let n=t.map(e=>{let[t,n]=e;return n-t}),r=n.reduce((e,t)=>e*t),o=new this.data.constructor(r);const i=this.stride();for(let a=0;a<r;++a){let e=0;for(let r=n.length-1,o=a;r>=0;--r){const a=n[r];e+=(o%a+t[r][0])*i[r],o=Math.floor(o/a)}o[a]=this.data[e]}return new Fd(this.type,o,e)}permute(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t){const[n,r]=function(e,t,n){const r=new Array(n.length),o=new Array(n.length);for(let s=n.length-1,u=1;s>=0;--s)o[s]=u,r[s]=t[n[s]],u*=r[s];const i=n.map((e,t)=>o[n.indexOf(t)]),a=new e.constructor(e.length);for(let s=0;s<e.length;++s){let n=0;for(let e=t.length-1,r=s;e>=0;--e)n+=r%t[e]*i[e],r=Math.floor(r/t[e]);a[n]=e[s]}return[a,r]}(e.data,e.dims,t);return new Fd(e.type,n,r)}(this,t)}transpose(){return this.permute(...arguments)}sum(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.norm(1,e,t)}norm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fro",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("fro"===e)e=2;else if("string"===typeof e)throw Error("Unsupported norm: ".concat(e));if(null===t){let t=this.data.reduce((t,n)=>t+n**e,0)**(1/e);return new Fd(this.type,[t],[])}t=Id(t,this.dims.length);const r=this.dims.slice();r[t]=1;const o=new this.data.constructor(this.data.length/this.dims[t]);for(let i=0;i<this.data.length;++i){let n=0;for(let e=this.dims.length-1,o=i,a=1;e>=0;--e){const i=this.dims[e];if(e!==t){n+=o%i*a,a*=r[e]}o=Math.floor(o/i)}o[n]+=this.data[i]**e}if(1!==e)for(let i=0;i<o.length;++i)o[i]=o[i]**(1/e);return n||r.splice(t,1),new Fd(this.type,o,r)}normalize_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=Id(t,this.dims.length);const n=this.norm(e,t,!0);for(let r=0;r<this.data.length;++r){let e=0;for(let n=this.dims.length-1,o=r,i=1;n>=0;--n){const r=this.dims[n];if(n!==t){e+=o%r*i,i*=this.dims[n]}o=Math.floor(o/r)}this.data[r]/=n.data[e]}return this}normalize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.clone().normalize_(e,t)}stride(){return function(e){const t=new Array(e.length);for(let n=e.length-1,r=1;n>=0;--n)t[n]=r,r*=e[n];return t}(this.dims)}squeeze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Fd(this.type,this.data,Od(this.dims,e))}squeeze_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.dims=Od(this.dims,e),this}unsqueeze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Fd(this.type,this.data,Pd(this.dims,e))}unsqueeze_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.dims=Pd(this.dims,e),this}flatten_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t=(t+this.dims.length)%this.dims.length;let n=this.dims.slice(0,e),r=this.dims.slice(e,t+1),o=this.dims.slice(t+1);return this.dims=[...n,r.reduce((e,t)=>e*t,1),...o],this}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.clone().flatten_(e,t)}view(){let e=-1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(let o=0;o<n.length;++o)if(-1===n[o]){if(-1!==e)throw new Error("Only one dimension can be inferred");e=o}if(-1!==e){const t=n.reduce((t,n,r)=>r!==e?t*n:t,1);n[e]=this.data.length/t}return new Fd(this.type,this.data,n)}neg_(){for(let e=0;e<this.data.length;++e)this.data[e]=-this.data[e];return this}neg(){return this.clone().neg_()}clamp_(e,t){for(let n=0;n<this.data.length;++n)this.data[n]=Math.min(Math.max(this.data[n],e),t);return this}clamp(e,t){return this.clone().clamp_(e,t)}round_(){for(let e=0;e<this.data.length;++e)this.data[e]=Math.round(this.data[e]);return this}round(){return this.clone().round_()}to(e){if(this.type===e)return this;if(!Ad.hasOwnProperty(e))throw new Error("Unsupported type: ".concat(e));return new Fd(e,Ad[e].from(this.data),this.dims)}}function Cd(e,t){var n;let[r,o]=t;const i=null!==(n=e.dims.at(-3))&&void 0!==n?n:1,a=e.dims.at(-2),s=e.dims.at(-1);let u=function(e,t,n){let[r,o,i]=t,[a,s]=n;const u=s/i,l=a/o,c=new e.constructor(a*s*r),d=o*i,h=a*s;for(let f=0;f<a;++f)for(let t=0;t<s;++t){const n=f*s+t,a=(t+.5)/u-.5,p=(f+.5)/l-.5;let m=Math.floor(a),g=Math.floor(p);const y=Math.min(m+1,i-1),b=Math.min(g+1,o-1);m=Math.max(m,0),g=Math.max(g,0);const v=a-m,_=p-g,w=(1-v)*(1-_),x=v*(1-_),D=(1-v)*_,E=v*_,S=g*i,T=b*i,A=S+m,k=S+y,F=T+m,C=T+y;for(let t=0;t<r;++t){const r=t*d;c[t*h+n]=w*e[r+A]+x*e[r+k]+D*e[r+F]+E*e[r+C]}}return c}(e.data,[i,a,s],[r,o]);return new Fd(e.type,u,[i,r,o])}function Od(e,t){return e=e.slice(),null===t?e=e.filter(e=>1!==e):"number"===typeof t?1===e[t]&&e.splice(t,1):Array.isArray(t)&&(e=e.filter((e,n)=>1!==e||!t.includes(n))),e}function Pd(e,t){return t=Id(t,e.length+1),(e=e.slice()).splice(t,0,1),e}function Id(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e<-t||e>=t)throw new Error("IndexError: index ".concat(e," is out of bounds for dimension").concat(null===n?"":" "+n," with size ").concat(t));return e<0&&(e=(e%t+t)%t),e}function Md(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Id(t,e[0].dims.length);const n=e[0].dims.slice();n[t]=e.reduce((e,n)=>e+n.dims[t],0);const r=n.reduce((e,t)=>e*t,1),o=new e[0].data.constructor(r),i=e[0].type;if(0===t){let t=0;for(let n of e)o.set(n.data,t),t+=n.data.length}else{let r=0;for(let i=0;i<e.length;++i){let a=e[i];for(let e=0;e<a.data.length;++e){let i=0;for(let o=a.dims.length-1,s=e,u=1;o>=0;--o){const e=a.dims[o];let l=s%e;o===t&&(l+=r),i+=l*u,u*=n[o],s=Math.floor(s/e)}o[i]=a.data[e]}r+=a.dims[t]}}return new Fd(i,o,n)}function Nd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Md(e.map(e=>e.unsqueeze(t)),t)}function Ld(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===t){const t=e.data.reduce((e,t)=>e+t,0)/e.data.length,r=Math.sqrt(e.data.reduce((e,n)=>e+(n-t)**2,0)/(e.data.length-n)),o=new Fd(e.type,[t],[]);return[new Fd(e.type,[r],[]),o]}t=Id(t,e.dims.length);const o=jd(e,t,r),i=e.dims.slice();i[t]=1;const a=new e.data.constructor(e.data.length/e.dims[t]);for(let s=0;s<e.data.length;++s){let n=0;for(let r=e.dims.length-1,o=s,a=1;r>=0;--r){const s=e.dims[r];if(r!==t){n+=o%s*a,a*=i[r]}o=Math.floor(o/s)}a[n]+=(e.data[s]-o.data[n])**2}for(let s=0;s<a.length;++s)a[s]=Math.sqrt(a[s]/(e.dims[t]-n));r||i.splice(t,1);return[new Fd(e.type,a,i),o]}function jd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===t){let t=e.data.reduce((e,t)=>e+t,0);return new Fd(e.type,[t/e.data.length],[])}t=Id(t,e.dims.length);const r=e.dims.slice();r[t]=1;const o=new e.data.constructor(e.data.length/e.dims[t]);for(let i=0;i<e.data.length;++i){let n=0;for(let o=e.dims.length-1,a=i,s=1;o>=0;--o){const i=e.dims[o];if(o!==t){n+=a%i*s,s*=r[o]}a=Math.floor(a/i)}o[n]+=e.data[i]}if(1!==e.dims[t])for(let i=0;i<o.length;++i)o[i]=o[i]/e.dims[t];return n||r.splice(t,1),new Fd(e.type,o,r)}function Bd(e){const[t,n]=e.dims,r=[t+1,n+1],o=new Fd("float32",new Float32Array(r[0]*r[1]).fill(1/0),r),i=new Fd("float32",new Float32Array(r[0]*r[1]).fill(-1),r);o[0].data[0]=0;for(let c=1;c<n+1;++c)for(let n=1;n<t+1;++n){const t=o[n-1][c-1].item(),r=o[n-1][c].item(),a=o[n][c-1].item();let s,u;t<r&&t<a?(s=t,u=0):r<t&&r<a?(s=r,u=1):(s=a,u=2),o[n].data[c]=e[n-1][c-1].item()+s,i[n].data[c]=u}let a=t,s=n;i.data.fill(2,0,r[1]);for(let c=0;c<r[0];++c)i[c].data[0]=1;let u=[],l=[];for(;a>0||s>0;){u.push(a-1),l.push(s-1);switch(i[a][s].item()){case 0:--a,--s;break;case 1:--a;break;case 2:--s;break;default:throw new Error("Internal error in dynamic time warping. Unexpected trace[".concat(a,", ").concat(s,"]. Please file a bug report."))}}return u.reverse(),l.reverse(),[u,l]}function Rd(e){return function(e){const t=e.reduce((e,t)=>e*t,1);return new Fd("int64",new BigInt64Array(t).fill(1n),e)}(e.dims)}class zd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e,t)=>e>t;this._heap=[],this._comparator=e}get size(){return this._heap.length}isEmpty(){return 0===this.size}peek(){return this._heap[0]}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.extend(t)}extend(e){for(const t of e)this._heap.push(t),this._siftUp();return this.size}pop(){const e=this.peek(),t=this.size-1;return t>0&&this._swap(0,t),this._heap.pop(),this._siftDown(),e}replace(e){const t=this.peek();return this._heap[0]=e,this._siftDown(),t}_parent(e){return(e+1>>>1)-1}_left(e){return 1+(e<<1)}_right(e){return e+1<<1}_greater(e,t){return this._comparator(this._heap[e],this._heap[t])}_swap(e,t){const n=this._heap[e];this._heap[e]=this._heap[t],this._heap[t]=n}_siftUp(){let e=this.size-1;for(;e>0&&this._greater(e,this._parent(e));)this._swap(e,this._parent(e)),e=this._parent(e)}_siftDown(){let e=0;for(;this._left(e)<this.size&&this._greater(this._left(e),e)||this._right(e)<this.size&&this._greater(this._right(e),e);){const t=this._right(e)<this.size&&this._greater(this._right(e),this._left(e))?this._right(e):this._left(e);this._swap(e,t),e=t}}}class Vd{constructor(){this.root=Ud.default()}extend(e){for(let t of e)this.push(t)}push(e){let t=this.root;for(let n of e){let e=t.children.get(n);void 0===e&&(e=Ud.default(),t.children.set(n,e)),t=e}t.isLeaf=!0}*commonPrefixSearch(e){let t=this.root,n="";for(let r=0;r<e.length&&void 0!==t;++r){const o=e[r];n+=o,t=t.children.get(o),void 0!==t&&t.isLeaf&&(yield n)}}}class Ud{constructor(e,t){this.isLeaf=e,this.children=t}static default(){return new Ud(!1,new Map)}}class Gd{constructor(e,t,n){this.sentence=e,this.len=e.length,this.bosTokenId=t,this.eosTokenId=n,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},()=>[]),this.endNodes=Array.from({length:this.len+1},()=>[]);const r=new Hd(this.bosTokenId,0,0,0,0),o=new Hd(this.eosTokenId,1,this.len,0,0);this.nodes.push(r.clone()),this.nodes.push(o.clone()),this.beginNodes[this.len].push(o),this.endNodes[0].push(r)}insert(e,t,n,r){const o=this.nodes.length,i=new Hd(r,o,e,t,n);this.beginNodes[e].push(i),this.endNodes[e+t].push(i),this.nodes.push(i)}viterbi(){const e=this.len;let t=0;for(;t<=e;){if(0==this.beginNodes[t].length)return[];for(let e of this.beginNodes[t]){e.prev=null;let n=0,r=null;for(let o of this.endNodes[t]){const t=o.backtraceScore+e.score;(null===r||t>n)&&(r=o.clone(),n=t)}if(null===r)return[];e.prev=r,e.backtraceScore=n}++t}const n=[],r=this.beginNodes[e][0].prev;if(null===r)return[];let o=r.clone();for(;null!==o.prev;){n.push(o.clone());const e=o.clone();o=e.prev.clone()}return n.reverse(),n}piece(e){return this.sentence.slice(e.pos,e.pos+e.length)}tokens(){return this.viterbi().map(e=>this.piece(e))}tokenIds(){return this.viterbi().map(e=>e.tokenId)}}class Hd{constructor(e,t,n,r,o){this.tokenId=e,this.nodeId=t,this.pos=n,this.length=r,this.score=o,this.prev=null,this.backtraceScore=0}clone(){const e=new Hd(this.tokenId,this.nodeId,this.pos,this.length,this.score);return e.prev=this.prev,e.backtraceScore=this.backtraceScore,e}}var Wd=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator"}),qd=Object.freeze({set:Wd.Set,for:Wd.For,in:Wd.In,is:Wd.Is,if:Wd.If,else:Wd.Else,endif:Wd.EndIf,elif:Wd.ElseIf,endfor:Wd.EndFor,and:Wd.And,or:Wd.Or,not:Wd.Not,"not in":Wd.NotIn,true:Wd.BooleanLiteral,false:Wd.BooleanLiteral}),Xd=class{constructor(e,t){this.value=e,this.type=t}};function Yd(e){return/\w/.test(e)}function Kd(e){return/[0-9]/.test(e)}var $d=[["{%",Wd.OpenStatement],["%}",Wd.CloseStatement],["{{",Wd.OpenExpression],["}}",Wd.CloseExpression],["(",Wd.OpenParen],[")",Wd.CloseParen],["{",Wd.OpenCurlyBracket],["}",Wd.CloseCurlyBracket],["[",Wd.OpenSquareBracket],["]",Wd.CloseSquareBracket],[",",Wd.Comma],[".",Wd.Dot],[":",Wd.Colon],["|",Wd.Pipe],["<=",Wd.ComparisonBinaryOperator],[">=",Wd.ComparisonBinaryOperator],["==",Wd.ComparisonBinaryOperator],["!=",Wd.ComparisonBinaryOperator],["<",Wd.ComparisonBinaryOperator],[">",Wd.ComparisonBinaryOperator],["+",Wd.AdditiveBinaryOperator],["-",Wd.AdditiveBinaryOperator],["*",Wd.MultiplicativeBinaryOperator],["/",Wd.MultiplicativeBinaryOperator],["%",Wd.MultiplicativeBinaryOperator],["=",Wd.Equals]],Qd=new Map([["n","\n"],["t","\t"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);var Zd=class{constructor(){a(this,"type","Statement")}},Jd=class extends Zd{constructor(e){super(),a(this,"type","Program"),this.body=e}},eh=class extends Zd{constructor(e,t,n){super(),a(this,"type","If"),this.test=e,this.body=t,this.alternate=n}},th=class extends Zd{constructor(e,t,n){super(),a(this,"type","For"),this.loopvar=e,this.iterable=t,this.body=n}},nh=class extends Zd{constructor(e,t){super(),a(this,"type","Set"),this.assignee=e,this.value=t}},rh=class extends Zd{constructor(){super(...arguments),a(this,"type","Expression")}},oh=class extends rh{constructor(e,t,n){super(),a(this,"type","MemberExpression"),this.object=e,this.property=t,this.computed=n}},ih=class extends rh{constructor(e,t){super(),a(this,"type","CallExpression"),this.callee=e,this.args=t}},ah=class extends rh{constructor(e){super(),a(this,"type","Identifier"),this.value=e}},sh=class extends rh{constructor(e){super(),a(this,"type","Literal"),this.value=e}},uh=class extends sh{constructor(){super(...arguments),a(this,"type","NumericLiteral")}},lh=class extends sh{constructor(){super(...arguments),a(this,"type","StringLiteral")}},ch=class extends sh{constructor(){super(...arguments),a(this,"type","BooleanLiteral")}},dh=class extends sh{constructor(){super(...arguments),a(this,"type","ArrayLiteral")}},hh=class extends sh{constructor(){super(...arguments),a(this,"type","TupleLiteral")}},fh=class extends sh{constructor(){super(...arguments),a(this,"type","ObjectLiteral")}},ph=class extends rh{constructor(e,t,n){super(),a(this,"type","BinaryExpression"),this.operator=e,this.left=t,this.right=n}},mh=class extends rh{constructor(e,t){super(),a(this,"type","FilterExpression"),this.operand=e,this.filter=t}},gh=class extends rh{constructor(e,t,n){super(),a(this,"type","TestExpression"),this.operand=e,this.negate=t,this.test=n}},yh=class extends rh{constructor(e,t){super(),a(this,"type","UnaryExpression"),this.operator=e,this.argument=t}},bh=class extends rh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(),a(this,"type","SliceExpression"),this.start=e,this.stop=t,this.step=n}},vh=class extends rh{constructor(e,t){super(),a(this,"type","KeywordArgumentExpression"),this.key=e,this.value=t}};function _h(e){const t=new Jd([]);let n=0;function r(t,r){const o=e[n++];if(!o||o.type!==t)throw new Error("Parser Error: ".concat(r,". ").concat(o.type," !== ").concat(t,"."));return o}function o(){switch(e[n].type){case Wd.Text:return new lh(r(Wd.Text,"Expected text token").value);case Wd.OpenStatement:return function(){let t;switch(r(Wd.OpenStatement,"Expected opening statement token"),e[n].type){case Wd.Set:++n,t=s(),r(Wd.CloseStatement,"Expected closing statement token");break;case Wd.If:++n,t=u(),r(Wd.OpenStatement,"Expected {% token"),r(Wd.EndIf,"Expected endif token"),r(Wd.CloseStatement,"Expected %} token");break;case Wd.For:++n,t=function(){const e=l(!0);if(!(e instanceof ah||e instanceof hh))throw new SyntaxError("Expected identifier/tuple for the loop variable, got ".concat(e.type," instead"));r(Wd.In,"Expected `in` keyword following loop variable");const t=c();r(Wd.CloseStatement,"Expected closing statement token");const n=[];for(;i(Wd.OpenStatement,Wd.EndFor);)n.push(o());return new th(e,t,n)}(),r(Wd.OpenStatement,"Expected {% token"),r(Wd.EndFor,"Expected endfor token"),r(Wd.CloseStatement,"Expected %} token");break;default:throw new SyntaxError("Unknown statement type: ".concat(e[n].type))}return t}();case Wd.OpenExpression:return function(){r(Wd.OpenExpression,"Expected opening expression token");const e=c();return r(Wd.CloseExpression,"Expected closing expression token"),e}();default:throw new SyntaxError("Unexpected token type: ".concat(e[n].type))}}function i(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n+r.length<=e.length&&r.some((t,r)=>t!==e[n+r].type)}function a(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n+r.length<=e.length&&r.every((t,r)=>t===e[n+r].type)}function s(){const e=c();if(a(Wd.Equals)){++n;const t=s();return new nh(e,t)}return e}function u(){var t,i;const s=c();r(Wd.CloseStatement,"Expected closing statement token");const l=[],d=[];for(;(null===(h=e[n])||void 0===h?void 0:h.type)!==Wd.OpenStatement||(null===(f=e[n+1])||void 0===f?void 0:f.type)!==Wd.ElseIf&&(null===(p=e[n+1])||void 0===p?void 0:p.type)!==Wd.Else&&(null===(m=e[n+1])||void 0===m?void 0:m.type)!==Wd.EndIf;){var h,f,p,m;l.push(o())}if((null===(t=e[n])||void 0===t?void 0:t.type)===Wd.OpenStatement&&(null===(i=e[n+1])||void 0===i?void 0:i.type)!==Wd.EndIf)if(++n,a(Wd.ElseIf))r(Wd.ElseIf,"Expected elseif token"),d.push(u());else for(r(Wd.Else,"Expected else token"),r(Wd.CloseStatement,"Expected closing statement token");(null===(g=e[n])||void 0===g?void 0:g.type)!==Wd.OpenStatement||(null===(y=e[n+1])||void 0===y?void 0:y.type)!==Wd.EndIf;){var g,y;d.push(o())}return new eh(s,l,d)}function l(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?_:c,t=[e()],r=a(Wd.Comma);for(;r&&(++n,t.push(e()),a(Wd.Comma)););return r?new hh(t):t[0]}function c(){return function(){const e=d();if(a(Wd.If)){++n;const t=d();r(Wd.Else,"Expected else token");const o=d();return new eh(t,[e],[o])}return e}()}function d(){let t=h();for(;a(Wd.Or);){const r=e[n];++n;const o=h();t=new ph(r,t,o)}return t}function h(){let t=f();for(;a(Wd.And);){const r=e[n];++n;const o=f();t=new ph(r,t,o)}return t}function f(){let t;for(;a(Wd.Not);){const r=e[n];++n;const o=f();t=new yh(r,o)}return null!==t&&void 0!==t?t:function(){let t=p();for(;a(Wd.ComparisonBinaryOperator)||a(Wd.In)||a(Wd.NotIn);){const r=e[n];++n;const o=p();t=new ph(r,t,o)}return t}()}function p(){let t=b();for(;a(Wd.AdditiveBinaryOperator);){const r=e[n];++n;const o=b();t=new ph(r,t,o)}return t}function m(){const t=function(){let t=_();for(;a(Wd.Dot)||a(Wd.OpenSquareBracket);){const o=e[n];let i;++n;const a=o.type!==Wd.Dot;if(a)i=y(),r(Wd.CloseSquareBracket,"Expected closing square bracket");else if(i=_(),"Identifier"!==i.type)throw new SyntaxError("Expected identifier following dot operator");t=new oh(t,i,a)}return t}();return a(Wd.OpenParen)?g(t):t}function g(e){let t=new ih(e,function(){r(Wd.OpenParen,"Expected opening parenthesis for arguments list");const e=function(){const e=[];for(;!a(Wd.CloseParen);){let t=c();if(a(Wd.Equals)){if(++n,!(t instanceof ah))throw new SyntaxError("Expected identifier for keyword argument");const e=c();t=new vh(t,e)}e.push(t),a(Wd.Comma)&&++n}return e}();return r(Wd.CloseParen,"Expected closing parenthesis for arguments list"),e}());return a(Wd.OpenParen)&&(t=g(t)),t}function y(){const e=[];let t=!1;for(;!a(Wd.CloseSquareBracket);)a(Wd.Colon)?(e.push(void 0),++n,t=!0):(e.push(c()),a(Wd.Colon)&&(++n,t=!0));if(0===e.length)throw new SyntaxError("Expected at least one argument for member/slice expression");if(t){if(e.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new bh(...e)}return e[0]}function b(){let t=v();for(;a(Wd.MultiplicativeBinaryOperator);){const r=e[n];++n;const o=v();t=new ph(r,t,o)}return t}function v(){let e=function(){let e=m();for(;a(Wd.Pipe);){++n;let t=_();if(!(t instanceof ah))throw new SyntaxError("Expected identifier for the filter");a(Wd.OpenParen)&&(t=g(t)),e=new mh(e,t)}return e}();for(;a(Wd.Is);){++n;const t=a(Wd.Not);t&&++n;let r=_();if(r instanceof ch&&(r=new ah(r.value.toString())),!(r instanceof ah))throw new SyntaxError("Expected identifier for the test");e=new gh(e,t,r)}return e}function _(){const t=e[n];switch(t.type){case Wd.NumericLiteral:return++n,new uh(Number(t.value));case Wd.StringLiteral:return++n,new lh(t.value);case Wd.BooleanLiteral:return++n,new ch("true"===t.value);case Wd.Identifier:return++n,new ah(t.value);case Wd.OpenParen:{++n;const t=l();if(e[n].type!==Wd.CloseParen)throw new SyntaxError("Expected closing parenthesis, got ".concat(e[n].type," instead"));return++n,t}case Wd.OpenSquareBracket:{++n;const e=[];for(;!a(Wd.CloseSquareBracket);)e.push(c()),a(Wd.Comma)&&++n;return++n,new dh(e)}case Wd.OpenCurlyBracket:{++n;const e=new Map;for(;!a(Wd.CloseCurlyBracket);){const t=c();r(Wd.Colon,"Expected colon between key and value in object literal");const o=c();e.set(t,o),a(Wd.Comma)&&++n}return++n,new fh(e)}default:throw new SyntaxError("Unexpected token: ".concat(t.type))}}for(;n<e.length;)t.body.push(o());return t}function wh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===t&&(t=e,e=0);const r=[];for(let o=e;o<t;o+=n)r.push(o);return r}function xh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=Math.sign(r);o>=0?(t=(null!==t&&void 0!==t?t:t=0)<0?Math.max(e.length+t,0):Math.min(t,e.length),n=(null!==n&&void 0!==n?n:n=e.length)<0?Math.max(e.length+n,0):Math.min(n,e.length)):(t=(null!==t&&void 0!==t?t:t=e.length-1)<0?Math.max(e.length+t,-1):Math.min(t,e.length-1),n=(null!==n&&void 0!==n?n:n=-1)<-1?Math.max(e.length+n,-1):Math.min(n,e.length-1));const i=[];for(let a=t;o*a<o*n;a+=r)i.push(e[a]);return i}function Dh(e){return e.replace(/\b\w/g,e=>e.toUpperCase())}var Eh=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;a(this,"type","RuntimeValue"),a(this,"value",void 0),a(this,"builtins",new Map),this.value=e}__bool__(){return new Ah(!!this.value)}},Sh=class extends Eh{constructor(){super(...arguments),a(this,"type","NumericValue")}},Th=class extends Eh{constructor(){super(...arguments),a(this,"type","StringValue"),a(this,"builtins",new Map([["upper",new Oh(()=>new Th(this.value.toUpperCase()))],["lower",new Oh(()=>new Th(this.value.toLowerCase()))],["strip",new Oh(()=>new Th(this.value.trim()))],["title",new Oh(()=>new Th(Dh(this.value)))],["length",new Sh(this.value.length)]]))}},Ah=class extends Eh{constructor(){super(...arguments),a(this,"type","BooleanValue")}},kh=class extends Eh{constructor(){super(...arguments),a(this,"type","ObjectValue"),a(this,"builtins",new Map([["get",new Oh(e=>{var t,n;let[r,o]=e;if(!(r instanceof Th))throw new Error("Object key must be a string: got ".concat(r.type));return null!==(t=null!==(n=this.value.get(r.value))&&void 0!==n?n:o)&&void 0!==t?t:new Ph})],["items",new Oh(()=>new Fh(Array.from(this.value.entries()).map(e=>{let[t,n]=e;return new Fh([new Th(t),n])})))]]))}__bool__(){return new Ah(this.value.size>0)}},Fh=class extends Eh{constructor(){super(...arguments),a(this,"type","ArrayValue"),a(this,"builtins",new Map([["length",new Sh(this.value.length)]]))}__bool__(){return new Ah(this.value.length>0)}},Ch=class extends Fh{constructor(){super(...arguments),a(this,"type","TupleValue")}},Oh=class extends Eh{constructor(){super(...arguments),a(this,"type","FunctionValue")}},Ph=class extends Eh{constructor(){super(...arguments),a(this,"type","NullValue")}},Ih=class extends Eh{constructor(){super(...arguments),a(this,"type","UndefinedValue")}},Mh=class{constructor(e){a(this,"variables",new Map([["namespace",new Oh(e=>{if(0===e.length)return new kh(new Map);if(1!==e.length||!(e[0]instanceof kh))throw new Error("`namespace` expects either zero arguments or a single object argument");return e[0]})]])),a(this,"tests",new Map([["boolean",e=>"BooleanValue"===e.type],["callable",e=>e instanceof Oh],["odd",e=>{if("NumericValue"!==e.type)throw new Error('Cannot apply test "odd" to type: '.concat(e.type));return e.value%2!==0}],["even",e=>{if("NumericValue"!==e.type)throw new Error('Cannot apply test "even" to type: '.concat(e.type));return e.value%2===0}],["false",e=>"BooleanValue"===e.type&&!e.value],["true",e=>"BooleanValue"===e.type&&e.value],["number",e=>"NumericValue"===e.type],["integer",e=>"NumericValue"===e.type&&Number.isInteger(e.value)],["iterable",e=>e instanceof Fh||e instanceof Th],["lower",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toLowerCase()}],["upper",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toUpperCase()}],["none",e=>"NullValue"===e.type],["defined",e=>"UndefinedValue"!==e.type],["undefined",e=>"UndefinedValue"===e.type],["equalto",(e,t)=>e.value===t.value]])),this.parent=e}set(e,t){return this.declareVariable(e,Lh(t))}declareVariable(e,t){if(this.variables.has(e))throw new SyntaxError("Variable already declared: ".concat(e));return this.variables.set(e,t),t}setVariable(e,t){return this.variables.set(e,t),t}resolve(e){if(this.variables.has(e))return this;if(this.parent)return this.parent.resolve(e);throw new Error("Unknown variable: ".concat(e))}lookupVariable(e){try{var t;return null!==(t=this.resolve(e).variables.get(e))&&void 0!==t?t:new Ih}catch(pv){return new Ih}}},Nh=class{constructor(e){a(this,"global",void 0),this.global=null!==e&&void 0!==e?e:new Mh}run(e){return this.evaluate(e,this.global)}evaluateBinaryExpression(e,t){const n=this.evaluate(e.left,t);switch(e.operator.value){case"and":return n.__bool__().value?this.evaluate(e.right,t):n;case"or":return n.__bool__().value?n:this.evaluate(e.right,t)}const r=this.evaluate(e.right,t);switch(e.operator.value){case"==":return new Ah(n.value==r.value);case"!=":return new Ah(n.value!=r.value)}if(n instanceof Ih||r instanceof Ih)throw new Error("Cannot perform operation on undefined values");if(n instanceof Ph||r instanceof Ph)throw new Error("Cannot perform operation on null values");if(n instanceof Sh&&r instanceof Sh)switch(e.operator.value){case"+":return new Sh(n.value+r.value);case"-":return new Sh(n.value-r.value);case"*":return new Sh(n.value*r.value);case"/":return new Sh(n.value/r.value);case"%":return new Sh(n.value%r.value);case"<":return new Ah(n.value<r.value);case">":return new Ah(n.value>r.value);case">=":return new Ah(n.value>=r.value);case"<=":return new Ah(n.value<=r.value)}else if(n instanceof Fh&&r instanceof Fh){if("+"===e.operator.value)return new Fh(n.value.concat(r.value))}else if(r instanceof Fh){const t=void 0!==r.value.find(e=>e.value===n.value);switch(e.operator.value){case"in":return new Ah(t);case"not in":return new Ah(!t)}}if((n instanceof Th||r instanceof Th)&&"+"===e.operator.value)return new Th(n.value.toString()+r.value.toString());if(n instanceof Th&&r instanceof Th)switch(e.operator.value){case"in":return new Ah(r.value.includes(n.value));case"not in":return new Ah(!r.value.includes(n.value))}if(n instanceof Th&&r instanceof kh)switch(e.operator.value){case"in":return new Ah(r.value.has(n.value));case"not in":return new Ah(!r.value.has(n.value))}throw new SyntaxError('Unknown operator "'.concat(e.operator.value,'" between ').concat(n.type," and ").concat(r.type))}evaluateFilterExpression(e,t){const n=this.evaluate(e.operand,t);if("Identifier"===e.filter.type){const t=e.filter;if(n instanceof Fh)switch(t.value){case"list":return n;case"first":return n.value[0];case"last":return n.value[n.value.length-1];case"length":return new Sh(n.value.length);case"reverse":return new Fh(n.value.reverse());case"sort":return new Fh(n.value.sort((e,t)=>{if(e.type!==t.type)throw new Error("Cannot compare different types: ".concat(e.type," and ").concat(t.type));switch(e.type){case"NumericValue":return e.value-t.value;case"StringValue":return e.value.localeCompare(t.value);default:throw new Error("Cannot compare type: ".concat(e.type))}}));default:throw new Error("Unknown ArrayValue filter: ".concat(t.value))}else if(n instanceof Th)switch(t.value){case"length":return new Sh(n.value.length);case"upper":return new Th(n.value.toUpperCase());case"lower":return new Th(n.value.toLowerCase());case"title":return new Th(Dh(n.value));case"capitalize":return new Th(n.value.charAt(0).toUpperCase()+n.value.slice(1));case"trim":return new Th(n.value.trim());default:throw new Error("Unknown StringValue filter: ".concat(t.value))}else{if(n instanceof Sh){if("abs"===t.value)return new Sh(Math.abs(n.value));throw new Error("Unknown NumericValue filter: ".concat(t.value))}if(n instanceof kh)switch(t.value){case"items":return new Fh(Array.from(n.value.entries()).map(e=>{let[t,n]=e;return new Fh([new Th(t),n])}));case"length":return new Sh(n.value.size);default:throw new Error("Unknown ObjectValue filter: ".concat(t.value))}}throw new Error('Cannot apply filter "'.concat(t.value,'" to type: ').concat(n.type))}if("CallExpression"===e.filter.type){const r=e.filter;if("Identifier"!==r.callee.type)throw new Error("Unknown filter: ".concat(r.callee.type));const o=r.callee.value;if(n instanceof Fh){if("selectattr"===o){if(n.value.some(e=>!(e instanceof kh)))throw new Error("`selectattr` can only be applied to array of objects");if(r.args.some(e=>"StringLiteral"!==e.type))throw new Error("arguments of `selectattr` must be strings");const[e,o,i]=r.args.map(e=>this.evaluate(e,t));let a;if(o){const e=t.tests.get(o.value);if(!e)throw new Error("Unknown test: ".concat(o.value));a=e}else a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0].__bool__().value};const s=n.value.filter(t=>{const n=t.value.get(e.value);return!!n&&a(n,i)});return new Fh(s)}throw new Error("Unknown ArrayValue filter: ".concat(o))}throw new Error('Cannot apply filter "'.concat(o,'" to type: ').concat(n.type))}throw new Error("Unknown filter: ".concat(e.filter.type))}evaluateTestExpression(e,t){const n=this.evaluate(e.operand,t),r=t.tests.get(e.test.value);if(!r)throw new Error("Unknown test: ".concat(e.test.value));const o=r(n);return new Ah(e.negate?!o:o)}evaluateUnaryExpression(e,t){const n=this.evaluate(e.argument,t);if("not"===e.operator.value)return new Ah(!n.value);throw new SyntaxError("Unknown operator: ".concat(e.operator.value))}evalProgram(e,t){return this.evaluateBlock(e.body,t)}evaluateBlock(e,t){let n="";for(const r of e){const e=this.evaluate(r,t);"NullValue"!==e.type&&"UndefinedValue"!==e.type&&(n+=e.value)}return new Th(n)}evaluateIdentifier(e,t){return t.lookupVariable(e.value)}evaluateCallExpression(e,t){const n=[],r=new Map;for(const i of e.args)if("KeywordArgumentExpression"===i.type){const e=i;r.set(e.key.value,this.evaluate(e.value,t))}else n.push(this.evaluate(i,t));r.size>0&&n.push(new kh(r));const o=this.evaluate(e.callee,t);if("FunctionValue"!==o.type)throw new Error("Cannot call something that is not a function: got ".concat(o.type));return o.value(n,t)}evaluateSliceExpression(e,t,n){if(!(e instanceof Fh||e instanceof Th))throw new Error("Slice object must be an array or string");const r=this.evaluate(t.start,n),o=this.evaluate(t.stop,n),i=this.evaluate(t.step,n);if(!(r instanceof Sh||r instanceof Ih))throw new Error("Slice start must be numeric or undefined");if(!(o instanceof Sh||o instanceof Ih))throw new Error("Slice stop must be numeric or undefined");if(!(i instanceof Sh||i instanceof Ih))throw new Error("Slice step must be numeric or undefined");return e instanceof Fh?new Fh(xh(e.value,r.value,o.value,i.value)):new Th(xh(Array.from(e.value),r.value,o.value,i.value).join(""))}evaluateMemberExpression(e,t){const n=this.evaluate(e.object,t);let r,o;if(e.computed){if("SliceExpression"===e.property.type)return this.evaluateSliceExpression(n,e.property,t);r=this.evaluate(e.property,t)}else r=new Th(e.property.value);if(n instanceof kh){var i;if(!(r instanceof Th))throw new Error("Cannot access property with non-string: got ".concat(r.type));o=null!==(i=n.value.get(r.value))&&void 0!==i?i:n.builtins.get(r.value)}else if(n instanceof Fh||n instanceof Th)if(r instanceof Sh)o=n.value.at(r.value),n instanceof Th&&(o=new Th(n.value.at(r.value)));else{if(!(r instanceof Th))throw new Error("Cannot access property with non-string/non-number: got ".concat(r.type));o=n.builtins.get(r.value)}else{if(!(r instanceof Th))throw new Error("Cannot access property with non-string: got ".concat(r.type));o=n.builtins.get(r.value)}return o instanceof Eh?o:new Ih}evaluateSet(e,t){const n=this.evaluate(e.value,t);if("Identifier"===e.assignee.type){const r=e.assignee.value;t.setVariable(r,n)}else{if("MemberExpression"!==e.assignee.type)throw new Error("Invalid LHS inside assignment expression: ".concat(JSON.stringify(e.assignee)));{const r=e.assignee,o=this.evaluate(r.object,t);if(!(o instanceof kh))throw new Error("Cannot assign to member of non-object");if("Identifier"!==r.property.type)throw new Error("Cannot assign to member with non-identifier property");o.value.set(r.property.value,n)}}return new Ph}evaluateIf(e,t){const n=this.evaluate(e.test,t);return this.evaluateBlock(n.__bool__().value?e.body:e.alternate,t)}evaluateFor(e,t){const n=new Mh(t),r=this.evaluate(e.iterable,n);if(!(r instanceof Fh))throw new Error("Expected iterable type in for loop: got ".concat(r.type));let o="";for(let i=0;i<r.value.length;++i){const t=new Map([["index",new Sh(i+1)],["index0",new Sh(i)],["revindex",new Sh(r.value.length-i)],["revindex0",new Sh(r.value.length-i-1)],["first",new Ah(0===i)],["last",new Ah(i===r.value.length-1)],["length",new Sh(r.value.length)],["previtem",i>0?r.value[i-1]:new Ih],["nextitem",i<r.value.length-1?r.value[i+1]:new Ih]]);n.setVariable("loop",new kh(t));const a=r.value[i];if("Identifier"===e.loopvar.type)n.setVariable(e.loopvar.value,a);else if("TupleLiteral"===e.loopvar.type){const t=e.loopvar;if("ArrayValue"!==a.type)throw new Error("Cannot unpack non-iterable type: ".concat(a.type));const r=a;if(t.value.length!==r.value.length)throw new Error("Too ".concat(t.value.length>r.value.length?"few":"many"," items to unpack"));for(let e=0;e<t.value.length;++e){if("Identifier"!==t.value[e].type)throw new Error("Cannot unpack non-identifier type: ".concat(t.value[e].type));n.setVariable(t.value[e].value,r.value[e])}}o+=this.evaluateBlock(e.body,n).value}return new Th(o)}evaluate(e,t){if(void 0===e)return new Ih;switch(e.type){case"Program":return this.evalProgram(e,t);case"Set":return this.evaluateSet(e,t);case"If":return this.evaluateIf(e,t);case"For":return this.evaluateFor(e,t);case"NumericLiteral":return new Sh(Number(e.value));case"StringLiteral":return new Th(e.value);case"BooleanLiteral":return new Ah(e.value);case"ArrayLiteral":return new Fh(e.value.map(e=>this.evaluate(e,t)));case"TupleLiteral":return new Ch(e.value.map(e=>this.evaluate(e,t)));case"ObjectLiteral":{const n=new Map;for(const[r,o]of e.value){const e=this.evaluate(r,t);if(!(e instanceof Th))throw new Error("Object keys must be strings: got ".concat(e.type));n.set(e.value,this.evaluate(o,t))}return new kh(n)}case"Identifier":return this.evaluateIdentifier(e,t);case"CallExpression":return this.evaluateCallExpression(e,t);case"MemberExpression":return this.evaluateMemberExpression(e,t);case"UnaryExpression":return this.evaluateUnaryExpression(e,t);case"BinaryExpression":return this.evaluateBinaryExpression(e,t);case"FilterExpression":return this.evaluateFilterExpression(e,t);case"TestExpression":return this.evaluateTestExpression(e,t);default:throw new SyntaxError("Unknown node type: ".concat(e.type))}}};function Lh(e){switch(typeof e){case"number":return new Sh(e);case"string":return new Th(e);case"boolean":return new Ah(e);case"object":return null===e?new Ph:Array.isArray(e)?new Fh(e.map(Lh)):new kh(new Map(Object.entries(e).map(e=>{let[t,n]=e;return[t,Lh(n)]})));case"function":return new Oh((t,n)=>{var r;return Lh(null!==(r=e(...t.map(e=>e.value)))&&void 0!==r?r:null)});default:throw new Error("Cannot convert to runtime value: ".concat(e))}}var jh=class{constructor(e){a(this,"parsed",void 0);const t=function(e){const t=[],n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.endsWith("\n")&&(e=e.slice(0,-1)),e=e.replace(/{#[^]*?#}/g,"{##}"),t.lstrip_blocks&&(e=e.replace(/^[ \t]*({[#%])/gm,"$1")),t.trim_blocks&&(e=e.replace(/([#%]})\n/g,"$1")),e.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r=0;const o=e=>{let t="";for(;e(n[r]);){if("\\"===n[r]){if(++r,r>=n.length)throw new SyntaxError("Unexpected end of input");const e=n[r++],o=Qd.get(e);if(void 0===o)throw new SyntaxError("Unexpected escaped character: ".concat(e));t+=o;continue}if(t+=n[r++],r>=n.length)throw new SyntaxError("Unexpected end of input")}return t};e:for(;r<n.length;){var i;const e=null===(i=t.at(-1))||void 0===i?void 0:i.type;if(void 0===e||e===Wd.CloseStatement||e===Wd.CloseExpression){let e="";for(;r<n.length&&("{"!==n[r]||"%"!==n[r+1]&&"{"!==n[r+1]);)e+=n[r++];if(e.length>0){t.push(new Xd(e,Wd.Text));continue}}o(e=>/\s/.test(e));const u=n[r];if("-"===u||"+"===u){var a;const e=null===(a=t.at(-1))||void 0===a?void 0:a.type;if(e===Wd.Text||void 0===e)throw new SyntaxError("Unexpected character: ".concat(u));switch(e){case Wd.Identifier:case Wd.NumericLiteral:case Wd.BooleanLiteral:case Wd.StringLiteral:case Wd.CloseParen:case Wd.CloseSquareBracket:break;default:{++r;const e=o(Kd);t.push(new Xd("".concat(u).concat(e),e.length>0?Wd.NumericLiteral:Wd.UnaryOperator));continue}}}for(const[o,i]of $d)if(n.slice(r,r+o.length)===o){t.push(new Xd(o,i)),r+=o.length;continue e}if("'"===u||'"'===u){++r;const e=o(e=>e!==u);t.push(new Xd(e,Wd.StringLiteral)),++r;continue}if(Kd(u)){const e=o(Kd);t.push(new Xd(e,Wd.NumericLiteral));continue}if(Yd(u)){var s;const e=o(Yd),n=Object.hasOwn(qd,e)?qd[e]:Wd.Identifier;n===Wd.In&&(null===(s=t.at(-1))||void 0===s?void 0:s.type)===Wd.Not?(t.pop(),t.push(new Xd("not in",Wd.NotIn))):t.push(new Xd(e,n));continue}throw new SyntaxError("Unexpected character: ".concat(u))}return t}(e,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=_h(t)}render(e){const t=new Mh;t.set("false",!1),t.set("true",!0),t.set("raise_exception",e=>{throw new Error(e)}),t.set("range",wh);for(const[n,r]of Object.entries(e))t.set(n,r);return new Nh(t).run(this.parsed).value}};const Bh=["chat_template","add_generation_prompt","tokenize","padding","truncation","max_length","return_tensor","tokenizer_kwargs"];async function Rh(e,t){const n=await Promise.all([md(e,"tokenizer.json",!0,t),md(e,"tokenizer_config.json",!0,t)]);return null!==t.legacy&&(n[1].legacy=t.legacy),n}function zh(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==e.Regex){let t=e.Regex.replace(/\\([#&~])/g,"$1");for(const[e,n]of qh)t=t.replaceAll(e,n);return new RegExp(t,"gu")}if(void 0!==e.String){const n=Fc(e.String);return new RegExp(t?n:"(".concat(n,")"),"gu")}return console.warn("Unknown pattern type:",e),null}function Vh(e){return new Map(Object.entries(e))}function Uh(e){const t=e.dims;switch(t.length){case 1:return e.tolist();case 2:if(1!==t[0])throw new Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return e.tolist()[0];default:throw new Error("Expected tensor to have 1-2 dimensions, got ".concat(t.length,"."))}}function Gh(e){return e.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function Hh(e){return e.replace(/[\u0300-\u036f]/g,"")}const Wh="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",qh=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"]]);class Xh{constructor(e){var t,n,r,o,i;this.content=e.content,this.id=e.id,this.single_word=null!==(t=e.single_word)&&void 0!==t&&t,this.lstrip=null!==(n=e.lstrip)&&void 0!==n&&n,this.rstrip=null!==(r=e.rstrip)&&void 0!==r&&r,this.special=null!==(o=e.special)&&void 0!==o&&o,this.normalized=null!==(i=e.normalized)&&void 0!==i?i:null}}class Yh extends Cc{constructor(e){var t;super(),this.config=e,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=null!==(t=this.config.fuse_unk)&&void 0!==t&&t}static fromConfig(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];switch(e.type){case"WordPiece":return new Kh(e);case"Unigram":return new $h(e,...n);case"BPE":return new Jh(e);default:if(e.vocab)return new ef(e,...n);throw new Error("Unknown TokenizerModel type: ".concat(e.type))}}_call(e){let t=this.encode(e);return this.fuse_unk&&(t=function(e,t,n){const r=[];let o=0;for(;o<e.length;){var i;if(r.push(e[o]),(null!==(i=n.get(e[o]))&&void 0!==i?i:t)===t)for(;o<e.length&&(null!==(a=n.get(e[o]))&&void 0!==a?a:t)===t;){var a;++o}else++o}return r}(t,this.unk_token_id,this.tokens_to_ids)),t}encode(e){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(e){return e.map(e=>{var t;return null!==(t=this.tokens_to_ids.get(e))&&void 0!==t?t:this.unk_token_id})}convert_ids_to_tokens(e){return e.map(e=>{var t;return null!==(t=this.vocab[e])&&void 0!==t?t:this.unk_token})}}class Kh extends Yh{constructor(e){var t;super(e),this.tokens_to_ids=Vh(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.max_input_chars_per_word=null!==(t=e.max_input_chars_per_word)&&void 0!==t?t:100,this.vocab=new Array(this.tokens_to_ids.size);for(const[n,r]of this.tokens_to_ids)this.vocab[r]=n}encode(e){const t=[];for(const n of e){const e=[...n];if(e.length>this.max_input_chars_per_word){t.push(this.unk_token);continue}let r=!1,o=0;const i=[];for(;o<e.length;){let t=e.length,n=null;for(;o<t;){let r=e.slice(o,t).join("");if(o>0&&(r=this.config.continuing_subword_prefix+r),this.tokens_to_ids.has(r)){n=r;break}--t}if(null===n){r=!0;break}i.push(n),o=t}r?t.push(this.unk_token):t.push(...i)}return t}}class $h extends Yh{constructor(e,t){super(e);const n=e.vocab.length;this.vocab=new Array(n),this.scores=new Array(n);for(let r=0;r<n;++r){const t=e.vocab[r];this.vocab[r]=t[0],this.scores[r]=t[1]}this.unk_token_id=e.unk_id,this.unk_token=this.vocab[e.unk_id],this.tokens_to_ids=new Map(this.vocab.map((e,t)=>[e,t])),this.bosToken=" ",this.bosTokenId=this.tokens_to_ids.get(this.bosToken),this.eosToken=t.eos_token,this.eosTokenId=this.tokens_to_ids.get(this.eosToken),this.unkToken=this.vocab[this.unk_token_id],this.minScore=vd(this.scores)[0],this.unkScore=this.minScore-10,this.scores[this.unk_token_id]=this.unkScore,this.trie=new Vd,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(e){const t=e.sentence,n=t.length;let r=0;for(;r<n;){const n=1;let o=!1;const i=[];for(let a of this.trie.commonPrefixSearch(t.slice(r))){i.push(a);const t=this.tokens_to_ids.get(a),s=this.scores[t],u=a.length;e.insert(r,u,s,t),o||u!==n||(o=!0)}o||e.insert(r,n,this.unkScore,this.unk_token_id),r+=n}}tokenize(e){const t=new Gd(e,this.bosTokenId,this.eosTokenId);return this.populateNodes(t),t.tokens()}encode(e){const t=[];for(const n of e){const e=this.tokenize(n);t.push(...e)}return t}}const Qh=(()=>{const e=[...Array.from({length:"~".charCodeAt(0)-"!".charCodeAt(0)+1},(e,t)=>t+"!".charCodeAt(0)),...Array.from({length:"\xac".charCodeAt(0)-"\xa1".charCodeAt(0)+1},(e,t)=>t+"\xa1".charCodeAt(0)),...Array.from({length:"\xff".charCodeAt(0)-"\xae".charCodeAt(0)+1},(e,t)=>t+"\xae".charCodeAt(0))],t=e.slice();let n=0;for(let o=0;o<256;++o)e.includes(o)||(e.push(o),t.push(256+n),n+=1);const r=t.map(e=>String.fromCharCode(e));return Object.fromEntries(e.map((e,t)=>[e,r[t]]))})(),Zh=function(e){return Object.fromEntries(Object.entries(e).map(e=>{let[t,n]=e;return[n,t]}))}(Qh);class Jh extends Yh{constructor(e){var t,n,r;super(e),this.BPE_SPLIT_TOKEN=" ",this.tokens_to_ids=Vh(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.vocab=new Array(this.tokens_to_ids.size);for(const[o,i]of this.tokens_to_ids)this.vocab[i]=o;this.bpe_ranks=new Map(e.merges.map((e,t)=>[e,t])),this.merges=e.merges.map(e=>e.split(this.BPE_SPLIT_TOKEN)),this.end_of_word_suffix=e.end_of_word_suffix,this.continuing_subword_suffix=null!==(t=e.continuing_subword_suffix)&&void 0!==t?t:null,this.byte_fallback=null!==(n=this.config.byte_fallback)&&void 0!==n&&n,this.byte_fallback&&(this.text_encoder=new TextEncoder),this.ignore_merges=null!==(r=this.config.ignore_merges)&&void 0!==r&&r,this.cache=new Map}bpe(e){if(0===e.length)return[];const t=this.cache.get(e);if(void 0!==t)return t;const n=Array.from(e);this.end_of_word_suffix&&(n[n.length-1]+=this.end_of_word_suffix);let r=[];if(n.length>1){const e=new zd((e,t)=>e.score<t.score);let t={token:n[0],bias:0,prev:null,next:null},o=t;for(let r=1;r<n.length;++r){const t={bias:r/n.length,token:n[r],prev:o,next:null};o.next=t,this._add_node(e,o),o=t}for(;!e.isEmpty();){const n=e.pop();if(n.deleted||!n.next||n.next.deleted)continue;if(n.deleted=!0,n.next.deleted=!0,n.prev){const e=u({},n.prev);n.prev.deleted=!0,n.prev=e,e.prev?e.prev.next=e:t=e}const r={token:n.token+n.next.token,bias:n.bias,prev:n.prev,next:n.next.next};r.prev?(r.prev.next=r,this._add_node(e,r.prev)):t=r,r.next&&(r.next.prev=r,this._add_node(e,r))}for(let n=t;null!==n;n=n.next)r.push(n.token)}else r=n;if(this.continuing_subword_suffix)for(let o=0;o<r.length-1;++o)r[o]+=this.continuing_subword_suffix;return this.cache.set(e,r),r}_add_node(e,t){const n=this.bpe_ranks.get(t.token+this.BPE_SPLIT_TOKEN+t.next.token);void 0!==n&&(t.score=n+t.bias,e.push(t))}encode(e){const t=[];for(const n of e){if(this.ignore_merges&&this.tokens_to_ids.has(n)){t.push(n);continue}const e=this.bpe(n);for(const n of e)this.tokens_to_ids.has(n)?t.push(n):this.byte_fallback?t.push(...Array.from(this.text_encoder.encode(n)).map(e=>"<0x".concat(e.toString(16).toUpperCase().padStart(2,"0"),">"))):t.push(this.unk_token)}return t}}class ef extends Yh{constructor(e,t){super(e),this.tokens_to_ids=Vh(t.target_lang?e.vocab[t.target_lang]:e.vocab),this.bos_token=t.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=t.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=t.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=t.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=new Array(this.tokens_to_ids.size);for(const[n,r]of this.tokens_to_ids)this.vocab[r]=n}encode(e){return e}}class tf extends Cc{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"BertNormalizer":return new hf(e);case"Precompiled":return new Bf(e);case"Sequence":return new df(e);case"Replace":return new nf(e);case"NFC":return new rf(e);case"NFKC":return new of(e);case"NFKD":return new af(e);case"Strip":return new sf(e);case"StripAccents":return new uf(e);case"Lowercase":return new lf(e);case"Prepend":return new cf(e);default:throw new Error("Unknown Normalizer type: ".concat(e.type))}}normalize(e){throw Error("normalize should be implemented in subclass.")}_call(e){return this.normalize(e)}}class nf extends tf{normalize(e){const t=zh(this.config.pattern);return null===t?e:e.replaceAll(t,this.config.content)}}class rf extends tf{normalize(e){return e=e.normalize("NFC")}}class of extends tf{normalize(e){return e=e.normalize("NFKC")}}class af extends tf{normalize(e){return e=e.normalize("NFKD")}}class sf extends tf{normalize(e){return this.config.strip_left&&this.config.strip_right?e=e.trim():(this.config.strip_left&&(e=e.trimStart()),this.config.strip_right&&(e=e.trimEnd())),e}}class uf extends tf{normalize(e){return e=Hh(e)}}class lf extends tf{normalize(e){return e=e.toLowerCase()}}class cf extends tf{normalize(e){return e=this.config.prepend+e}}class df extends tf{constructor(e){super(e),this.normalizers=e.normalizers.map(e=>tf.fromConfig(e))}normalize(e){return this.normalizers.reduce((e,t)=>t.normalize(e),e)}}class hf extends tf{_tokenize_chinese_chars(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n],o=r.charCodeAt(0);this._is_chinese_char(o)?(t.push(" "),t.push(r),t.push(" ")):t.push(r)}return t.join("")}_is_chinese_char(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=63744&&e<=64255||e>=194560&&e<=195103}stripAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}_is_control(e){switch(e){case"\t":case"\n":case"\r":return!1;default:return/^[\0-\x1F\x7F-\x9F]|(?:[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F])|(?:[\uE000-\uF8FF]|[\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uDBBF\uDBFF][\uDC00-\uDFFD])|(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])$/.test(e)}}_clean_text(e){const t=[];for(const n of e){const e=n.charCodeAt(0);0===e||65533===e||this._is_control(n)||(/^\s$/.test(n)?t.push(" "):t.push(n))}return t.join("")}normalize(e){return this.config.clean_text&&(e=this._clean_text(e)),this.config.handle_chinese_chars&&(e=this._tokenize_chinese_chars(e)),this.config.lowercase?(e=e.toLowerCase(),!1!==this.config.strip_accents&&(e=this.stripAccents(e))):this.config.strip_accents&&(e=this.stripAccents(e)),e}}class ff extends Cc{static fromConfig(e){if(null===e)return null;switch(e.type){case"BertPreTokenizer":return new pf(e);case"Sequence":return new Rf(e);case"Whitespace":return new zf(e);case"WhitespaceSplit":return new Vf(e);case"Metaspace":return new Lf(e);case"ByteLevel":return new mf(e);case"Split":return new gf(e);case"Punctuation":return new yf(e);case"Digits":return new bf(e);case"Replace":return new Uf(e);default:throw new Error("Unknown PreTokenizer type: ".concat(e.type))}}pre_tokenize_text(e,t){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(e,t){return(Array.isArray(e)?e.map(e=>this.pre_tokenize_text(e,t)):this.pre_tokenize_text(e,t)).flat()}_call(e,t){return this.pre_tokenize(e,t)}}class pf extends ff{constructor(e){super(),this.pattern=new RegExp("[^\\s".concat(Wh,"]+|[").concat(Wh,"]"),"gu")}pre_tokenize_text(e,t){return e.trim().match(this.pattern)||[]}}class mf extends ff{constructor(e){var t;super(),this.config=e,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=null===(t=this.config.use_regex)||void 0===t||t,this.pattern=/'s|'t|'re|'ve|'m|'ll|'d| ?(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2\uDFF3]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])+| ?(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDD40-\uDD49\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDED0-\uDEE3\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59\uDFF0-\uDFF9]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDDE0-\uDDE9\uDF50-\uDF59\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD818[\uDD30-\uDD39]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDD70-\uDD79\uDE80-\uDE96\uDFF4-\uDFF6]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD839[\uDCF0-\uDCF9\uDDF1-\uDDFA]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])+| ?(?:[\0-\x08\x0E-\x1F!-\/:-@\[-`\{-\x9F\xA1-\xA9\xAB-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u065F\u066A-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07BF\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u086F\u0888\u0890-\u089F\u08CA-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0965\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09E5\u09F2\u09F3\u09FA\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A65\u0A70\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AE5\u0AF0-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B65\u0B70\u0B78-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0BE5\u0BF3-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B\u0C5E\u0C5F\u0C62-\u0C65\u0C70-\u0C77\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDB\u0CDF\u0CE2-\u0CE5\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57\u0D62-\u0D65\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DE5\u0DF0-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F1F\u0F34-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u104A-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u1368\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u1712-\u171E\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A17-\u1A1F\u1A55-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4D-\u1B4F\u1B5A-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BFF\u1C24-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C8B-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u206F\u2072\u2073\u207A-\u207E\u208A-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFC\u2CFE\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u2FFF\u3001-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u3191\u3196-\u319F\u31C0-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6F0-\uA716\uA720\uA721\uA789\uA78A\uA7DD-\uA7F0\uA802\uA806\uA80B\uA823-\uA82F\uA836-\uA83F\uA874-\uA881\uA8B4-\uA8CF\uA8DA-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9DA-\uA9DF\uA9E5\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD\uFEFE\uFF00-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEE0\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDBF\uDDF4-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC57\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1F\uDD3A-\uDD3F\uDD5A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE3F\uDE49-\uDE5F\uDE7F\uDEA0-\uDEBF\uDEC8\uDEE5-\uDEEA\uDEF0-\uDEFF\uDF36-\uDF3F\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD24-\uDD2F\uDD3A-\uDD3F\uDD66-\uDD6E\uDD86-\uDE5F\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEC1\uDEC8-\uDEFF\uDF28-\uDF2F\uDF46-\uDF50\uDF55-\uDF6F\uDF82-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC51\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDD02\uDD27-\uDD35\uDD40-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDCF\uDDDB\uDDDD-\uDDE0\uDDF5-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDEEF\uDEFA-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDF7F\uDF8A\uDF8C\uDF8D\uDF8F\uDFB6\uDFB8-\uDFD0\uDFD2\uDFD4-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC4F\uDC5A-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEBF\uDECA-\uDECF\uDEE4-\uDEFF\uDF1B-\uDF2F\uDF3C-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFBF\uDFE1-\uDFEF\uDFFA-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC4F\uDC6D-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDD9F\uDDAA-\uDDAF\uDDDC-\uDDDF\uDDEA-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDF4F\uDF5A-\uDFAF\uDFB1-\uDFBF\uDFD5-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD812-\uD817\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD836\uD83D\uD83F\uD87C\uD87D\uD87F\uD88E-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDC5F]|\uD810[\uDFFB-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD818[\uDC00-\uDCFF\uDD1E-\uDD2F\uDD3A-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6F\uDEBF\uDECA-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDD3F\uDD6D-\uDD6F\uDD7A-\uDE3F\uDE97-\uDE9F\uDEB9\uDEBA\uDED4-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFF1\uDFF7-\uDFFF]|\uD823[\uDCD6-\uDCFE\uDD1F-\uDD7F\uDDF3-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD833[\uDC00-\uDCEF\uDCFA-\uDFFF]|\uD834[\uDC00-\uDEBF\uDED4-\uDEDF\uDEF4-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDEEF\uDEFA-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDCEF\uDCFA-\uDDCF\uDDEE\uDDEF\uDDFB-\uDEBF\uDEDF\uDEE3\uDEE6\uDEEE\uDEEF\uDEF5-\uDEFD\uDF00-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD0-\uDCFF\uDD44-\uDD4A\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCAC\uDCB0\uDCB5-\uDD00\uDD2E\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEAE\uDEAF]|\uD87A[\uDFE1-\uDFEF]|\uD87B[\uDE5E-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD88D[\uDC7A-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+(?!(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g,this.byte_encoder=Qh,this.text_encoder=new TextEncoder}pre_tokenize_text(e,t){this.add_prefix_space&&!e.startsWith(" ")&&(e=" "+e);return(this.use_regex?e.match(this.pattern)||[]:[e]).map(e=>Array.from(this.text_encoder.encode(e),e=>this.byte_encoder[e]).join(""))}}class gf extends ff{constructor(e){super(),this.config=e,this.pattern=zh(this.config.pattern,this.config.invert)}pre_tokenize_text(e,t){return null===this.pattern?[]:this.config.invert?e.match(this.pattern)||[]:function(e,t){const n=[];let r=0;for(const o of e.matchAll(t)){const t=o[0];r<o.index&&n.push(e.slice(r,o.index)),t.length>0&&n.push(t),r=o.index+t.length}return r<e.length&&n.push(e.slice(r)),n}(e,this.pattern)}}class yf extends ff{constructor(e){super(),this.config=e,this.pattern=new RegExp("[^".concat(Wh,"]+|[").concat(Wh,"]+"),"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class bf extends ff{constructor(e){super(),this.config=e;const t="[^\\d]+|\\d".concat(this.config.individual_digits?"":"+");this.pattern=new RegExp(t,"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class vf extends Cc{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"TemplateProcessing":return new xf(e);case"ByteLevel":return new Df(e);case"RobertaProcessing":return new wf(e);case"BertProcessing":return new _f(e);case"Sequence":return new Ef(e);default:throw new Error("Unknown PostProcessor type: ".concat(e.type))}}post_process(e){throw Error("post_process should be implemented in subclass.")}_call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.post_process(e,...n)}}class _f extends vf{constructor(e){super(e),this.cls=e.cls[0],this.sep=e.sep[0]}post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n&&(e=Mc([this.cls],e,[this.sep]));let r=new Array(e.length).fill(0);if(null!==t){const o=n&&this instanceof wf?[this.sep]:[],i=n?[this.sep]:[];e=Mc(e,o,t,i),r=Mc(r,new Array(t.length+o.length+i.length).fill(1))}return{tokens:e,token_type_ids:r}}}class wf extends _f{}class xf extends vf{constructor(e){super(e),this.single=e.single,this.pair=e.pair}post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=null===t?this.single:this.pair;let o=[],i=[];for(const a of r)"SpecialToken"in a?n&&(o.push(a.SpecialToken.id),i.push(a.SpecialToken.type_id)):"Sequence"in a&&("A"===a.Sequence.id?(o=Mc(o,e),i=Mc(i,new Array(e.length).fill(a.Sequence.type_id))):"B"===a.Sequence.id&&(o=Mc(o,t),i=Mc(i,new Array(t.length).fill(a.Sequence.type_id))));return{tokens:o,token_type_ids:i}}}class Df extends vf{post_process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t&&(e=Mc(e,t)),{tokens:e}}}class Ef extends vf{constructor(e){super(e),this.processors=e.processors.map(e=>vf.fromConfig(e))}post_process(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const o of this.processors)if(o instanceof Df){if(e=o.post_process(e).tokens,n){n=o.post_process(n).tokens}}else{const i=o.post_process(e,n,r);e=i.tokens,t=i.token_type_ids}return{tokens:e,token_type_ids:t}}}class Sf extends Cc{constructor(e){super(),this.config=e,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=e.trim_offsets}static fromConfig(e){if(null===e)return null;switch(e.type){case"WordPiece":return new Cf(e);case"Metaspace":return new jf(e);case"ByteLevel":return new Of(e);case"Replace":return new Tf(e);case"ByteFallback":return new Af(e);case"Fuse":return new kf(e);case"Strip":return new Ff(e);case"Sequence":return new If(e);case"CTC":return new Pf(e);case"BPEDecoder":return new Mf(e);default:throw new Error("Unknown Decoder type: ".concat(e.type))}}_call(e){return this.decode(e)}decode(e){return this.decode_chain(e).join("")}decode_chain(e){throw Error("`decode_chain` should be implemented in subclass.")}}class Tf extends Sf{decode_chain(e){const t=zh(this.config.pattern);return null===t?e:e.map(e=>e.replaceAll(t,this.config.content))}}class Af extends Sf{constructor(e){super(e),this.text_decoder=new TextDecoder}decode_chain(e){const t=[];let n=[];for(const r of e){let e=null;if(6===r.length&&r.startsWith("<0x")&&r.endsWith(">")){const t=parseInt(r.slice(3,5),16);isNaN(t)||(e=t)}if(null!==e)n.push(e);else{if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}t.push(r)}}if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}return t}}class kf extends Sf{decode_chain(e){return[e.join("")]}}class Ff extends Sf{constructor(e){super(e),this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(e){return e.map(e=>{let t=0;for(let r=0;r<this.start&&e[r]===this.content;++r)t=r+1;let n=e.length;for(let r=0;r<this.stop;++r){const t=e.length-r-1;if(e[t]!==this.content)break;n=t}return e.slice(t,n)})}}class Cf extends Sf{constructor(e){super(e),this.cleanup=e.cleanup}decode_chain(e){return e.map((e,t)=>(0!==t&&(e=e.startsWith(this.config.prefix)?e.replace(this.config.prefix,""):" "+e),this.cleanup&&(e=Gh(e)),e))}}class Of extends Sf{constructor(e){super(e),this.byte_decoder=Zh,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(e){const t=e.join(""),n=new Uint8Array([...t].map(e=>this.byte_decoder[e]));return this.text_decoder.decode(n)}decode_chain(e){const t=[];let n=[];for(const r of e)void 0!==this.added_tokens.find(e=>e.content===r)?(n.length>0&&(t.push(this.convert_tokens_to_string(n)),n=[]),t.push(r)):n.push(r);return n.length>0&&t.push(this.convert_tokens_to_string(n)),t}}class Pf extends Sf{constructor(e){super(e),this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(e){if(0===e.length)return"";const t=[e[0]];for(let r=1;r<e.length;++r)e[r]!==t.at(-1)&&t.push(e[r]);let n=t.filter(e=>e!==this.pad_token).join("");return this.cleanup&&(n=Gh(n).replaceAll(this.word_delimiter_token," ").trim()),n}decode_chain(e){return[this.convert_tokens_to_string(e)]}}class If extends Sf{constructor(e){super(e),this.decoders=e.decoders.map(e=>Sf.fromConfig(e))}decode_chain(e){return this.decoders.reduce((e,t)=>t.decode_chain(e),e)}}class Mf extends Sf{constructor(e){super(e),this.suffix=this.config.suffix}decode_chain(e){return e.map((t,n)=>t.replaceAll(this.suffix,n===e.length-1?"":" "))}}class Nf extends Sf{decode_chain(e){let t="";for(let n=1;n<e.length;n+=2)t+=e[n];return[t]}}class Lf extends ff{constructor(e){var t;super(),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement,this.strRep=e.str_rep||this.replacement,this.prepend_scheme=null!==(t=e.prepend_scheme)&&void 0!==t?t:"always"}pre_tokenize_text(e){let{section_index:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replaceAll(" ",this.strRep);return this.addPrefixSpace&&!n.startsWith(this.replacement)&&("always"===this.prepend_scheme||"first"===this.prepend_scheme&&0===t)&&(n=this.strRep+n),[n]}}class jf extends Sf{constructor(e){super(e),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement}decode_chain(e){const t=[];for(let n=0;n<e.length;++n){let r=e[n].replaceAll(this.replacement," ");this.addPrefixSpace&&0==n&&r.startsWith(" ")&&(r=r.substring(1)),t.push(r)}return t}}class Bf extends tf{constructor(e){super(e),this.charsmap=e.precompiled_charsmap}normalize(e){if((e=(e=e.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,"")).replace(/[\u0009\u000A\u000C\u000D\u1680\u200B\u200C\u200E\u200F\u2028\u2029\u2581\uFEFF\uFFFD]/gm," ")).includes("\uff5e")){const t=e.split("\uff5e");e=t.map(e=>e.normalize("NFKC")).join("\uff5e")}else e=e.normalize("NFKC");return e}}class Rf extends ff{constructor(e){super(),this.tokenizers=e.pretokenizers.map(e=>ff.fromConfig(e))}pre_tokenize_text(e,t){return this.tokenizers.reduce((e,n)=>n.pre_tokenize(e,t),[e])}}class zf extends ff{constructor(e){super()}pre_tokenize_text(e,t){return e.match(/\w+|[^\w\s]+/g)||[]}}class Vf extends ff{constructor(e){super()}pre_tokenize_text(e,t){return function(e){return e.match(/\S+/g)||[]}(e)}}class Uf extends ff{constructor(e){super(),this.config=e,this.pattern=zh(this.config.pattern),this.content=this.config.content}pre_tokenize_text(e,t){return null===this.pattern?[e]:[e.replaceAll(this.pattern,this.config.content)]}}const Gf=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function Hf(e,t,n,r){for(const o of Object.keys(e)){const i=t-e[o].length,a=n(o),s=new Array(i).fill(a);e[o]="right"===r?Mc(e[o],s):Mc(s,e[o])}}function Wf(e,t){for(const n of Object.keys(e))e[n].length=t}class qf extends Cc{constructor(e,t){var n,r,o,i;super(),a(this,"return_token_type_ids",!1),a(this,"_default_chat_template","{% for message in messages %}{{'<|im_start|>' + message['role'] + '\n' + message['content'] + '<|im_end|>' + '\n'}}{% endfor %}{% if add_generation_prompt %}{{ '<|im_start|>assistant\n' }}{% endif %}"),this._tokenizer_config=t,this.normalizer=tf.fromConfig(e.normalizer),this.pre_tokenizer=ff.fromConfig(e.pre_tokenizer),this.model=Yh.fromConfig(e.model,t),this.post_processor=vf.fromConfig(e.post_processor),this.decoder=Sf.fromConfig(e.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(const a of e.added_tokens){const e=new Xh(a);this.added_tokens.push(e),this.model.tokens_to_ids.set(e.content,e.id),this.model.vocab[e.id]=e.content,e.special&&(this.special_tokens.push(e.content),this.all_special_ids.push(e.id))}if(this.additional_special_tokens=null!==(n=t.additional_special_tokens)&&void 0!==n?n:[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder&&(this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix),this.added_tokens_regex=this.added_tokens.length>0?new RegExp(this.added_tokens.map(e=>"".concat(e.lstrip?"\\s*":"","(").concat(Fc(e.content),")").concat(e.rstrip?"\\s*":"")).join("|")):null,this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.model_max_length=t.model_max_length,this.remove_space=t.remove_space,this.clean_up_tokenization_spaces=null===(r=t.clean_up_tokenization_spaces)||void 0===r||r,this.do_lowercase_and_remove_accent=null!==(o=t.do_lowercase_and_remove_accent)&&void 0!==o&&o,this.padding_side="right",this.legacy=!1,this.chat_template=null!==(i=t.chat_template)&&void 0!==i?i:null,Array.isArray(this.chat_template)){const e=Object.create(null);for(const{name:t,template:n}of this.chat_template){if("string"!==typeof t||"string"!==typeof n)throw new Error('Chat template must be a list of objects with "name" and "template" properties');e[t]=n}this.chat_template=e}this._compiled_template_cache=new Map}getToken(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t){const e=this._tokenizer_config[r];if(e){if("object"===typeof e){if("AddedToken"===e.__type)return e.content;throw Error("Unknown token: ".concat(e))}return e}}return null}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:o=!1,revision:i="main",legacy:a=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this(...await Rh(e,{progress_callback:t,config:n,cache_dir:r,local_files_only:o,revision:i,legacy:a}))}_call(e){let{text_pair:t=null,add_special_tokens:n=!0,padding:r=!1,truncation:o=null,max_length:i=null,return_tensor:a=!0,return_token_type_ids:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=Array.isArray(e);let l;if(u){if(0===e.length)throw Error("text array must be non-empty");if(null!==t){if(!Array.isArray(t))throw Error("text_pair must also be an array");if(e.length!==t.length)throw Error("text and text_pair must have the same length");l=e.map((e,r)=>this._encode_plus(e,t[r],{add_special_tokens:n,return_token_type_ids:s}))}else l=e.map(e=>this._encode_plus(e,null,{add_special_tokens:n,return_token_type_ids:s}))}else{if(null===e||void 0===e)throw Error("text may not be null or undefined");if(Array.isArray(t))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");l=[this._encode_plus(e,t,{add_special_tokens:n,return_token_type_ids:s})]}if(null===i?i="max_length"===r?this.model_max_length:_d(l.map(e=>e.input_ids.length))[0]:o||console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation=true` to explicitly truncate examples to max length."),i=Math.min(i,this.model_max_length),r||o)for(let d=0;d<l.length;++d)l[d].input_ids.length!==i&&(l[d].input_ids.length>i?o&&Wf(l[d],i):r&&Hf(l[d],i,e=>"input_ids"===e?this.pad_token_id:0,this.padding_side));const c={};if(a){if((!r||!o)&&l.some(e=>{for(const n of Object.keys(e)){var t;if(e[n].length!==(null===(t=l[0][n])||void 0===t?void 0:t.length))return!0}return!1}))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.");const e=[l.length,l[0].input_ids.length];for(const t of Object.keys(l[0]))c[t]=new Fd("int64",BigInt64Array.from(l.flatMap(e=>e[t]).map(BigInt)),e)}else{for(const e of Object.keys(l[0]))c[e]=l.map(t=>t[e]);if(!u)for(const e of Object.keys(c))c[e]=c[e][0]}return c}_encode_text(e){if(null===e)return null;const t=(this.added_tokens_regex?e.split(this.added_tokens_regex).filter(e=>e):[e]).map((e,t)=>{if(void 0!==this.added_tokens.find(t=>t.content===e))return e;{if(!0===this.remove_space&&(e=e.trim().split(/\s+/).join(" ")),this.do_lowercase_and_remove_accent&&(e=function(e){return Hh(e.toLowerCase())}(e)),null!==this.normalizer&&(e=this.normalizer(e)),0===e.length)return[];const n=null!==this.pre_tokenizer?this.pre_tokenizer(e,{section_index:t}):[e];return this.model(n)}}).flat();return t}_encode_plus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0,return_token_type_ids:r=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=this._encode_text(e),i=this._encode_text(t),a=this.post_processor?this.post_processor(o,i,{add_special_tokens:n}):{tokens:Mc(null!==o&&void 0!==o?o:[],null!==i&&void 0!==i?i:[])},s=this.model.convert_tokens_to_ids(a.tokens),u={input_ids:s,attention_mask:new Array(s.length).fill(1)};return(null!==r&&void 0!==r?r:this.return_token_type_ids)&&a.token_type_ids&&(u.token_type_ids=a.token_type_ids),u}encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{add_special_tokens:n=!0,return_token_type_ids:r=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{input_ids:o}=this._encode_plus(e,t,{add_special_tokens:n,return_token_type_ids:r});return o}batch_decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof Fd&&(e=e.tolist()),e.map(e=>this.decode(e,t))}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof Fd&&(e=Uh(e)),!Array.isArray(e)||0===e.length||!Oc(e[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(e,t)}decode_single(e,t){let{skip_special_tokens:n=!1,clean_up_tokenization_spaces:r=null}=t,o=this.model.convert_ids_to_tokens(e);n&&(o=o.filter(e=>!this.special_tokens.includes(e)));let i=this.decoder?this.decoder(o):o.join(" ");return this.decoder&&this.decoder.end_of_word_suffix&&(i=i.replaceAll(this.decoder.end_of_word_suffix," "),n&&(i=i.trim())),(null!==r&&void 0!==r?r:this.clean_up_tokenization_spaces)&&(i=Gh(i)),i}get default_chat_template(){return this._warned_about_chat_template||(console.warn("No chat template is defined for this tokenizer - using a default chat template that implements the ChatML format. If the default is not appropriate for your model, please set `tokenizer.chat_template` to an appropriate template. See https://huggingface.co/docs/transformers/main/chat_templating for more information."),this._warned_about_chat_template=!0),this._default_chat_template}apply_chat_template(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{chat_template:n=null,add_generation_prompt:o=!1,tokenize:i=!0,padding:a=!1,truncation:s=!1,max_length:l=null,return_tensor:c=!0,tokenizer_kwargs:d={}}=t,h=r(t,Bh);if(this.chat_template&&"object"===typeof this.chat_template||null===this.chat_template&&this.default_chat_template&&"object"===typeof this.default_chat_template){var f;const e=null!==(f=this.chat_template)&&void 0!==f?f:this.default_chat_template;if(null!==n&&Object.hasOwn(e,n))n=e[n];else if(null===n&&"default"in e)n=e.default;else if(null===n)throw Error("This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available "+"template names are ".concat(Object.keys(e).sort(),"."))}else{var p;null!==n&&void 0!==n||(n=null!==(p=this.chat_template)&&void 0!==p?p:this.default_chat_template)}if("string"!==typeof n)throw Error("chat_template must be a string, but got ".concat(typeof n));let m=this._compiled_template_cache.get(n);void 0===m&&(m=new jh(n),this._compiled_template_cache.set(n,m));const g=Object.create(null);for(const r of Gf){const e=this.getToken(r);e&&(g[r]=e)}const y=m.render(u(u({messages:e,add_generation_prompt:o},g),h));return i?this._call(y,u({add_special_tokens:!1,padding:a,truncation:s,max_length:l,return_tensor:c},d)).input_ids:y}}class Xf extends qf{constructor(){super(...arguments),a(this,"_default_chat_template",'{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}')}}class Yf extends qf{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter(e=>this.languageRegex.test(e)),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return Qf(this,e,t,n)}}const Kf="\u2581";class $f extends qf{constructor(e,t){var n,r;super(e,t),a(this,"_default_chat_template","{% if messages[0]['role'] == 'system' %}{% set loop_messages = messages[1:] %}{% set system_message = messages[0]['content'] %}{% elif USE_DEFAULT_PROMPT == true and not '<<SYS>>' in messages[0]['content'] %}{% set loop_messages = messages %}{% set system_message = 'DEFAULT_SYSTEM_MESSAGE' %}{% else %}{% set loop_messages = messages %}{% set system_message = false %}{% endif %}{% for message in loop_messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if loop.index0 == 0 and system_message != false %}{% set content = '<<SYS>>\n' + system_message + '\n<</SYS>>\n\n' + message['content'] %}{% else %}{% set content = message['content'] %}{% endif %}{% if message['role'] == 'user' %}{{ bos_token + '[INST] ' + content.strip() + ' [/INST]' }}{% elif message['role'] == 'system' %}{{ '<<SYS>>\n' + content.strip() + '\n<</SYS>>\n\n' }}{% elif message['role'] == 'assistant' %}{{ ' '  + content.strip() + ' ' + eos_token }}{% endif %}{% endfor %}"),a(this,"DEFAULT_SYSTEM_PROMPT","You are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.\n\nIf a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information."),this.use_default_system_prompt=null!==(n=t.use_default_system_prompt)&&void 0!==n&&n,this.legacy=null===(r=t.legacy)||void 0===r||r,this.legacy||(this.normalizer=null,this.pre_tokenizer=new Lf({replacement:Kf,add_prefix_space:!0,prepend_scheme:"first"}))}_encode_text(e){if(null===e)return null;if(this.legacy||0===e.length)return super._encode_text(e);let t=super._encode_text(Kf+e.replaceAll(Kf," "));return t.length>1&&t[0]===Kf&&this.special_tokens.includes(t[1])&&(t=t.slice(1)),t}get default_chat_template(){return super.default_chat_template.replaceAll("USE_DEFAULT_PROMPT",this.use_default_system_prompt?"true":"false").replaceAll("DEFAULT_SYSTEM_MESSAGE",this.DEFAULT_SYSTEM_PROMPT.replaceAll("\n","\\n").replaceAll("'","\\'"))}}function Qf(e,t,n,r){if(!("language_codes"in e)||!Array.isArray(e.language_codes))throw new Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in e)||!(e.languageRegex instanceof RegExp))throw new Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in e)||"function"!==typeof e.lang_to_token)throw new Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");const o=r.src_lang,i=r.tgt_lang;if(!e.language_codes.includes(i))throw new Error('Target language code "'.concat(i,'" is not valid. Must be one of: {').concat(e.language_codes.join(", "),"}"));if(void 0!==o){if(!e.language_codes.includes(o))throw new Error('Source language code "'.concat(o,'" is not valid. Must be one of: {').concat(e.language_codes.join(", "),"}"));for(const t of e.post_processor.config.single)if("SpecialToken"in t&&e.languageRegex.test(t.SpecialToken.id)){t.SpecialToken.id=e.lang_to_token(o);break}}return r.forced_bos_token_id=e.model.convert_tokens_to_ids([e.lang_to_token(i)])[0],e._call(t,n)}const Zf=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],Jf=new Map(Zf),ep=new Map([...Zf.map(e=>{let[t,n]=e;return[n,t]}),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);class tp extends qf{constructor(){super(...arguments),a(this,"_default_chat_template","{% for message in messages %}{% if message['role'] == 'user' %}{{ ' ' }}{% endif %}{{ message['content'] }}{% if not loop.last %}{{ '  ' }}{% endif %}{% endfor %}{{ eos_token }}")}}class np{static async from_pretrained(e){var t,n;let{quantized:r=!0,progress_callback:o=null,config:i=null,cache_dir:a=null,local_files_only:s=!1,revision:u="main",legacy:l=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[c,d]=await Rh(e,{quantized:r,progress_callback:o,config:i,cache_dir:a,local_files_only:s,revision:u,legacy:l}),h=null!==(t=null===(n=d.tokenizer_class)||void 0===n?void 0:n.replace(/Fast$/,""))&&void 0!==t?t:"PreTrainedTokenizer";let f=this.TOKENIZER_CLASS_MAPPING[h];return f||(console.warn('Unknown tokenizer class "'.concat(h,'", attempting to construct from base class.')),f=qf),new f(c,d)}}a(np,"TOKENIZER_CLASS_MAPPING",{T5Tokenizer:class extends qf{},DistilBertTokenizer:class extends qf{},CamembertTokenizer:class extends qf{},DebertaTokenizer:class extends qf{constructor(){super(...arguments),a(this,"return_token_type_ids",!0)}},DebertaV2Tokenizer:class extends qf{constructor(){super(...arguments),a(this,"return_token_type_ids",!0)}},BertTokenizer:class extends qf{constructor(){super(...arguments),a(this,"return_token_type_ids",!0)}},HerbertTokenizer:class extends qf{constructor(){super(...arguments),a(this,"return_token_type_ids",!0)}},ConvBertTokenizer:class extends qf{constructor(){super(...arguments),a(this,"return_token_type_ids",!0)}},RoFormerTokenizer:class extends qf{constructor(){super(...arguments),a(this,"return_token_type_ids",!0)}},XLMTokenizer:class extends qf{constructor(e,t){super(e,t),a(this,"return_token_type_ids",!0),console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}},ElectraTokenizer:class extends qf{constructor(){super(...arguments),a(this,"return_token_type_ids",!0)}},MobileBertTokenizer:class extends qf{constructor(){super(...arguments),a(this,"return_token_type_ids",!0)}},SqueezeBertTokenizer:class extends qf{constructor(){super(...arguments),a(this,"return_token_type_ids",!0)}},AlbertTokenizer:class extends qf{constructor(){super(...arguments),a(this,"return_token_type_ids",!0)}},GPT2Tokenizer:Xf,BartTokenizer:class extends qf{},MBartTokenizer:Yf,MBart50Tokenizer:class extends Yf{},RobertaTokenizer:class extends qf{},WhisperTokenizer:class extends qf{constructor(){super(...arguments),a(this,"_default_chat_template",'{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}')}_decode_asr(e){let{return_timestamps:t=!1,return_language:n=!1,time_precision:r=null,force_full_sequences:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)throw Error("Must specify time_precision");let i=null;const a="word"===t;function s(){return{language:i,timestamp:[null,null],text:""}}const u=[];let l=s(),c=0;const d=this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1;let h=[],f=[],p=!1,m=null;const g=new Set(this.all_special_ids);for(const v of e){const e=v.tokens,n=a?v.token_timestamps:null;let o=null,y=d;if("stride"in v){const[t,n,i]=v.stride;if(c-=n,m=t-i,n&&(y=n/r+d),i)for(let a=e.length-1;a>=0;--a){const t=e[a];if(t>=d){if(null!==o&&(t-d)*r<m)break;o=t}}}let b=[],_=[];for(let m=0;m<e.length;++m){const v=e[m];if(g.has(v)){const e=this.decode([v]),n=Jf.get(e.slice(2,-2));if(void 0!==n){if(null!==i&&n!==i&&!t){h.push(b);const e=this.findLongestCommonSequence(h)[0],t=this.decode(e);l.text=t,u.push(l),h=[],b=[],l=s()}i=l.language=n}}else if(v>=d){const e=Td((v-d)*r+c,2);if(null!==o&&v>=o)p=!0;else if(p||h.length>0&&v<y)p=!1;else if(null===l.timestamp[0])l.timestamp[0]=e;else if(e===l.timestamp[0]);else{l.timestamp[1]=e,h.push(b),a&&f.push(_);const[t,n]=this.findLongestCommonSequence(h,f),r=this.decode(t);l.text=r,a&&(l.words=this.collateWordTimestamps(t,n,i)),u.push(l),h=[],b=[],f=[],_=[],l=s()}}else if(b.push(v),a){let e,t=Td(n[m]+c,2);e=m+1<n.length?Td(n[m+1]+c,2):null,_.push([t,e])}}if("stride"in v){const[e,t,n]=v.stride;c+=e-n}b.length>0?(h.push(b),a&&f.push(_)):h.every(e=>0===e.length)&&(l=s(),h=[],b=[],f=[],_=[])}if(h.length>0){if(o&&t)throw new Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");const[e,n]=this.findLongestCommonSequence(h,f),r=this.decode(e);l.text=r,a&&(l.words=this.collateWordTimestamps(e,n,i)),u.push(l)}let y=Object.create(null);const b=u.map(e=>e.text).join("");if(t||n){for(let e=0;e<u.length;++e){const r=u[e];t||delete r.timestamp,n||delete r.language}if(a){const e=[];for(const t of u)for(const n of t.words)e.push(n);y={chunks:e}}else y={chunks:u}}return[b,y]}findLongestCommonSequence(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e[0],r=n.length,o=[];const i=Array.isArray(t)&&t.length>0;let a=i?[]:null,s=i?t[0]:null;for(let u=1;u<e.length;++u){const l=e[u];let c=0,d=[r,r,0,0];const h=l.length;for(let e=1;e<r+h;++e){const t=e/1e4,o=Math.max(0,r-e),i=Math.min(r,r+h-e),a=n.slice(o,i),s=Math.max(0,e-r),u=Math.min(h,e),f=l.slice(s,u);if(a.length!==f.length)throw new Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");const p=a.filter((e,t)=>e===f[t]).length,m=p/e+t;p>1&&m>c&&(c=m,d=[o,i,s,u])}const[f,p,m,g]=d,y=Math.floor((p+f)/2),b=Math.floor((g+m)/2);o.push(...n.slice(0,y)),n=l.slice(b),r=n.length,i&&(a.push(...s.slice(0,y)),s=t[u].slice(b))}return o.push(...n),i?(a.push(...s),[o,a]):[o,[]]}collateWordTimestamps(e,t,n){const[r,o,i]=this.combineTokensIntoWords(e,n),a=[];for(let s=0;s<r.length;++s){const e=i[s];a.push({text:r[s],timestamp:[t[e.at(0)][0],t[e.at(-1)][1]]})}return a}combineTokensIntoWords(e,t){let n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\"'\u201c\xa1\xbf([{-",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\"'.\u3002,\uff0c!\uff01?\uff1f:\uff1a\u201d)]}\u3001";return["chinese","japanese","thai","lao","myanmar"].includes(t=null!==t&&void 0!==t?t:"english")?[n,r,o]=this.splitTokensOnUnicode(e):[n,r,o]=this.splitTokensOnSpaces(e),this.mergePunctuations(n,r,o,i,a)}decode(e,t){let n;return t&&t.decode_with_timestamps?(e instanceof Fd&&(e=Uh(e)),n=this.decodeWithTimestamps(e,t)):n=super.decode(e,t),n}decodeWithTimestamps(e,t){var n;const r=null!==(n=null===t||void 0===t?void 0:t.time_precision)&&void 0!==n?n:.02,o=Array.from(this.all_special_ids).at(-1)+1;let i=[[]];for(const a of e)if(a>=o){const e=Td((a-o)*r,2);i.push("<|".concat(e,"|>")),i.push([])}else i[i.length-1].push(a);return i=i.map(e=>"string"===typeof e?e:super.decode(e,t)),i.join("")}splitTokensOnUnicode(e){const t=this.decode(e,{decode_with_timestamps:!0}),n=[],r=[],o=[];let i=[],a=[],s=0;for(let u=0;u<e.length;++u){const l=e[u];i.push(l),a.push(u);const c=this.decode(i,{decode_with_timestamps:!0});c.includes("\ufffd")&&"\ufffd"!==t[s+c.indexOf("\ufffd")]||(n.push(c),r.push(i),o.push(a),i=[],a=[],s+=c.length)}return[n,r,o]}splitTokensOnSpaces(e){const[t,n,r]=this.splitTokensOnUnicode(e),o=[],i=[],a=[],s=new RegExp("^[".concat(Wh,"]$"),"gu");for(let u=0;u<t.length;++u){const e=t[u],l=n[u],c=r[u],d=l[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),h=e.startsWith(" "),f=e.trim(),p=s.test(f);if(d||h||p||0===o.length)o.push(e),i.push(l),a.push(c);else{const t=o.length-1;o[t]+=e,i[t].push(...l),a[t].push(...c)}}return[o,i,a]}mergePunctuations(e,t,n,r,o){const i=structuredClone(e),a=structuredClone(t),s=structuredClone(n);let u=i.length-2,l=i.length-1;for(;u>=0;)i[u].startsWith(" ")&&r.includes(i[u].trim())?(i[l]=i[u]+i[l],a[l]=Mc(a[u],a[l]),s[l]=Mc(s[u],s[l]),i[u]="",a[u]=[],s[u]=[]):l=u,--u;for(u=0,l=1;l<i.length;)!i[u].endsWith(" ")&&o.includes(i[l])?(i[u]+=i[l],a[u]=Mc(a[u],a[l]),s[u]=Mc(s[u],s[l]),i[l]="",a[l]=[],s[l]=[]):u=l,++l;return[i.filter(e=>e),a.filter(e=>e.length>0),s.filter(e=>e.length>0)]}get_decoder_prompt_ids(){let{language:e=null,task:t=null,no_timestamps:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=[];if(e){e=e.toLowerCase();let t=ep.get(e);if(void 0===t){if(!Jf.has(e)){const t=2===e.length?Jf.keys():Jf.values();throw new Error('Language "'.concat(e,'" is not supported. Must be one of: ').concat(JSON.stringify(t)))}t=e}const n=this.model.tokens_to_ids.get("<|".concat(t,"|>"));if(void 0===n)throw new Error('Unable to find language "'.concat(t,'" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.'));r.push(n)}else r.push(null);if(t){if(t=t.toLowerCase(),"transcribe"!==t&&"translate"!==t)throw new Error('Task "'.concat(t,'" is not supported. Must be one of: ["transcribe", "translate"]'));const e=this.model.tokens_to_ids.get("<|".concat(t,"|>"));if(void 0===e)throw new Error('Unable to find task "'.concat(t,'" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.'));r.push(e)}else r.push(null);if(n){const e=this.model.tokens_to_ids.get("<|notimestamps|>");if(void 0===e)throw new Error('Unable to find "<|notimestamps|>" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.');r.push(e)}return r.map((e,t)=>[t+1,e]).filter(e=>null!==e[1])}},CodeGenTokenizer:class extends qf{},CLIPTokenizer:class extends qf{},SiglipTokenizer:class extends qf{},MarianTokenizer:class extends qf{constructor(e,t){super(e,t),this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter(e=>this.languageRegex.test(e)),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(e){if(null===e)return null;const[t,...n]=e.trim().split(this.languageRegex);if(0===n.length)return super._encode_text(t);if(2===n.length){const[e,t]=n;return this.supported_language_codes.includes(e)||console.warn('Unsupported language code "'.concat(e,'" detected, which may lead to unexpected behavior. Should be one of: ').concat(JSON.stringify(this.supported_language_codes))),Mc([e],super._encode_text(t))}}},BloomTokenizer:class extends Xf{constructor(e,t){var n;const r=".,!?\u2026\u3002\uff0c\u3001\u0964\u06d4\u060c",o=null===(n=e.pre_tokenizer)||void 0===n||null===(n=n.pretokenizers[0])||void 0===n?void 0:n.pattern;o&&o.Regex===" ?[^(\\s|[".concat(r,"])]+")&&(o.Regex=" ?[^\\s".concat(r,"]+")),super(e,t)}},NllbTokenizer:class extends qf{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter(e=>this.languageRegex.test(e)),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return Qf(this,e,t,n)}},M2M100Tokenizer:class extends qf{constructor(e,t){super(e,t),this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter(e=>this.languageRegex.test(e)).map(e=>e.slice(2,-2)),this.lang_to_token=e=>"__".concat(e,"__")}_build_translation_inputs(e,t,n){return Qf(this,e,t,n)}},LlamaTokenizer:$f,CodeLlamaTokenizer:class extends $f{},XLMRobertaTokenizer:class extends qf{},MPNetTokenizer:class extends qf{},FalconTokenizer:class extends qf{},GPTNeoXTokenizer:class extends qf{},EsmTokenizer:class extends qf{},Wav2Vec2CTCTokenizer:class extends qf{},BlenderbotTokenizer:tp,BlenderbotSmallTokenizer:class extends tp{},SpeechT5Tokenizer:class extends qf{},NougatTokenizer:class extends qf{},VitsTokenizer:class extends qf{constructor(e,t){super(e,t),this.decoder=new Nf({})}},Qwen2Tokenizer:class extends qf{},GemmaTokenizer:class extends qf{constructor(){super(...arguments),a(this,"_default_chat_template","{% if messages[0]['role'] == 'system' %}{{ raise_exception('System role not supported') }}{% endif %}{% for message in messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if (message['role'] == 'assistant') %}{% set role = 'model' %}{% else %}{% set role = message['role'] %}{% endif %}{{ '<start_of_turn>' + role + '\n' + message['content'] | trim + '<end_of_turn>\n' }}{% endfor %}{% if add_generation_prompt %}{{'<start_of_turn>model\n'}}{% endif %}")}},Grok1Tokenizer:class extends qf{},CohereTokenizer:class extends qf{},PreTrainedTokenizer:qf});class rp{constructor(e){this.model_type=null,this.is_encoder_decoder=!1,Object.assign(this,e)}static async from_pretrained(e){let{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:o=!1,revision:i="main"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null!==n&&void 0!==n?n:await async function(e,t){return await md(e,"config.json",!0,t)}(e,{progress_callback:t,config:n,cache_dir:r,local_files_only:o,revision:i});return new this(a)}}class op{static async from_pretrained(){return rp.from_pretrained(...arguments)}}class ip extends Cc{constructor(){super(),this.processors=[]}push(e){this.processors.push(e)}extend(e){this.processors.push(...e)}_call(e,t){for(let n of t)this.processors.forEach(t=>t(e,n))}[Symbol.iterator](){return this.processors.values()}}class ap extends Cc{_call(e,t){throw Error("`_call` should be implemented in a subclass")}}class sp extends ap{constructor(e){super(),this.force_token_map=Object.fromEntries(null!==e&&void 0!==e?e:[])}_call(e,t){let n=this.force_token_map[e.length];var r;return void 0!==(r=n)&&null!==r&&(t.data.fill(-1/0),t.data[n]=0),t}}class up extends ap{constructor(e){super(),this.bos_token_id=e}_call(e,t){return 1===e.length&&(t.data.fill(-1/0),t.data[this.bos_token_id]=0),t}}class lp extends ap{constructor(e,t){super(),this.max_length=e,this.forced_eos_token_id=t}_call(e,t){}}class cp extends ap{constructor(e,t){super(),this.begin_suppress_tokens=e,this.begin_index=t}_call(e,t){if(e.length===this.begin_index)for(let n of this.begin_suppress_tokens)t.data[n]=-1/0;return t}}class dp extends ap{constructor(e){super(),this.eos_token_id=e.eos_token_id,this.no_timestamps_token_id=e.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=(e.forced_decoder_ids||[]).length+2,e.forced_decoder_ids.slice(-1)[0][1]===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=e.max_initial_timestamp_index}_call(e,t){const n=t.data;if(n[this.no_timestamps_token_id]=-1/0,e.length===this.begin_index-1)return n.fill(-1/0),n[this.timestamp_begin]=0,t;const r=e.slice(this.begin_index),o=r.length>=1&&r[r.length-1]>=this.timestamp_begin,i=r.length<2||r[r.length-2]>=this.timestamp_begin;if(o&&(i?n.subarray(this.timestamp_begin).fill(-1/0):n.subarray(0,this.eos_token_id).fill(-1/0)),e.length===this.begin_index&&null!==this.max_initial_timestamp_index){const e=this.timestamp_begin+this.max_initial_timestamp_index;n.subarray(e+1).fill(-1/0)}const a=yd(n).map(e=>Math.log(e));return Math.log(a.subarray(this.timestamp_begin).map(Math.exp).reduce((e,t)=>e+t))>_d(a.subarray(0,this.timestamp_begin))[0]&&n.subarray(0,this.timestamp_begin).fill(-1/0),t}}class hp extends ap{constructor(e){super(),this.no_repeat_ngram_size=e}getNgrams(e){const t=e.length,n=[];for(let i=0;i<t+1-this.no_repeat_ngram_size;++i){const t=[];for(let n=0;n<this.no_repeat_ngram_size;++n)t.push(e[i+n]);n.push(t)}const r=new Map;for(const i of n){var o;const e=i.slice(0,i.length-1),t=JSON.stringify(e),n=null!==(o=r.get(t))&&void 0!==o?o:[];n.push(i[i.length-1]),r.set(t,n)}return r}getGeneratedNgrams(e,t){var n;const r=t.slice(t.length+1-this.no_repeat_ngram_size,t.length);return null!==(n=e.get(JSON.stringify(r)))&&void 0!==n?n:[]}calcBannedNgramTokens(e){const t=[];if(e.length+1<this.no_repeat_ngram_size)return t;{const t=this.getNgrams(e);return this.getGeneratedNgrams(t,e)}}_call(e,t){const n=this.calcBannedNgramTokens(e);for(const r of n)t.data[r]=-1/0;return t}}class fp extends ap{constructor(e){super(),this.penalty=e}_call(e,t){for(const n of e)t.data[n]<0?t.data[n]*=this.penalty:t.data[n]/=this.penalty;return t}}class pp extends ap{constructor(e,t){super(),this.min_length=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){if(e.length<this.min_length)for(const n of this.eos_token_id)t.data[n]=-1/0;return t}}class mp extends ap{constructor(e,t,n){super(),this.prompt_length_to_skip=e,this.min_new_tokens=t,this.eos_token_id=Array.isArray(n)?n:[n]}_call(e,t){if(e.length-this.prompt_length_to_skip<this.min_new_tokens)for(const n of this.eos_token_id)t.data[n]=-1/0;return t}}class gp extends ap{constructor(e,t){super(),this.bad_words_ids=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(const n of this.bad_words_ids){let r=!0;for(let t=1;t<=n.length-1&&n.length<e.length;++t)if(n.at(-t-1)!==e.at(-t)){r=!1;break}r&&(t.data[n.at(-1)]=-1/0)}return t}}const yp=class{constructor(){var e,t,n,r,o,i,a,s,u,l,c,d,h,f,p,m,g,y,b,v,_,w,x,D,E,S,T,A,k,F,C,O,P,I,M,N,L,j,B,R,z,V,U,G;let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.max_length=null!==(e=H.max_length)&&void 0!==e?e:20,this.max_new_tokens=null!==(t=H.max_new_tokens)&&void 0!==t?t:null,this.min_length=null!==(n=H.min_length)&&void 0!==n?n:0,this.min_new_tokens=null!==(r=H.min_new_tokens)&&void 0!==r?r:null,this.early_stopping=null!==(o=H.early_stopping)&&void 0!==o&&o,this.max_time=null!==(i=H.max_time)&&void 0!==i?i:null,this.do_sample=null!==(a=H.do_sample)&&void 0!==a&&a,this.num_beams=null!==(s=H.num_beams)&&void 0!==s?s:1,this.num_beam_groups=null!==(u=H.num_beam_groups)&&void 0!==u?u:1,this.penalty_alpha=null!==(l=H.penalty_alpha)&&void 0!==l?l:null,this.use_cache=null===(c=H.use_cache)||void 0===c||c,this.temperature=null!==(d=H.temperature)&&void 0!==d?d:1,this.top_k=null!==(h=H.top_k)&&void 0!==h?h:50,this.top_p=null!==(f=H.top_p)&&void 0!==f?f:1,this.typical_p=null!==(p=H.typical_p)&&void 0!==p?p:1,this.epsilon_cutoff=null!==(m=H.epsilon_cutoff)&&void 0!==m?m:0,this.eta_cutoff=null!==(g=H.eta_cutoff)&&void 0!==g?g:0,this.diversity_penalty=null!==(y=H.diversity_penalty)&&void 0!==y?y:0,this.repetition_penalty=null!==(b=H.repetition_penalty)&&void 0!==b?b:1,this.encoder_repetition_penalty=null!==(v=H.encoder_repetition_penalty)&&void 0!==v?v:1,this.length_penalty=null!==(_=H.length_penalty)&&void 0!==_?_:1,this.no_repeat_ngram_size=null!==(w=H.no_repeat_ngram_size)&&void 0!==w?w:0,this.bad_words_ids=null!==(x=H.bad_words_ids)&&void 0!==x?x:null,this.force_words_ids=null!==(D=H.force_words_ids)&&void 0!==D?D:null,this.renormalize_logits=null!==(E=H.renormalize_logits)&&void 0!==E&&E,this.constraints=null!==(S=H.constraints)&&void 0!==S?S:null,this.forced_bos_token_id=null!==(T=H.forced_bos_token_id)&&void 0!==T?T:null,this.forced_eos_token_id=null!==(A=H.forced_eos_token_id)&&void 0!==A?A:null,this.remove_invalid_values=null!==(k=H.remove_invalid_values)&&void 0!==k&&k,this.exponential_decay_length_penalty=null!==(F=H.exponential_decay_length_penalty)&&void 0!==F?F:null,this.suppress_tokens=null!==(C=H.suppress_tokens)&&void 0!==C?C:null,this.begin_suppress_tokens=null!==(O=H.begin_suppress_tokens)&&void 0!==O?O:null,this.forced_decoder_ids=null!==(P=H.forced_decoder_ids)&&void 0!==P?P:null,this.num_return_sequences=null!==(I=H.num_return_sequences)&&void 0!==I?I:1,this.output_attentions=null!==(M=H.output_attentions)&&void 0!==M&&M,this.output_hidden_states=null!==(N=H.output_hidden_states)&&void 0!==N&&N,this.output_scores=null!==(L=H.output_scores)&&void 0!==L&&L,this.return_dict_in_generate=null!==(j=H.return_dict_in_generate)&&void 0!==j&&j,this.pad_token_id=null!==(B=H.pad_token_id)&&void 0!==B?B:null,this.bos_token_id=null!==(R=H.bos_token_id)&&void 0!==R?R:null,this.eos_token_id=null!==(z=H.eos_token_id)&&void 0!==z?z:null,this.encoder_no_repeat_ngram_size=null!==(V=H.encoder_no_repeat_ngram_size)&&void 0!==V?V:0,this.decoder_start_token_id=null!==(U=H.decoder_start_token_id)&&void 0!==U?U:null,this.generation_kwargs=null!==(G=H.generation_kwargs)&&void 0!==G?G:{}}};class bp extends Cc{constructor(e){super(),this.generation_config=e}_call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.sample(e,t)}sample(e,t){throw Error("sample should be implemented in subclasses.")}getLogits(e,t){let n=e.dims.at(-1),r=e.data;if(-1===t)r=r.slice(-n);else{let e=t*n;r=r.slice(e,e+n)}return this.generation_config.temperature>0&&(r=r.map(e=>e/this.generation_config.temperature)),r}randomSelect(e){let t=e.reduce((e,t)=>e+t,0),n=Math.random()*t;for(let r=0;r<e.length;++r)if(n-=e[r],n<=0)return r;return 0}static getSampler(e){if(e.do_sample)return new _p(e);if(e.num_beams>1)return new wp(e);if(e.num_return_sequences>1)throw Error("num_return_sequences has to be 1 when doing greedy search, but is ".concat(e.num_return_sequences,"."));return new vp(e)}}class vp extends bp{sample(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return[[_d(this.getLogits(e,t))[1],0]]}}class _p extends bp{sample(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.dims.at(-1);this.generation_config.top_k>0&&(n=Math.min(this.generation_config.top_k,n));const r=bd(this.getLogits(e,t),n),o=yd(r.map(e=>e[1]));return Array.from({length:this.generation_config.num_beams},()=>{const e=this.randomSelect(o);return[r[e][0],Math.log(o[e])]})}}class wp extends bp{sample(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.dims.at(-1);this.generation_config.top_k>0&&(n=Math.min(this.generation_config.top_k,n));const r=bd(this.getLogits(e,t),n),o=yd(r.map(e=>e[1]));return Array.from({length:this.generation_config.num_beams},(e,t)=>[r[t][0],Math.log(o[t])])}}const{InferenceSession:xp,Tensor:Dp,env:Ep}=Xc,Sp=0,Tp=1,Ap=2,kp=3,Fp=4,Cp=5,Op=new Map,Pp=new Map,Ip=new Map;async function Mp(e,t,n){let r="onnx/".concat(t).concat(n.quantized?"_quantized":"",".onnx"),o=await pd(e,r,!0,n);try{return await xp.create(o,{executionProviders:Yc})}catch(i){if(1===Yc.length&&"wasm"===Yc[0])throw i;return console.warn(i),console.warn("Something went wrong during model construction (most likely a missing operation). Using `wasm` as a fallback. "),await xp.create(o,{executionProviders:["wasm"]})}}async function Np(e,t){const n=function(e,t){const n=Object.create(null),r=[];for(const a of e.inputNames){const e=t[a];e instanceof Fd?n[a]=Ep.wasm.proxy?e.clone():e:r.push(a)}if(r.length>0)throw new Error('An error occurred during model execution: "Missing the following inputs: '.concat(r.join(", "),"."));const o=Object.keys(t).length,i=e.inputNames.length;if(o>i){let n=Object.keys(t).filter(t=>!e.inputNames.includes(t));console.warn("WARNING: Too many inputs were provided (".concat(o," > ").concat(i,'). The following inputs will be ignored: "').concat(n.join(", "),'".'))}return n}(e,t);try{let t=await e.run(n);return t=Lp(t),t}catch(fv){throw console.error('An error occurred during model execution: "'.concat(fv,'".')),console.error("Inputs given to model:",n),fv}}function Lp(e){for(let t in e)e[t]instanceof Dp?e[t]=new Fd(e[t]):"object"===typeof e[t]&&Lp(e[t]);return e}function jp(e){if(e instanceof Fd)return e;if(0===e.length)throw Error("items must be non-empty");if(Array.isArray(e[0])){if(e.some(t=>t.length!==e[0].length))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new Fd("int64",BigInt64Array.from(e.flat().map(e=>BigInt(e))),[e.length,e[0].length])}return new Fd("int64",BigInt64Array.from(e.map(e=>BigInt(e))),[1,e.length])}function Bp(e,t){var n,r;let o=null!==(n=e.config.pad_token_id)&&void 0!==n?n:null,i=null!==(r=e.config.eos_token_id)&&void 0!==r?r:null;Oc(i)&&(i=[i]);let a=-1!==t.indexOf(o),s=null===i||!i.includes(o);if(a&&s){let e=BigInt64Array.from(t.data.map(e=>e!=o));return new Fd("int64",e,t.dims)}return Rd(t)}function Rp(e,t,n){if(!e.inputNames.includes("position_ids"))return;const r=new BigInt64Array(t.attention_mask.data.length);for(let o=0;o<t.attention_mask.dims[0];++o){let e=o*t.attention_mask.dims[1],n=BigInt(0);for(let o=0;o<t.attention_mask.dims[1];++o){const i=e+o;0n===t.attention_mask.data[i]?r[i]=BigInt(1):(r[i]=n,n+=t.attention_mask.data[i])}}t.position_ids=new Fd("int64",r,t.attention_mask.dims),n&&(t.position_ids=t.position_ids.slice(null,-1).unsqueeze_(-1))}function zp(e){return new Fd("bool",[e],[1])}async function Vp(e,t){let{encoder_outputs:n,past_key_values:r}=t;n||(n=(await Wp(e,t)).last_hidden_state);let o={input_ids:t.decoder_input_ids,encoder_hidden_states:n};const i=!!r;e.decoder_merged_session.inputNames.includes("use_cache_branch")&&(o.use_cache_branch=zp(i)),e.decoder_merged_session.inputNames.includes("encoder_attention_mask")&&(o.encoder_attention_mask=t.attention_mask),Rp(e.decoder_merged_session,o,i),e.addPastKeyValues(o,r);const a=await Np(e.decoder_merged_session,o);let s=a.logits;r=e.getPastKeyValues(a,r);const l=e.getAttentions(a);return new Py(u({logits:s,past_key_values:r,encoder_outputs:n},l))}function Up(e,t,n,r){var o,i,a,s;let u=[],l=0;const c=null===(o=e.requires_attention_mask)||void 0===o||o;let d=null!==(i=null!==(a=null!==(s=n.decoder_input_ids)&&void 0!==s?s:n.decoder_start_token_id)&&void 0!==a?a:n.bos_token_id)&&void 0!==i?i:n.eos_token_id;d instanceof Fd?d=d.tolist().flat():Array.isArray(d)||(d=[d]);for(let h of t){h.dims=[1,...h.dims];let t={inputs:h,encoder_outputs:null,prev_model_outputs:null,output_token_ids:d,done:!1,score:0,id:l++};c&&(t.attention_mask=Bp(e,h)),u.push(t)}return u}async function Gp(e,t){var n;const r=e.main_input_name;let o=t.output_token_ids;t.prev_model_outputs&&(o=o.slice(-1));let i={[r]:t.inputs,decoder_input_ids:jp(o),encoder_outputs:t.encoder_outputs,past_key_values:null===(n=t.prev_model_outputs)||void 0===n?void 0:n.past_key_values};t.attention_mask&&(i.attention_mask=t.attention_mask);let a=await e.forward(i);return t.prev_model_outputs=a,t.encoder_outputs=a.encoder_outputs,a}function Hp(e,t){e.output_token_ids=[...e.output_token_ids,t]}async function Wp(e,t){const n=Object.create(null);for(const r of e.session.inputNames)n[r]=t[r];return e.session.inputNames.includes("token_type_ids")&&!n.token_type_ids&&(n.token_type_ids=new Fd("int64",new BigInt64Array(n.input_ids.data.length),n.input_ids.dims)),await Np(e.session,n)}async function qp(e,t){let{input_ids:n,past_key_values:r,attention_mask:o}=t,i={input_ids:n,attention_mask:null!==o&&void 0!==o?o:Bp(e,n)};const a=!!r;e.session.inputNames.includes("use_cache_branch")&&(i.use_cache_branch=zp(a)),Rp(e.session,i,a),e.addPastKeyValues(i,r);let s=await Np(e.session,i),u=s.logits;return r=e.getPastKeyValues(s,r),{logits:u,past_key_values:r}}function Xp(e,t,n,r,o){let i=[],a=0;for(let s of t){let t,n=s.tolist().map(Number);s.dims=[1,...s.dims],o?(t=o[a],t.dims=[1,...t.dims]):t=Bp(e,s);let u={input:s,model_input_ids:s,attention_mask:t,prev_model_outputs:null,output_token_ids:n,num_output_tokens:r,done:!1,score:0,id:a++};i.push(u)}return i}async function Yp(e,t){var n;let r=new BigInt64Array(t.output_token_ids.length).fill(1n),o={input_ids:t.model_input_ids,attention_mask:new Fd("int64",r,[1,r.length]),past_key_values:null===(n=t.prev_model_outputs)||void 0===n?void 0:n.past_key_values},i=await e.forward(o);return t.prev_model_outputs=i,i}function Kp(e,t){e.output_token_ids=[...e.output_token_ids,t],e.model_input_ids=new Fd("int64",[BigInt(t)],[1,1])}class $p extends Cc{constructor(e,t){super(),a(this,"main_input_name","input_ids"),this.config=e,this.session=t;const n=Ip.get(this.constructor),r=Op.get(n);this.can_generate=!1,this._runBeam=null,this._getStartBeams=null,this._updateBeam=null,this._forward=null,r===Fp?(this.can_generate=!0,this._runBeam=Yp,this._getStartBeams=Xp,this._updateBeam=Kp,this._forward=qp):r===Ap||r===kp?(this.can_generate=!0,this._runBeam=Gp,this._getStartBeams=Up,this._updateBeam=Hp,this._forward=Vp):this._forward=Wp}async dispose(){const e=[];for(let t of Object.keys(this)){const n=this[t];n instanceof xp&&e.push(n.handler.dispose())}return await Promise.all(e)}static async from_pretrained(e){let{quantized:t=!0,progress_callback:n=null,config:r=null,cache_dir:o=null,local_files_only:i=!1,revision:a="main",model_file_name:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u={quantized:t,progress_callback:n,config:r,cache_dir:o,local_files_only:i,revision:a,model_file_name:s};const l=Ip.get(this),c=Op.get(l);let d;var h;if(c===Fp)d=await Promise.all([op.from_pretrained(e,u),Mp(e,null!==(h=u.model_file_name)&&void 0!==h?h:"decoder_model_merged",u),md(e,"generation_config.json",!1,u)]);else if(c===Ap||c===kp)d=await Promise.all([op.from_pretrained(e,u),Mp(e,"encoder_model",u),Mp(e,"decoder_model_merged",u),md(e,"generation_config.json",!1,u)]);else if(c===Cp)d=await Promise.all([op.from_pretrained(e,u),Mp(e,"vision_encoder",u),Mp(e,"prompt_encoder_mask_decoder",u)]);else if(c===Tp)d=await Promise.all([op.from_pretrained(e,u),Mp(e,"encoder_model",u),Mp(e,"decoder_model_merged",u)]);else{var f;c!==Sp&&console.warn("Model type for '".concat(null!==l&&void 0!==l?l:null===r||void 0===r?void 0:r.model_type,"' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.")),d=await Promise.all([op.from_pretrained(e,u),Mp(e,null!==(f=u.model_file_name)&&void 0!==f?f:"model",u)])}return new this(...d)}async _call(e){return await this.forward(e)}async forward(e){return await this._forward(this,e)}_get_logits_processor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=new ip;if(null!==e.repetition_penalty&&1!==e.repetition_penalty&&r.push(new fp(e.repetition_penalty)),null!==e.no_repeat_ngram_size&&e.no_repeat_ngram_size>0&&r.push(new hp(e.no_repeat_ngram_size)),null!==e.bad_words_ids&&r.push(new gp(e.bad_words_ids,e.eos_token_id)),null!==e.min_length&&null!==e.eos_token_id&&e.min_length>0&&r.push(new pp(e.min_length,e.eos_token_id)),null!==e.min_new_tokens&&null!==e.eos_token_id&&e.min_new_tokens>0&&r.push(new mp(t,e.min_new_tokens,e.eos_token_id)),null!==e.forced_bos_token_id&&r.push(new up(e.forced_bos_token_id)),null!==e.forced_eos_token_id&&r.push(new lp(e.max_length,e.forced_eos_token_id)),null!==e.begin_suppress_tokens){let n=t>1||null===e.forced_bos_token_id?t:t+1;null!==e.forced_decoder_ids&&(n+=e.forced_decoder_ids[e.forced_decoder_ids.length-1][0]),r.push(new cp(e.begin_suppress_tokens,n))}return null!==e.forced_decoder_ids&&r.push(new sp(e.forced_decoder_ids)),null!==n&&r.extend(n),r}_get_generation_config(e){let t=new yp(this.config);return"generation_config"in this&&Object.assign(t,this.generation_config),null!==e&&Object.assign(t,e),t}async generate(e){var t,n;let r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,{inputs_attention_mask:a=null}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!this.can_generate){var s,l,c;const e=Ip.get(this.constructor);let t="The current model class (".concat(e,") is not compatible with `.generate()`, as it doesn't have a language model head.");const n=this.config.model_type,r=null!==(s=null!==(l=null!==(c=Gg.get(n))&&void 0!==c?c:Ug.get(n))&&void 0!==l?l:jg.get(n))&&void 0!==s?s:qg.get(n);throw r&&(t+=" Please use the following class instead: '".concat(r[0],"'")),Error(t)}if(!(e instanceof Fd)&&!function(e){var t;return"TypedArray"===(null===e||void 0===e||null===(t=e.prototype)||void 0===t||null===(t=t.__proto__)||void 0===t||null===(t=t.constructor)||void 0===t?void 0:t.name)}(e)&&!Array.isArray(e))throw Error('`inputs` must be a Tensor, TypedArray, or Array, but is "'.concat(e.constructor.name,'".'));if(this.config.is_encoder_decoder)r=0;else if(r=e instanceof Fd?e.dims.at(-1):e.length,0===r)throw Error("Must supply a non-empty array of input token ids.");o=this._get_generation_config(o),i=null!==i&&void 0!==i?i:new ip,i=this._get_logits_processor(o,r,i);let d=o.eos_token_id;null===d||Array.isArray(d)||(d=[d]);let h=1;const f=h+(null!==(t=o.max_new_tokens)&&void 0!==t?t:1/0),p=Number.isInteger(o.max_length)&&null===(null!==(n=o.max_new_tokens)&&void 0!==n?n:null);let m=bp.getSampler(o),g=this.getStartBeams(e,o,h,a);for(;g.some(e=>!e.done)&&h<f;){let e=[];for(let t of g){if(t.done){e.push(t);continue}if(p&&t.output_token_ids.length>=o.max_length){t.done=!0,e.push(t);continue}let n=await this.runBeam(t);o.output_attentions&&this.addAttentionsToBeam(t,n),o.output_scores;let r=n.logits.slice(null,-1,null);i(t.output_token_ids,r);let a=m(r);for(let[o,i]of a){let n=u({},t);this.updateBeam(n,o),n.score+=i,d&&d.includes(o)&&(n.done=!0),e.push(n)}}++h,e=this.groupBeams(e).map(e=>e.sort((e,t)=>t.score-e.score).slice(0,o.num_beams)),g=e.flat(),o.callback_function&&o.callback_function(g)}const y=this.groupBeams(g),b=e=>y.map(t=>o.num_return_sequences>1?t.slice(0,o.num_return_sequences).map(t=>t[e]):[t[0][e]]).flat(),v=b("output_token_ids");if(o.return_dict_in_generate){return{sequences:v,decoder_attentions:b("decoder_attentions"),cross_attentions:b("cross_attentions")}}return v}addAttentionsToBeam(e,t){if(this.config.is_encoder_decoder){if(!t.cross_attentions||0===t.cross_attentions.length)throw Error("`output_attentions` is true, but the model did not produce cross-attentions. This is most likely because the model was not exported with `output_attentions=True`.");e.cross_attentions||(e.cross_attentions=[]),e.cross_attentions.push(t.cross_attentions)}if(!t.decoder_attentions||0===t.decoder_attentions.length)throw Error("`output_attentions` is true, but the model did not produce decoder-attentions. This is most likely because the model was not exported with `output_attentions=True`.");e.decoder_attentions||(e.decoder_attentions=[]),e.decoder_attentions.push(t.decoder_attentions)}groupBeams(e){const t=Object.create(null);for(const n of e)void 0===t[n.id]?t[n.id]=[n]:t[n.id].push(n);return Object.values(t)}getPastKeyValues(e,t){const n=Object.create(null);for(const r in e)if(r.startsWith("present")){let o=r.replace("present","past_key_values");t&&r.includes("encoder")?n[o]=t[o]:n[o]=e[r]}return n}getAttentions(e){const t=Object.create(null);for(const n of["cross_attentions","decoder_attentions"]){const r=[];for(const t in e)if(t.startsWith(n)){r[t.split(".").pop()]=e[t]}t[n]=r}return t}addPastKeyValues(e,t){if(t)Object.assign(e,t);else{var n;const t=1;if(this.config.is_encoder_decoder&&(null===(n=this.add_encoder_pkv)||void 0===n||n)){let n=[t,this.num_encoder_heads,0,this.encoder_dim_kv],r=[t,this.num_decoder_heads,0,this.decoder_dim_kv];for(let t=0;t<this.num_decoder_layers;++t)e["past_key_values.".concat(t,".encoder.key")]=new Fd("float32",[],n),e["past_key_values.".concat(t,".encoder.value")]=new Fd("float32",[],n),e["past_key_values.".concat(t,".decoder.key")]=new Fd("float32",[],r),e["past_key_values.".concat(t,".decoder.value")]=new Fd("float32",[],r)}else if("falcon"===this.config.model_type){let n=[t*this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key")]=new Fd("float32",[],n),e["past_key_values.".concat(t,".value")]=new Fd("float32",[],n)}else if(this.config.multi_query){let n=[t*this.num_heads,0,2*this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key_value")]=new Fd("float32",[],n)}else if("bloom"===this.config.model_type){let n=[t*this.num_heads,this.dim_kv,0],r=[t*this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key")]=new Fd("float32",[],n),e["past_key_values.".concat(t,".value")]=new Fd("float32",[],r)}else{let n=[t,this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e["past_key_values.".concat(t,".key")]=new Fd("float32",[],n),e["past_key_values.".concat(t,".value")]=new Fd("float32",[],n)}}}getStartBeams(e,t,n,r){return this._getStartBeams(this,e,t,n,r)}async runBeam(e){return await this._runBeam(this,e)}updateBeam(e,t){return this._updateBeam(e,t)}}class Qp{}class Zp extends $p{}class Jp extends $p{}class em extends $p{}class tm extends $p{}class nm extends $p{}class rm extends $p{}class om extends $p{}class im extends $p{}class am extends $p{}class sm extends $p{}class um extends $p{}class lm extends $p{}class cm extends $p{}class dm extends $p{}class hm extends $p{}class fm extends $p{}class pm extends $p{}class mm extends $p{}class gm extends $p{}class ym extends $p{}class bm extends $p{}class vm extends $p{}class _m extends $p{}class wm extends $p{}class xm extends $p{}class Dm extends $p{}class Em extends $p{constructor(e,t,n,r){var o;super(e,t),a(this,"main_input_name","pixel_values"),this.decoder_merged_session=n,this.generation_config=r;const i=this.config.encoder,s=this.config.decoder,u=i.model_type;(null!==(o=Mg.get(u))&&void 0!==o?o:Ng.get(u))||console.warn("Model type for encoder '".concat(u,"' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose."));const l=Gg.get(s.model_type);if(!l)throw new Error('Unable to construct `VisionEncoderDecoder` due to unsupported decoder: "'.concat(this.config.decoder.model_type,'"'));const c=new(0,l[1])(s,n,r);this.add_encoder_pkv="num_decoder_layers"in c,this.add_encoder_pkv?(this.num_decoder_layers=c.num_decoder_layers,this.num_decoder_heads=c.num_decoder_heads,this.decoder_dim_kv=c.decoder_dim_kv,this.num_encoder_layers=c.num_encoder_layers,this.num_encoder_heads=c.num_encoder_heads,this.encoder_dim_kv=c.encoder_dim_kv):(this.num_layers=c.num_layers,this.num_heads=c.num_heads,this.dim_kv=c.dim_kv)}}class Sm extends $p{}class Tm extends $p{}class Am extends $p{}class km extends $p{}class Fm extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class Cm extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_heads,this.num_layers=this.config.num_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Om extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Pm extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class Im extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class Mm extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class Nm extends $p{constructor(e,t,n){var r;super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=null!==(r=this.config.num_key_value_heads)&&void 0!==r?r:this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Lm extends $p{constructor(e,t,n){var r;super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=null!==(r=this.config.num_key_value_heads)&&void 0!==r?r:this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class jm extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Bm extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.hidden_size/this.num_heads}}class Rm extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_heads,this.num_layers=this.config.n_layers,this.dim_kv=this.config.d_model/this.num_heads}}class zm extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Vm extends $p{}class Um extends $p{}class Gm extends $p{}class Hm extends $p{}class Wm extends $p{}class qm extends $p{}class Xm extends $p{}class Ym extends $p{}class Km extends $p{}class $m extends Qp{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class Qm extends Qp{constructor(e){let{logits:t,pred_boxes:n,pred_masks:r}=e;super(),this.logits=t,this.pred_boxes=n,this.pred_masks=r}}class Zm extends $p{}class Jm extends $m{}class eg extends $p{}class tg extends $p{}class ng extends $p{}class rg extends $p{}class og extends $p{}class ig extends $p{}class ag extends $p{}class sg extends $p{}class ug extends $p{}class lg extends $p{}class cg extends $p{}class dg extends $p{}class hg extends Qp{constructor(e){let{logits:t,pred_boxes:n}=e;super(),this.logits=t,this.pred_boxes=n}}class fg extends $p{}class pg extends Qp{constructor(e){let{iou_scores:t,pred_masks:n}=e;super(),this.iou_scores=t,this.pred_masks=n}}class mg extends $p{}class gg extends $p{}class yg extends $p{}class bg extends $p{}class vg extends $p{}class _g extends $p{}class wg extends $p{}class xg extends $p{}class Dg extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_encoder_layers=this.num_decoder_layers=this.config.decoder_layers,this.num_encoder_heads=this.num_decoder_heads=this.config.decoder_attention_heads,this.encoder_dim_kv=this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads}}class Eg extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Sg extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Tg extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Ag extends $p{}class kg extends $p{}class Fg extends kg{async _call(e){return new zy(await super._call(e))}}class Cg extends $p{}class Og extends $p{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Pg extends $p{}class Ig{static async from_pretrained(e){let{quantized:t=!0,progress_callback:n=null,config:r=null,cache_dir:o=null,local_files_only:i=!1,revision:a="main",model_file_name:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u={quantized:t,progress_callback:n,config:r,cache_dir:o,local_files_only:i,revision:a,model_file_name:s};if(r=await op.from_pretrained(e,u),u.config||(u.config=r),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);for(let l of this.MODEL_CLASS_MAPPINGS){const t=l.get(r.model_type);if(t)return await t[1].from_pretrained(e,u)}if(this.BASE_IF_FAIL)return console.warn('Unknown model class "'.concat(r.model_type,'", attempting to construct from base class.')),await $p.from_pretrained(e,u);throw Error("Unsupported model type: ".concat(r.model_type))}}a(Ig,"MODEL_CLASS_MAPPINGS",null),a(Ig,"BASE_IF_FAIL",!1);const Mg=new Map([["bert",["BertModel",class extends Zp{}]],["nomic_bert",["NomicBertModel",class extends Jp{}]],["roformer",["RoFormerModel",class extends em{}]],["electra",["ElectraModel",class extends nm{}]],["esm",["EsmModel",class extends sm{}]],["convbert",["ConvBertModel",class extends tm{}]],["camembert",["CamembertModel",class extends rm{}]],["deberta",["DebertaModel",class extends om{}]],["deberta-v2",["DebertaV2Model",class extends im{}]],["mpnet",["MPNetModel",class extends lm{}]],["albert",["AlbertModel",class extends dm{}]],["distilbert",["DistilBertModel",class extends am{}]],["roberta",["RobertaModel",class extends vm{}]],["xlm",["XLMModel",class extends _m{}]],["xlm-roberta",["XLMRobertaModel",class extends wm{}]],["clap",["ClapModel",class extends Ag{}]],["clip",["CLIPModel",class extends Sm{}]],["clipseg",["CLIPSegModel",class extends km{}]],["chinese_clip",["ChineseCLIPModel",class extends Am{}]],["siglip",["SiglipModel",class extends Tm{}]],["mobilebert",["MobileBertModel",class extends um{}]],["squeezebert",["SqueezeBertModel",class extends cm{}]],["wav2vec2",["Wav2Vec2Model",class extends yg{}]],["wav2vec2-bert",["Wav2Vec2BertModel",class extends _g{}]],["unispeech",["UniSpeechModel",class extends bg{}]],["unispeech-sat",["UniSpeechSatModel",class extends vg{}]],["hubert",["HubertModel",class extends yg{}]],["wavlm",["WavLMModel",class extends wg{}]],["audio-spectrogram-transformer",["ASTModel",class extends xm{}]],["vits",["VitsModel",Fg]],["detr",["DetrModel",class extends Km{}]],["table-transformer",["TableTransformerModel",class extends Zm{}]],["vit",["ViTModel",class extends Vm{}]],["fastvit",["FastViTModel",class extends Um{}]],["mobilevit",["MobileViTModel",class extends Hm{}]],["mobilevitv2",["MobileViTV2Model",class extends Wm{}]],["owlvit",["OwlViTModel",class extends qm{}]],["owlv2",["Owlv2Model",class extends Xm{}]],["beit",["BeitModel",class extends Ym{}]],["deit",["DeiTModel",class extends eg{}]],["convnext",["ConvNextModel",class extends ug{}]],["convnextv2",["ConvNextV2Model",class extends lg{}]],["dinov2",["Dinov2Model",class extends cg{}]],["resnet",["ResNetModel",class extends tg{}]],["swin",["SwinModel",class extends ng{}]],["swin2sr",["Swin2SRModel",class extends rg{}]],["donut-swin",["DonutSwinModel",class extends sg{}]],["yolos",["YolosModel",class extends dg{}]],["dpt",["DPTModel",class extends og{}]],["glpn",["GLPNModel",class extends ag{}]],["hifigan",["SpeechT5HifiGan",class extends $p{constructor(){super(...arguments),a(this,"main_input_name","spectrogram")}}]],["efficientnet",["EfficientNetModel",class extends Pg{}]]]),Ng=new Map([["t5",["T5Model",class extends hm{}]],["longt5",["LongT5Model",class extends fm{}]],["mt5",["MT5Model",class extends pm{}]],["bart",["BartModel",class extends mm{}]],["mbart",["MBartModel",class extends gm{}]],["marian",["MarianModel",class extends mg{}]],["whisper",["WhisperModel",class extends Dm{}]],["m2m_100",["M2M100Model",class extends gg{}]],["blenderbot",["BlenderbotModel",class extends ym{}]],["blenderbot-small",["BlenderbotSmallModel",class extends bm{}]]]),Lg=new Map([["bloom",["BloomModel",class extends Bm{}]],["gpt2",["GPT2Model",class extends Fm{}]],["gptj",["GPTJModel",class extends Pm{}]],["gpt_bigcode",["GPTBigCodeModel",class extends Im{}]],["gpt_neo",["GPTNeoModel",class extends Cm{}]],["gpt_neox",["GPTNeoXModel",class extends Om{}]],["codegen",["CodeGenModel",class extends Mm{}]],["llama",["LlamaModel",class extends Nm{}]],["qwen2",["Qwen2Model",class extends Lm{}]],["phi",["PhiModel",class extends jm{}]],["mpt",["MptModel",class extends Rm{}]],["opt",["OPTModel",class extends zm{}]],["mistral",["MistralModel",class extends Eg{}]],["starcoder2",["Starcoder2Model",class extends Sg{}]],["falcon",["FalconModel",class extends Tg{}]]]),jg=new Map([["speecht5",["SpeechT5ForSpeechToText",class extends xg{}]],["whisper",["WhisperForConditionalGeneration",class extends Dm{constructor(e,t,n,r){super(e,t),a(this,"requires_attention_mask",!1),a(this,"main_input_name","input_features"),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}async generate(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r=this._get_generation_config(r),null!==(n=(t=r).return_timestamps)&&void 0!==n||(t.return_timestamps=!1),r.return_timestamps&&(o=[new dp(r)]),r.return_token_timestamps&&(r.output_attentions=!0,r.return_dict_in_generate=!0,"translate"===r.task&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),!r.alignment_heads))throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");const i=await super.generate(e,r,o);return r.return_token_timestamps&&r.alignment_heads&&(i.token_timestamps=this._extract_token_timestamps(i,r.alignment_heads,r.num_frames)),i}_extract_token_timestamps(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.02;if(!e.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");let o=this.config.median_filter_width;void 0===o&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),o=7);const i=e.cross_attentions.map(e=>{let r=Array.from({length:this.config.decoder_layers},(t,n)=>Md(e.map(e=>e[n]),2)),i=Nd(t.map(e=>{let[t,o]=e;return n?r[t].slice(null,o,null,[0,n]):r[t].slice(null,o)}));i=i.transpose(1,0,2,3);let[a,s]=Ld(i,-2,0,!0),u=i.clone();for(let t=0;t<u.dims[0];++t){let e=u[t];for(let n=0;n<e.dims[0];++n){let r=e[n];const i=a[t][n][0],u=s[t][n][0];for(let e=0;e<r.dims[0];++e){let t=r[e];for(let e=0;e<t.data.length;++e)t.data[e]=(t.data[e]-u.data[e])/i.data[e];t.data.set(Sd(t.data,o))}}}return jd(u,1)}),a=[e.sequences.length,e.sequences[0].length],s=new Fd("float32",new Float32Array(a[0]*a[1]),a);for(let u=0;u<a[0];++u){const e=i[u].neg().squeeze_(0);let[t,n]=Bd(e),o=Mc([1],Array.from({length:t.length-1},(e,n)=>t[n+1]-t[n])).map(e=>!!e),a=[];for(let i=0;i<o.length;++i)o[i]&&a.push(n[i]*r);s[u].data.set(a,1)}return s}}]]]),Bg=new Map([["speecht5",["SpeechT5ForTextToSpeech",class extends xg{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.hidden_size/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.hidden_size/this.num_encoder_heads}async generate_speech(e,t){let{threshold:n=.5,minlenratio:r=0,maxlenratio:o=20,vocoder:i=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={input_ids:e},{encoder_outputs:s,encoder_attention_mask:u}=await Wp(this,a),l=s.dims[1]/this.config.reduction_factor,c=Math.floor(l*o),d=Math.floor(l*r),h=this.config.num_mel_bins;let f=[],p=null,m=null,g=0;for(;;){++g;const e=zp(!!m);let r;r=m?m.output_sequence_out:new Fd("float32",new Float32Array(h),[1,1,h]);let o={use_cache_branch:e,output_sequence:r,encoder_attention_mask:u,speaker_embeddings:t,encoder_hidden_states:s};this.addPastKeyValues(o,p),m=await Np(this.decoder_merged_session,o),p=this.getPastKeyValues(m,p);const{prob:i,spectrum:a}=m;if(f.push(a),g>=d&&(Array.from(i.data).filter(e=>e>=n).length>0||g>=c))break}const y=Md(f),{waveform:b}=await Np(i.session,{spectrogram:y});return{spectrogram:y,waveform:b}}}]]]),Rg=new Map([["vits",["VitsModel",Fg]]]),zg=new Map([["bert",["BertForSequenceClassification",class extends Zp{async _call(e){return new Iy(await super._call(e))}}]],["roformer",["RoFormerForSequenceClassification",class extends em{async _call(e){return new Iy(await super._call(e))}}]],["electra",["ElectraForSequenceClassification",class extends nm{async _call(e){return new Iy(await super._call(e))}}]],["esm",["EsmForSequenceClassification",class extends sm{async _call(e){return new Iy(await super._call(e))}}]],["convbert",["ConvBertForSequenceClassification",class extends tm{async _call(e){return new Iy(await super._call(e))}}]],["camembert",["CamembertForSequenceClassification",class extends rm{async _call(e){return new Iy(await super._call(e))}}]],["deberta",["DebertaForSequenceClassification",class extends om{async _call(e){return new Iy(await super._call(e))}}]],["deberta-v2",["DebertaV2ForSequenceClassification",class extends im{async _call(e){return new Iy(await super._call(e))}}]],["mpnet",["MPNetForSequenceClassification",class extends lm{async _call(e){return new Iy(await super._call(e))}}]],["albert",["AlbertForSequenceClassification",class extends dm{async _call(e){return new Iy(await super._call(e))}}]],["distilbert",["DistilBertForSequenceClassification",class extends am{async _call(e){return new Iy(await super._call(e))}}]],["roberta",["RobertaForSequenceClassification",class extends vm{async _call(e){return new Iy(await super._call(e))}}]],["xlm",["XLMForSequenceClassification",class extends _m{async _call(e){return new Iy(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForSequenceClassification",class extends wm{async _call(e){return new Iy(await super._call(e))}}]],["bart",["BartForSequenceClassification",class extends mm{async _call(e){return new Iy(await super._call(e))}}]],["mbart",["MBartForSequenceClassification",class extends gm{async _call(e){return new Iy(await super._call(e))}}]],["mobilebert",["MobileBertForSequenceClassification",class extends um{async _call(e){return new Iy(await super._call(e))}}]],["squeezebert",["SqueezeBertForSequenceClassification",class extends cm{async _call(e){return new Iy(await super._call(e))}}]]]),Vg=new Map([["bert",["BertForTokenClassification",class extends Zp{async _call(e){return new Ny(await super._call(e))}}]],["roformer",["RoFormerForTokenClassification",class extends em{async _call(e){return new Ny(await super._call(e))}}]],["electra",["ElectraForTokenClassification",class extends nm{async _call(e){return new Ny(await super._call(e))}}]],["esm",["EsmForTokenClassification",class extends sm{async _call(e){return new Ny(await super._call(e))}}]],["convbert",["ConvBertForTokenClassification",class extends tm{async _call(e){return new Ny(await super._call(e))}}]],["camembert",["CamembertForTokenClassification",class extends rm{async _call(e){return new Ny(await super._call(e))}}]],["deberta",["DebertaForTokenClassification",class extends om{async _call(e){return new Ny(await super._call(e))}}]],["deberta-v2",["DebertaV2ForTokenClassification",class extends im{async _call(e){return new Ny(await super._call(e))}}]],["mpnet",["MPNetForTokenClassification",class extends lm{async _call(e){return new Ny(await super._call(e))}}]],["distilbert",["DistilBertForTokenClassification",class extends am{async _call(e){return new Ny(await super._call(e))}}]],["roberta",["RobertaForTokenClassification",class extends vm{async _call(e){return new Ny(await super._call(e))}}]],["xlm",["XLMForTokenClassification",class extends _m{async _call(e){return new Ny(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForTokenClassification",class extends wm{async _call(e){return new Ny(await super._call(e))}}]]]),Ug=new Map([["t5",["T5ForConditionalGeneration",class extends hm{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["longt5",["LongT5ForConditionalGeneration",class extends fm{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["mt5",["MT5ForConditionalGeneration",class extends pm{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["bart",["BartForConditionalGeneration",class extends mm{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["mbart",["MBartForConditionalGeneration",class extends gm{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["marian",["MarianMTModel",class extends mg{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["m2m_100",["M2M100ForConditionalGeneration",class extends gg{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["blenderbot",["BlenderbotForConditionalGeneration",class extends ym{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",class extends bm{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]]]),Gg=new Map([["bloom",["BloomForCausalLM",class extends Bm{}]],["gpt2",["GPT2LMHeadModel",class extends Fm{}]],["gptj",["GPTJForCausalLM",class extends Pm{}]],["gpt_bigcode",["GPTBigCodeForCausalLM",class extends Im{}]],["gpt_neo",["GPTNeoForCausalLM",class extends Cm{}]],["gpt_neox",["GPTNeoXForCausalLM",class extends Om{}]],["codegen",["CodeGenForCausalLM",class extends Mm{}]],["llama",["LlamaForCausalLM",class extends Nm{}]],["qwen2",["Qwen2ForCausalLM",class extends Lm{}]],["phi",["PhiForCausalLM",class extends jm{}]],["mpt",["MptForCausalLM",class extends Rm{}]],["opt",["OPTForCausalLM",class extends zm{}]],["mbart",["MBartForCausalLM",class extends gm{constructor(e,t,n){super(e,t),this.generation_config=n,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["mistral",["MistralForCausalLM",class extends Eg{}]],["starcoder2",["Starcoder2ForCausalLM",class extends Sg{}]],["falcon",["FalconForCausalLM",class extends Tg{}]],["trocr",["TrOCRForCausalLM",class extends Dg{}]],["stablelm",["StableLmForCausalLM",class extends Og{}]]]),Hg=new Map([["bert",["BertForMaskedLM",class extends Zp{async _call(e){return new Ly(await super._call(e))}}]],["roformer",["RoFormerForMaskedLM",class extends em{async _call(e){return new Ly(await super._call(e))}}]],["electra",["ElectraForMaskedLM",class extends nm{async _call(e){return new Ly(await super._call(e))}}]],["esm",["EsmForMaskedLM",class extends sm{async _call(e){return new Ly(await super._call(e))}}]],["convbert",["ConvBertForMaskedLM",class extends tm{async _call(e){return new Ly(await super._call(e))}}]],["camembert",["CamembertForMaskedLM",class extends rm{async _call(e){return new Ly(await super._call(e))}}]],["deberta",["DebertaForMaskedLM",class extends om{async _call(e){return new Ly(await super._call(e))}}]],["deberta-v2",["DebertaV2ForMaskedLM",class extends im{async _call(e){return new Ly(await super._call(e))}}]],["mpnet",["MPNetForMaskedLM",class extends lm{async _call(e){return new Ly(await super._call(e))}}]],["albert",["AlbertForMaskedLM",class extends dm{async _call(e){return new Ly(await super._call(e))}}]],["distilbert",["DistilBertForMaskedLM",class extends am{async _call(e){return new Ly(await super._call(e))}}]],["roberta",["RobertaForMaskedLM",class extends vm{async _call(e){return new Ly(await super._call(e))}}]],["xlm",["XLMWithLMHeadModel",class extends _m{async _call(e){return new Ly(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForMaskedLM",class extends wm{async _call(e){return new Ly(await super._call(e))}}]],["mobilebert",["MobileBertForMaskedLM",class extends um{async _call(e){return new Ly(await super._call(e))}}]],["squeezebert",["SqueezeBertForMaskedLM",class extends cm{async _call(e){return new Ly(await super._call(e))}}]]]),Wg=new Map([["bert",["BertForQuestionAnswering",class extends Zp{async _call(e){return new jy(await super._call(e))}}]],["roformer",["RoFormerForQuestionAnswering",class extends em{async _call(e){return new jy(await super._call(e))}}]],["electra",["ElectraForQuestionAnswering",class extends nm{async _call(e){return new jy(await super._call(e))}}]],["convbert",["ConvBertForQuestionAnswering",class extends tm{async _call(e){return new jy(await super._call(e))}}]],["camembert",["CamembertForQuestionAnswering",class extends rm{async _call(e){return new jy(await super._call(e))}}]],["deberta",["DebertaForQuestionAnswering",class extends om{async _call(e){return new jy(await super._call(e))}}]],["deberta-v2",["DebertaV2ForQuestionAnswering",class extends im{async _call(e){return new jy(await super._call(e))}}]],["mpnet",["MPNetForQuestionAnswering",class extends lm{async _call(e){return new jy(await super._call(e))}}]],["albert",["AlbertForQuestionAnswering",class extends dm{async _call(e){return new jy(await super._call(e))}}]],["distilbert",["DistilBertForQuestionAnswering",class extends am{async _call(e){return new jy(await super._call(e))}}]],["roberta",["RobertaForQuestionAnswering",class extends vm{async _call(e){return new jy(await super._call(e))}}]],["xlm",["XLMForQuestionAnswering",class extends _m{async _call(e){return new jy(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForQuestionAnswering",class extends wm{async _call(e){return new jy(await super._call(e))}}]],["mobilebert",["MobileBertForQuestionAnswering",class extends um{async _call(e){return new jy(await super._call(e))}}]],["squeezebert",["SqueezeBertForQuestionAnswering",class extends cm{async _call(e){return new jy(await super._call(e))}}]]]),qg=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",Em]]]),Xg=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",Em]]]),Yg=new Map([["vit",["ViTForImageClassification",class extends Vm{async _call(e){return new Iy(await super._call(e))}}]],["fastvit",["FastViTForImageClassification",class extends Um{async _call(e){return new Iy(await super._call(e))}}]],["mobilevit",["MobileViTForImageClassification",class extends Hm{async _call(e){return new Iy(await super._call(e))}}]],["mobilevitv2",["MobileViTV2ForImageClassification",class extends Wm{async _call(e){return new Iy(await super._call(e))}}]],["beit",["BeitForImageClassification",class extends Ym{async _call(e){return new Iy(await super._call(e))}}]],["deit",["DeiTForImageClassification",class extends eg{async _call(e){return new Iy(await super._call(e))}}]],["convnext",["ConvNextForImageClassification",class extends ug{async _call(e){return new Iy(await super._call(e))}}]],["convnextv2",["ConvNextV2ForImageClassification",class extends lg{async _call(e){return new Iy(await super._call(e))}}]],["dinov2",["Dinov2ForImageClassification",class extends cg{async _call(e){return new Iy(await super._call(e))}}]],["resnet",["ResNetForImageClassification",class extends tg{async _call(e){return new Iy(await super._call(e))}}]],["swin",["SwinForImageClassification",class extends ng{async _call(e){return new Iy(await super._call(e))}}]],["segformer",["SegformerForImageClassification",class extends Cg{}]],["efficientnet",["EfficientNetForImageClassification",class extends Pg{async _call(e){return new Iy(await super._call(e))}}]]]),Kg=new Map([["detr",["DetrForObjectDetection",class extends Km{async _call(e){return new $m(await super._call(e))}}]],["table-transformer",["TableTransformerForObjectDetection",class extends Zm{async _call(e){return new Jm(await super._call(e))}}]],["yolos",["YolosForObjectDetection",class extends dg{async _call(e){return new hg(await super._call(e))}}]]]),$g=new Map([["owlvit",["OwlViTForObjectDetection",class extends qm{}]],["owlv2",["Owlv2ForObjectDetection",class extends Xm{}]]]),Qg=new Map([["detr",["DetrForSegmentation",class extends Km{async _call(e){return new Qm(await super._call(e))}}]],["clipseg",["CLIPSegForImageSegmentation",class extends km{}]]]),Zg=new Map([["segformer",["SegformerForSemanticSegmentation",class extends Cg{}]]]),Jg=new Map([["sam",["SamModel",class extends fg{constructor(e,t,n){super(e,t),this.prompt_encoder_mask_decoder=n}async get_image_embeddings(e){let{pixel_values:t}=e;return await Wp(this,{pixel_values:t})}async forward(e){if(e.image_embeddings&&e.image_positional_embeddings||(e=u(u({},e),await this.get_image_embeddings(e))),!e.input_labels){const t=e.input_points.dims.slice(0,-1),n=t.reduce((e,t)=>e*t,1);e.input_labels=new Fd("int64",new BigInt64Array(n).fill(1n),t)}return await Np(this.prompt_encoder_mask_decoder,{input_points:e.input_points,input_labels:e.input_labels,image_embeddings:e.image_embeddings,image_positional_embeddings:e.image_positional_embeddings})}async _call(e){return new pg(await super._call(e))}}]]]),ey=new Map([["wav2vec2",["Wav2Vec2ForCTC",class extends yg{async _call(e){return new By(await super._call(e))}}]],["wav2vec2-bert",["Wav2Vec2BertForCTC",class extends _g{async _call(e){return new By(await super._call(e))}}]],["unispeech",["UniSpeechForCTC",class extends bg{async _call(e){return new By(await super._call(e))}}]],["unispeech-sat",["UniSpeechSatForCTC",class extends vg{async _call(e){return new By(await super._call(e))}}]],["wavlm",["WavLMForCTC",class extends wg{async _call(e){return new By(await super._call(e))}}]],["hubert",["HubertForCTC",class extends yg{async _call(e){return new By(await super._call(e))}}]]]),ty=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",class extends yg{async _call(e){return new Iy(await super._call(e))}}]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",class extends _g{async _call(e){return new Iy(await super._call(e))}}]],["unispeech",["UniSpeechForSequenceClassification",class extends bg{async _call(e){return new Iy(await super._call(e))}}]],["unispeech-sat",["UniSpeechSatForSequenceClassification",class extends vg{async _call(e){return new Iy(await super._call(e))}}]],["wavlm",["WavLMForSequenceClassification",class extends wg{async _call(e){return new Iy(await super._call(e))}}]],["hubert",["HubertForSequenceClassification",class extends yg{async _call(e){return new Iy(await super._call(e))}}]],["audio-spectrogram-transformer",["ASTForAudioClassification",class extends xm{}]]]),ny=new Map([["wavlm",["WavLMForXVector",class extends wg{async _call(e){return new My(await super._call(e))}}]]]),ry=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",class extends vg{async _call(e){return new Ny(await super._call(e))}}]],["wavlm",["WavLMForAudioFrameClassification",class extends wg{async _call(e){return new Ny(await super._call(e))}}]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",class extends yg{async _call(e){return new Ny(await super._call(e))}}]]]),oy=new Map([["vitmatte",["VitMatteForImageMatting",class extends Gm{async _call(e){return new Ry(await super._call(e))}}]]]),iy=new Map([["swin2sr",["Swin2SRForImageSuperResolution",class extends rg{}]]]),ay=new Map([["dpt",["DPTForDepthEstimation",class extends og{}]],["depth_anything",["DepthAnythingForDepthEstimation",class extends ig{}]],["glpn",["GLPNForDepthEstimation",class extends ag{}]]]),sy=new Map([["clip",["CLIPVisionModelWithProjection",class extends Sm{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="vision_model"),super.from_pretrained(e,n)}}]],["siglip",["SiglipVisionModel",class extends Sm{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="vision_model"),super.from_pretrained(e,n)}}]]]),uy=[[Mg,Sp],[Ng,Tp],[Lg,Fp],[zg,Sp],[Vg,Sp],[Ug,Ap],[jg,Ap],[Gg,Fp],[Hg,Sp],[Wg,Sp],[qg,kp],[Yg,Sp],[Qg,Sp],[Zg,Sp],[oy,Sp],[iy,Sp],[ay,Sp],[Kg,Sp],[$g,Sp],[Jg,Cp],[ey,Sp],[ty,Sp],[Bg,Ap],[Rg,Sp],[ny,Sp],[ry,Sp],[sy,Sp]];for(const[mv,gv]of uy)for(const[e,t]of mv.values())Op.set(e,gv),Ip.set(t,e),Pp.set(e,t);const ly=[["CLIPTextModelWithProjection",class extends Sm{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="text_model"),super.from_pretrained(e,n)}},Sp],["SiglipTextModel",class extends Tm{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="text_model"),super.from_pretrained(e,n)}},Sp],["ClapTextModelWithProjection",class extends Ag{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="text_model"),super.from_pretrained(e,n)}},Sp],["ClapAudioModelWithProjection",class extends Ag{static async from_pretrained(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=n.model_file_name)&&void 0!==t||(n.model_file_name="audio_model"),super.from_pretrained(e,n)}},Sp]];for(const[mv,gv,yv]of ly)Op.set(mv,yv),Ip.set(gv,mv),Pp.set(mv,gv);class cy extends Ig{}a(cy,"MODEL_CLASS_MAPPINGS",uy.map(e=>e[0])),a(cy,"BASE_IF_FAIL",!0);class dy extends Ig{}a(dy,"MODEL_CLASS_MAPPINGS",[zg]);class hy extends Ig{}a(hy,"MODEL_CLASS_MAPPINGS",[Vg]);class fy extends Ig{}a(fy,"MODEL_CLASS_MAPPINGS",[Ug]);class py extends Ig{}a(py,"MODEL_CLASS_MAPPINGS",[jg]);class my extends Ig{}a(my,"MODEL_CLASS_MAPPINGS",[Bg]);class gy extends Ig{}a(gy,"MODEL_CLASS_MAPPINGS",[Rg]);class yy extends Ig{}a(yy,"MODEL_CLASS_MAPPINGS",[Gg]);class by extends Ig{}a(by,"MODEL_CLASS_MAPPINGS",[Hg]);class vy extends Ig{}a(vy,"MODEL_CLASS_MAPPINGS",[Wg]);class _y extends Ig{}a(_y,"MODEL_CLASS_MAPPINGS",[qg]);class wy extends Ig{}a(wy,"MODEL_CLASS_MAPPINGS",[Yg]);class xy extends Ig{}a(xy,"MODEL_CLASS_MAPPINGS",[Qg]);class Dy extends Ig{}a(Dy,"MODEL_CLASS_MAPPINGS",[Zg]);class Ey extends Ig{}a(Ey,"MODEL_CLASS_MAPPINGS",[Kg]);class Sy extends Ig{}a(Sy,"MODEL_CLASS_MAPPINGS",[$g]);a(class extends Ig{},"MODEL_CLASS_MAPPINGS",[Jg]);class Ty extends Ig{}a(Ty,"MODEL_CLASS_MAPPINGS",[ey]);class Ay extends Ig{}a(Ay,"MODEL_CLASS_MAPPINGS",[ty]);a(class extends Ig{},"MODEL_CLASS_MAPPINGS",[ny]);a(class extends Ig{},"MODEL_CLASS_MAPPINGS",[ry]);class ky extends Ig{}a(ky,"MODEL_CLASS_MAPPINGS",[Xg]);a(class extends Ig{},"MODEL_CLASS_MAPPINGS",[oy]);class Fy extends Ig{}a(Fy,"MODEL_CLASS_MAPPINGS",[iy]);class Cy extends Ig{}a(Cy,"MODEL_CLASS_MAPPINGS",[ay]);class Oy extends Ig{}a(Oy,"MODEL_CLASS_MAPPINGS",[sy]);class Py extends Qp{constructor(e){let{logits:t,past_key_values:n,encoder_outputs:r,decoder_attentions:o=null,cross_attentions:i=null}=e;super(),this.logits=t,this.past_key_values=n,this.encoder_outputs=r,this.decoder_attentions=o,this.cross_attentions=i}}class Iy extends Qp{constructor(e){let{logits:t}=e;super(),this.logits=t}}class My extends Qp{constructor(e){let{logits:t,embeddings:n}=e;super(),this.logits=t,this.embeddings=n}}class Ny extends Qp{constructor(e){let{logits:t}=e;super(),this.logits=t}}class Ly extends Qp{constructor(e){let{logits:t}=e;super(),this.logits=t}}class jy extends Qp{constructor(e){let{start_logits:t,end_logits:n}=e;super(),this.start_logits=t,this.end_logits=n}}class By extends Qp{constructor(e){let{logits:t}=e;super(),this.logits=t}}class Ry extends Qp{constructor(e){let{alphas:t}=e;super(),this.alphas=t}}class zy extends Qp{constructor(e){let{waveform:t,spectrogram:n}=e;super(),this.waveform=t,this.spectrogram=n}}var Vy=__webpack_require__(806);const Uy="undefined"!==typeof self,Gy=Uy&&"DedicatedWorkerGlobalScope"===self.constructor.name;let Hy,Wy,qy;if(Uy)Hy=(e,t)=>{if(!self.OffscreenCanvas)throw new Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(e,t)},qy=self.createImageBitmap,Wy=self.ImageData;else{if(!Vy)throw new Error("Unable to load image processing library.");qy=async e=>{const t=(await e.metadata()).channels;let{data:n,info:r}=await e.rotate().raw().toBuffer({resolveWithObject:!0});const o=new Ky(new Uint8ClampedArray(n),r.width,r.height,r.channels);return void 0!==t&&t!==r.channels&&o.convert(t),o}}const Xy={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},Yy=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class Ky{constructor(e,t,n,r){this.data=e,this.width=t,this.height=n,this.channels=r}get size(){return[this.width,this.height]}static async read(e){if(e instanceof Ky)return e;if("string"===typeof e||e instanceof URL)return await this.fromURL(e);throw new Error("Unsupported input type: ".concat(typeof e))}static async fromURL(e){let t=await dd(e);if(200!==t.status)throw new Error('Unable to read image from "'.concat(e,'" (').concat(t.status," ").concat(t.statusText,")"));let n=await t.blob();return this.fromBlob(n)}static async fromBlob(e){if(Uy){let t=await qy(e);const n=Hy(t.width,t.height).getContext("2d");return n.drawImage(t,0,0),new this(n.getImageData(0,0,t.width,t.height).data,t.width,t.height,4)}{let t=Vy(await e.arrayBuffer());return await qy(t)}}static fromTensor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CHW";if(3!==e.dims.length)throw new Error("Tensor should have 3 dimensions, but has ".concat(e.dims.length," dimensions."));if("CHW"===t)e=e.transpose(1,2,0);else if("HWC"!==t)throw new Error("Unsupported channel format: ".concat(t));if(!(e.data instanceof Uint8ClampedArray||e.data instanceof Uint8Array))throw new Error("Unsupported tensor type: ".concat(e.type));switch(e.dims[2]){case 1:case 2:case 3:case 4:return new Ky(e.data,e.dims[1],e.dims[0],e.dims[2]);default:throw new Error("Unsupported number of channels: ".concat(e.dims[2]))}}grayscale(){if(1===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let t=0,n=0;t<this.data.length;t+=this.channels){const r=this.data[t],o=this.data[t+1],i=this.data[t+2];e[n++]=Math.round(.2989*r+.587*o+.114*i)}break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,1)}rgb(){if(3===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t];break;case 4:for(let t=0,n=0;t<this.data.length;t+=4)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2];break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,3)}rgba(){if(4===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=255;break;case 3:for(let t=0,n=0;t<this.data.length;t+=3)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2],e[n++]=255;break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this._update(e,this.width,this.height,4)}async resize(e,t){var n;let{resample:r=2}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null!==(n=Xy[r])&&void 0!==n?n:r;if(Uy){let n=this.channels,r=this.toCanvas();const o=Hy(e,t).getContext("2d");return o.drawImage(r,0,0,e,t),new Ky(o.getImageData(0,0,e,t).data,e,t,4).convert(n)}{let n=this.toSharp();switch(o){case"box":case"hamming":"box"!==o&&"hamming"!==o||(console.warn("Resampling method ".concat(o," is not yet supported. Using bilinear instead.")),o="bilinear");case"nearest":case"bilinear":case"bicubic":n=n.affine([e/this.width,0,0,t/this.height],{interpolator:o});break;case"lanczos":n=n.resize({width:e,height:t,fit:"fill",kernel:"lanczos3"});break;default:throw new Error("Resampling method ".concat(o," is not supported."))}return await qy(n)}}async pad(e){let[t,n,r,o]=e;if(t=Math.max(t,0),n=Math.max(n,0),r=Math.max(r,0),o=Math.max(o,0),0===t&&0===n&&0===r&&0===o)return this;if(Uy){let e=this.channels,i=this.toCanvas(),a=this.width+t+n,s=this.height+r+o;const u=Hy(a,s).getContext("2d");return u.drawImage(i,0,0,this.width,this.height,t,r,a,s),new Ky(u.getImageData(0,0,a,s).data,a,s,4).convert(e)}{let e=this.toSharp().extend({left:t,right:n,top:r,bottom:o});return await qy(e)}}async crop(e){let[t,n,r,o]=e;if(t=Math.max(t,0),n=Math.max(n,0),r=Math.min(r,this.width-1),o=Math.min(o,this.height-1),0===t&&0===n&&r===this.width-1&&o===this.height-1)return this;const i=r-t+1,a=o-n+1;if(Uy){const e=this.channels,r=this.toCanvas(),o=Hy(i,a).getContext("2d");o.drawImage(r,t,n,i,a,0,0,i,a);return new Ky(o.getImageData(0,0,i,a).data,i,a,4).convert(e)}{const e=this.toSharp().extract({left:t,top:n,width:i,height:a});return await qy(e)}}async center_crop(e,t){if(this.width===e&&this.height===t)return this;let n=(this.width-e)/2,r=(this.height-t)/2;if(Uy){let o=this.channels,i=this.toCanvas();const a=Hy(e,t).getContext("2d");let s=0,u=0,l=0,c=0;return n>=0?s=n:l=-n,r>=0?u=r:c=-r,a.drawImage(i,s,u,e,t,l,c,e,t),new Ky(a.getImageData(0,0,e,t).data,e,t,4).convert(o)}{let o=this.toSharp();if(n>=0&&r>=0)o=o.extract({left:Math.floor(n),top:Math.floor(r),width:e,height:t});else if(n<=0&&r<=0){let i=Math.floor(-r),a=Math.floor(-n);o=o.extend({top:i,left:a,right:e-this.width-a,bottom:t-this.height-i})}else{let i=[0,0],a=0;r<0?(i[0]=Math.floor(-r),i[1]=t-this.height-i[0]):a=Math.floor(r);let s=[0,0],u=0;n<0?(s[0]=Math.floor(-n),s[1]=e-this.width-s[0]):u=Math.floor(n),o=o.extend({top:i[0],bottom:i[1],left:s[0],right:s[1]}).extract({left:u,top:a,width:e,height:t})}return await qy(o)}}async toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!Uy)throw new Error("toBlob() is only supported in browser environments.");const n=this.toCanvas();return await n.convertToBlob({type:e,quality:t})}toTensor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CHW",t=new Fd("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if("HWC"===e);else{if("CHW"!==e)throw new Error("Unsupported channel format: ".concat(e));t=t.permute(2,0,1)}return t}toCanvas(){if(!Uy)throw new Error("toCanvas() is only supported in browser environments.");let e=this.clone().rgba(),t=Hy(e.width,e.height),n=new Wy(e.data,e.width,e.height);return t.getContext("2d").putImageData(n,0,0),t}_update(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.data=e,this.width=t,this.height=n,null!==r&&(this.channels=r),this}clone(){return new Ky(this.data.slice(),this.width,this.height,this.channels)}convert(e){if(this.channels===e)return this;switch(e){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw new Error("Conversion failed due to unsupported number of channels: ".concat(this.channels))}return this}async save(e){if(!Uy){if(sd.useFS){const t=this.toSharp();return await t.toFile(e)}throw new Error("Unable to save the image because filesystem is disabled in this environment.")}{var t;if(Gy)throw new Error("Unable to save an image from a Web Worker.");const n=e.split(".").pop().toLowerCase(),r=null!==(t=Yy.get(n))&&void 0!==t?t:"image/png",o=await this.toBlob(r),i=URL.createObjectURL(o),a=document.createElement("a");a.href=i,a.download=e,a.click(),a.remove()}}toSharp(){if(Uy)throw new Error("toSharp() is only supported in server-side environments.");return Vy(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}function $y(e){if(e<1)return new Float64Array;if(1===e)return new Float64Array([1]);const t=e-1,n=Math.PI/t,r=new Float64Array(e);for(let o=0;o<e;++o){const e=2*o-t;r[o]=.5+.5*Math.cos(n*e)}return r}const Qy={htk:e=>2595*Math.log10(1+e/700),kaldi:e=>1127*Math.log(1+e/700),slaney:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:27/Math.log(6.4);return e>=t?n+Math.log(e/t)*r:3*e/200}};function Zy(e){const t=Qy[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"htk"];if(!t)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?t(e):e.map(e=>t(e))}const Jy={htk:e=>700*(10**(e/2595)-1),kaldi:e=>700*(Math.exp(e/1127)-1),slaney:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.log(6.4)/27;return e>=n?t*Math.exp(r*(e-n)):200*e/3}};function eb(e,t,n){const r=(t-e)/(n-1);return Float64Array.from({length:n},(t,n)=>e+r*n)}function tb(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"htk",s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(null!==i&&"slaney"!==i)throw new Error('norm must be one of null or "slaney"');const u=eb(Zy(n,a),Zy(r,a),t+2);let l,c=function(e){const t=Jy[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"htk"];if(!t)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"===typeof e?t(e):e.map(e=>t(e))}(u,a);if(s){const t=o/(2*e);l=Zy(Float64Array.from({length:e},(e,n)=>n*t),a),c=u}else l=eb(0,Math.floor(o/2),e);const d=function(e,t){const n=Float64Array.from({length:t.length-1},(e,n)=>t[n+1]-t[n]),r=Array.from({length:e.length},()=>new Array(t.length));for(let a=0;a<e.length;++a){const n=r[a];for(let r=0;r<t.length;++r)n[r]=t[r]-e[a]}const o=t.length-2,i=Array.from({length:o},()=>new Array(e.length));for(let a=0;a<e.length;++a){const e=r[a];for(let t=0;t<o;++t){const r=-e[t]/n[t],o=e[t+2]/n[t+1];i[t][a]=Math.max(0,Math.min(r,o))}}return i}(l,c);if(null!==i&&"slaney"===i)for(let h=0;h<t;++h){const t=d[h],n=2/(c[h+2]-c[h]);for(let r=0;r<e;++r)t[r]*=n}return d}function nb(e,t,n,r,o){if(n<=0)throw new Error("reference must be greater than zero");if(r<=0)throw new Error("min_value must be greater than zero");n=Math.max(r,n);const i=Math.log10(n);for(let a=0;a<e.length;++a)e[a]=t*Math.log10(Math.max(r,e[a])-i);if(null!==o){if(o<=0)throw new Error("db_range must be greater than zero");const t=_d(e)[0]-o;for(let n=0;n<e.length;++n)e[n]=Math.max(e[n],t)}return e}function rb(e,t,n,r){let{fft_length:o=null,power:i=1,center:a=!0,pad_mode:s="reflect",onesided:u=!0,preemphasis:l=null,mel_filters:c=null,mel_floor:d=1e-10,log_mel:h=null,reference:f=1,min_value:p=1e-10,db_range:m=null,remove_dc_offset:g=null,max_num_frames:y=null,do_pad:b=!0,transpose:v=!1}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const _=t.length;if(null===o&&(o=n),n>o)throw Error("frame_length (".concat(n,") may not be larger than fft_length (").concat(o,")"));if(_!==n)throw new Error("Length of the window (".concat(_,") must equal frame_length (").concat(n,")"));if(r<=0)throw new Error("hop_length must be greater than zero");if(null===i&&null!==c)throw new Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(a){if("reflect"!==s)throw new Error('pad_mode="'.concat(s,'" not implemented yet.'));const t=Math.floor((o-1)/2)+1;e=function(e,t,n){const r=new e.constructor(e.length+t+n),o=e.length-1;for(let i=0;i<e.length;++i)r[t+i]=e[i];for(let i=1;i<=t;++i)r[t-i]=e[Lc(i,o)];for(let i=1;i<=n;++i)r[o+t+i]=e[Lc(o-i,o)];return r}(e,t,t)}const w=Math.floor(1+Math.floor((e.length-n)/r)),x=u?Math.floor(o/2)+1:o;let D=w,E=w;null!==y&&(y>w?b&&(E=y):E=D=y);const S=new Ed(o),T=new Float64Array(o),A=new Float64Array(S.outputBufferSize),k=new Array(D);for(let P=0;P<D;++P){const o=P*r;for(let t=0;t<n;++t)T[t]=e[o+t];if(g){let e=0;for(let r=0;r<n;++r)e+=T[r];const t=e/n;for(let r=0;r<n;++r)T[r]-=t}if(null!==l){for(let e=n-1;e>=1;--e)T[e]-=l*T[e-1];T[0]*=1-l}for(let e=0;e<t.length;++e)T[e]*=t[e];S.realTransform(A,T);const i=new Array(x);for(let e=0;e<i.length;++e){const t=e<<1;i[e]=A[t]**2+A[t+1]**2}k[P]=i}if(null!==i&&2!==i){const e=2/i;for(let t=0;t<k.length;++t){const n=k[t];for(let t=0;t<n.length;++t)n[t]**=e}}const F=c.length,C=new Float32Array(F*E),O=v?[E,F]:[F,E];for(let P=0;P<F;++P){const e=c[P];for(let t=0;t<D;++t){const n=k[t];let r=0;for(let t=0;t<x;++t)r+=e[t]*n[t];C[v?t*F+P:P*D+t]=Math.max(d,r)}}if(null!==i&&null!==h){const e=Math.min(C.length,D*F);switch(h){case"log":for(let t=0;t<e;++t)C[t]=Math.log(C[t]);break;case"log10":for(let t=0;t<e;++t)C[t]=Math.log10(C[t]);break;case"dB":if(1===i)!function(e){nb(e,20,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}(C,f,p,m);else{if(2!==i)throw new Error("Cannot use log_mel option '".concat(h,"' with power ").concat(i));!function(e){nb(e,10,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}(C,f,p,m)}break;default:throw new Error("log_mel must be one of null, 'log', 'log10' or 'dB'. Got '".concat(h,"'"))}}return{data:C,dims:O}}function ob(e,t){let{periodic:n=!0,frame_length:r=null,center:o=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=n?e+1:e;let a;switch(t){case"boxcar":a=new Float64Array(i).fill(1);break;case"hann":case"hann_window":a=$y(i);break;case"povey":a=$y(i).map(e=>Math.pow(e,.85));break;default:throw new Error("Unknown window type ".concat(t,"."))}if(n&&(a=a.subarray(0,e)),null===r)return a;if(e>r)throw new Error("Length of the window (".concat(e,") may not be larger than frame_length (").concat(r,")"));return a}function ib(e){let[t,n,r,o]=e;return[t-r/2,n-o/2,t+r/2,n+o/2]}function ab(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e.logits,i=e.pred_boxes,[a,s,u]=o.dims;if(null!==n&&n.length!==a)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let l=[];for(let c=0;c<a;++c){let e=null!==n?n[c]:null,a={boxes:[],classes:[],scores:[]},d=o[c],h=i[c];for(let n=0;n<s;++n){let o,i=d[n],s=[];if(r){o=i.sigmoid().data;for(let e=0;e<o.length;++e)o[e]>t&&s.push(e)}else{let e=_d(i.data)[1];if(e===u-1)continue;s.push(e),o=yd(i.data)}for(const t of s){let r=h[n].data;r=ib(r),null!==e&&(r=r.map((t,n)=>t*e[(n+1)%2])),a.boxes.push(r),a.classes.push(t),a.scores.push(o[t])}}l.push(a)}return l}function sb(e,t){var n,r;if(!(e instanceof Float32Array||e instanceof Float64Array))throw new Error("".concat(t," expects input to be a Float32Array or a Float64Array, but got ").concat(null!==(n=null===e||void 0===e||null===(r=e.constructor)||void 0===r?void 0:r.name)&&void 0!==n?n:typeof e," instead. ")+"If using the feature extractor directly, remember to use `read_audio(url, sampling_rate)` to obtain the raw audio data of the file/url.")}function ub(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=e/t;let i=function(e){const t=Math.round(e);return Math.abs(e)%1===.5?t%2===0?t:t-1:t}(o)*t;return null!==r&&i>r&&(i=Math.floor(o)*t),i<n&&(i=Math.ceil(o)*t),i}function lb(e,t){let[n,r]=e;return[Math.max(Math.floor(n/t),1)*t,Math.max(Math.floor(r/t),1)*t]}class cb extends Cc{constructor(e){super(),this.config=e}}class db extends cb{constructor(e){var t,n,r,o,i,a,s,u;super(e),this.image_mean=null!==(t=this.config.image_mean)&&void 0!==t?t:this.config.mean,this.image_std=null!==(n=this.config.image_std)&&void 0!==n?n:this.config.std,this.resample=null!==(r=this.config.resample)&&void 0!==r?r:2,this.do_rescale=null===(o=this.config.do_rescale)||void 0===o||o,this.rescale_factor=null!==(i=this.config.rescale_factor)&&void 0!==i?i:1/255,this.do_normalize=this.config.do_normalize,this.do_resize=this.config.do_resize,this.do_thumbnail=this.config.do_thumbnail,this.size=this.config.size,this.size_divisibility=null!==(a=this.config.size_divisibility)&&void 0!==a?a:this.config.size_divisor,this.do_center_crop=this.config.do_center_crop,this.crop_size=this.config.crop_size,this.do_convert_rgb=null===(s=this.config.do_convert_rgb)||void 0===s||s,this.do_crop_margin=this.config.do_crop_margin,this.pad_size=this.config.pad_size,this.do_pad=this.config.do_pad,this.do_pad&&!this.pad_size&&this.size&&void 0!==this.size.width&&void 0!==this.size.height&&(this.pad_size=this.size),this.do_flip_channel_order=null!==(u=this.config.do_flip_channel_order)&&void 0!==u&&u}async thumbnail(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=e.height,o=e.width,i=t.height,a=t.width;let s=Math.min(r,i),u=Math.min(o,a);return s===r&&u===o?e:(r>o?u=Math.floor(o*s/r):o>r&&(s=Math.floor(r*u/o)),await e.resize(u,s,{resample:n}))}async crop_margin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;const n=e.clone().grayscale(),r=vd(n.data)[0],o=_d(n.data)[0]-r;if(0===o)return e;const i=t/255;let a=n.width,s=n.height,u=0,l=0;for(let c=0;c<n.height;++c){const e=c*n.width;for(let t=0;t<n.width;++t)(n.data[e+t]-r)/o<i&&(a=Math.min(a,t),s=Math.min(s,c),u=Math.max(u,t),l=Math.max(l,c))}return e=await e.crop([a,s,u,l])}pad_image(e,t,n){let{mode:r="constant",center:o=!1,constant_values:i=0}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[a,s,u]=t;let l,c;if("number"===typeof n?(l=n,c=n):(l=n.width,c=n.height),l!==s||c!==a){const n=new Float32Array(l*c*u);if(Array.isArray(i))for(let e=0;e<n.length;++e)n[e]=i[e%u];else 0!==i&&n.fill(i);const[d,h]=o?[Math.floor((l-s)/2),Math.floor((c-a)/2)]:[0,0];for(let t=0;t<a;++t){const r=(t+h)*l,o=t*s;for(let t=0;t<s;++t){const i=(r+t+d)*u,a=(o+t)*u;for(let t=0;t<u;++t)n[i+t]=e[a+t]}}if("symmetric"===r){if(o)throw new Error("`center` padding is not supported when `mode` is set to `symmetric`.");const t=a-1,r=s-1;for(let o=0;o<c;++o){const i=o*l,c=Lc(o,t)*s;for(let t=0;t<l;++t){if(o<a&&t<s)continue;const l=(i+t)*u,d=(c+Lc(t,r))*u;for(let t=0;t<u;++t)n[l+t]=e[d+t]}}}e=n,t=[c,l,u]}return[e,t]}rescale(e){for(let t=0;t<e.length;++t)e[t]=this.rescale_factor*e[t]}get_resize_output_image_size(e,t){const[n,r]=e.size;let o,i;if(this.do_thumbnail){const{height:e,width:n}=t;o=Math.min(e,n)}else if(Number.isInteger(t)){var a;o=t,i=null!==(a=this.config.max_size)&&void 0!==a?a:o}else void 0!==t&&(o=t.shortest_edge,i=t.longest_edge);if(void 0!==o||void 0!==i){const e=void 0===o?1:Math.max(o/n,o/r),t=n*e,a=r*e,s=void 0===i?1:Math.min(i/t,i/a);let u=Math.floor(Number((t*s).toFixed(2))),l=Math.floor(Number((a*s).toFixed(2)));return void 0!==this.size_divisibility&&([u,l]=lb([u,l],this.size_divisibility)),[u,l]}if(void 0!==t&&void 0!==t.width&&void 0!==t.height){let e=t.width,o=t.height;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let t=o/r,i=e/n;Math.abs(1-i)<Math.abs(1-t)?t=i:i=t,o=ub(t*r,this.config.ensure_multiple_of),e=ub(i*n,this.config.ensure_multiple_of)}return[e,o]}if(void 0!==this.size_divisibility)return lb([n,r],this.size_divisibility);throw new Error("Could not resize image due to unsupported `this.size` option in config: ".concat(JSON.stringify(t)))}async resize(e){const[t,n]=this.get_resize_output_image_size(e,this.size);return await e.resize(t,n,{resample:this.resample})}async preprocess(e){let{do_normalize:t=null,do_pad:n=null,do_convert_rgb:r=null,do_convert_grayscale:o=null,do_flip_channel_order:i=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.do_crop_margin&&(e=await this.crop_margin(e));const[a,s]=e.size;if((null!==r&&void 0!==r?r:this.do_convert_rgb)?e=e.rgb():o&&(e=e.grayscale()),this.do_resize&&(e=await this.resize(e)),this.do_thumbnail&&(e=await this.thumbnail(e,this.size,this.resample)),this.do_center_crop){let t,n;Number.isInteger(this.crop_size)?(t=this.crop_size,n=this.crop_size):(t=this.crop_size.width,n=this.crop_size.height),e=await e.center_crop(t,n)}const u=[e.height,e.width];let l=Float32Array.from(e.data),c=[e.height,e.width,e.channels];if(this.do_rescale&&this.rescale(l),null!==t&&void 0!==t?t:this.do_normalize){let t=this.image_mean;Array.isArray(this.image_mean)||(t=new Array(e.channels).fill(t));let n=this.image_std;if(Array.isArray(this.image_std)||(n=new Array(e.channels).fill(t)),t.length!==e.channels||n.length!==e.channels)throw new Error("When set to arrays, the length of `image_mean` (".concat(t.length,") and `image_std` (").concat(n.length,") must match the number of channels in the image (").concat(e.channels,")."));for(let r=0;r<l.length;r+=e.channels)for(let o=0;o<e.channels;++o)l[r+o]=(l[r+o]-t[o])/n[o]}if(null!==n&&void 0!==n?n:this.do_pad)if(this.pad_size){const t=this.pad_image(l,[e.height,e.width,e.channels],this.pad_size);[l,c]=t}else if(this.size_divisibility){const[e,t]=lb([c[1],c[0]],this.size_divisibility);[l,c]=this.pad_image(l,c,{width:e,height:t})}if(null!==i&&void 0!==i?i:this.do_flip_channel_order){if(3!==c[2])throw new Error("Flipping channel order is only supported for RGB images.");for(let e=0;e<l.length;e+=3){const t=l[e];l[e]=l[e+2],l[e+2]=t}}return{original_size:[s,a],reshaped_input_size:u,pixel_values:new Fd("float32",l,c).permute(2,0,1)}}async _call(e){Array.isArray(e)||(e=[e]);const t=await Promise.all(e.map(e=>this.preprocess(e)));return{pixel_values:Nd(t.map(e=>e.pixel_values),0),original_sizes:t.map(e=>e.original_size),reshaped_input_sizes:t.map(e=>e.reshaped_input_size)}}}class hb extends db{}class fb extends db{constructor(e){var t;super(e),this.crop_pct=null!==(t=this.config.crop_pct)&&void 0!==t?t:.875}async resize(e){var t;const n=null===(t=this.size)||void 0===t?void 0:t.shortest_edge;if(void 0===n)throw new Error("Size dictionary must contain 'shortest_edge' key.");if(n<384){const t=Math.floor(n/this.crop_pct),[r,o]=this.get_resize_output_image_size(e,{shortest_edge:t});e=await e.resize(r,o,{resample:this.resample}),e=await e.center_crop(n,n)}else e=await e.resize(n,n,{resample:this.resample});return e}}class pb extends db{}class mb extends db{post_process_object_detection(){return ab(...arguments)}}class gb extends db{pad_image(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[o,i,a]=t;let s=this.image_mean;Array.isArray(this.image_mean)||(s=new Array(a).fill(s));let l=this.image_std;Array.isArray(l)||(l=new Array(a).fill(s));const c=s.map((e,t)=>-e/l[t]);return super.pad_image(e,t,n,u({center:!0,constant_values:c},r))}}class yb extends Cc{constructor(e){super(),this.feature_extractor=e}async _call(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await this.feature_extractor(e,...n)}}class bb{static async from_pretrained(e){var t,n;let{progress_callback:r=null,config:o=null,cache_dir:i=null,local_files_only:a=!1,revision:s="main"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=null!==o&&void 0!==o?o:await md(e,"preprocessor_config.json",!0,{progress_callback:r,config:o,cache_dir:i,local_files_only:a,revision:s}),l=null!==(t=u.feature_extractor_type)&&void 0!==t?t:u.image_processor_type,c=this.FEATURE_EXTRACTOR_CLASS_MAPPING[l];if(!c){if(void 0===u.size)throw new Error("Unknown Feature Extractor type: ".concat(l));console.warn('Feature extractor type "'.concat(l,'" not found, assuming ImageFeatureExtractor due to size parameter in config.')),c=db}return new(null!==(n=this.PROCESSOR_CLASS_MAPPING[u.processor_class])&&void 0!==n?n:yb)(new c(u))}}async function vb(e){return Array.isArray(e)||(e=[e]),await Promise.all(e.map(e=>Ky.read(e)))}async function _b(e,t){return Array.isArray(e)||(e=[e]),await Promise.all(e.map(e=>"string"===typeof e||e instanceof URL?async function(e,t){if("undefined"===typeof AudioContext)throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");const n=await(await dd(e)).arrayBuffer(),r=new AudioContext({sampleRate:t});"undefined"===typeof t&&console.warn("No sampling rate provided, using default of ".concat(r.sampleRate,"Hz."));const o=await r.decodeAudioData(n);let i;if(2===o.numberOfChannels){const e=Math.sqrt(2),t=o.getChannelData(0),n=o.getChannelData(1);i=new Float32Array(t.length);for(let r=0;r<o.length;++r)i[r]=e*(t[r]+n[r])/2}else i=o.getChannelData(0);return i}(e,t):e instanceof Float64Array?new Float32Array(e):e))}function wb(e,t){t&&(e=e.map(e=>0|e));const[n,r,o,i]=e;return{xmin:n,ymin:r,xmax:o,ymax:i}}a(bb,"FEATURE_EXTRACTOR_CLASS_MAPPING",{ImageFeatureExtractor:db,WhisperFeatureExtractor:class extends cb{constructor(e){var t,n;super(e),null!==(n=(t=this.config).mel_filters)&&void 0!==n||(t.mel_filters=tb(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8e3,this.config.sampling_rate,"slaney","slaney")),this.window=ob(this.config.n_fft,"hann")}_extract_fbank_features(e){const{data:t,dims:n}=rb(e,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:this.config.nb_max_frames}),r=_d(t)[0];for(let o=0;o<t.length;++o)t[o]=(Math.max(t[o],r-8)+4)/4;return{data:t,dims:n}}async _call(e){let t;sb(e,"WhisperFeatureExtractor"),e.length>this.config.n_samples?(console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`."),t=e.slice(0,this.config.n_samples)):(t=new Float32Array(this.config.n_samples),t.set(e));const{data:n,dims:r}=this._extract_fbank_features(t);return{input_features:new Fd("float32",n,[1,...r])}}},ViTFeatureExtractor:class extends db{},MobileViTFeatureExtractor:pb,MobileViTImageProcessor:class extends pb{},OwlViTFeatureExtractor:mb,Owlv2ImageProcessor:class extends mb{},CLIPFeatureExtractor:class extends db{},ChineseCLIPFeatureExtractor:class extends db{},SiglipImageProcessor:class extends db{},ConvNextFeatureExtractor:fb,ConvNextImageProcessor:class extends fb{},SegformerFeatureExtractor:class extends db{post_process_semantic_segmentation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=e.logits,r=n.dims[0];if(null!==t&&t.length!==r)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const o=[];for(let i=0;i<r;++i){const e=null!==t?t[i]:null;let r=n[i];null!==e&&(r=Cd(r,e,"bilinear",!1));const[a,s]=null!==e&&void 0!==e?e:r.dims.slice(-2),u=new Fd("int32",new Int32Array(a*s),[a,s]),l=r[0].data;for(let t=1;t<r.dims[0];++t){const e=r[t].data;for(let n=0;n<e.length;++n)e[n]>l[n]&&(l[n]=e[n],u.data[n]=t)}const c=new Array(r.dims[0]),d=u.data;for(let t=0;t<d.length;++t){const e=d[t];c[e]=e}const h=c.filter(e=>void 0!==e);o.push({segmentation:u,labels:h})}return o}},BitImageProcessor:class extends db{},DPTImageProcessor:class extends hb{},DPTFeatureExtractor:hb,GLPNFeatureExtractor:class extends db{},BeitFeatureExtractor:class extends db{},DeiTFeatureExtractor:class extends db{},DetrFeatureExtractor:class extends db{async _call(e){const t=await super._call(e),n=[t.pixel_values.dims[0],64,64],r=new Fd("int64",new BigInt64Array(n.reduce((e,t)=>e*t)).fill(1n),n);return u(u({},t),{},{pixel_mask:r})}post_process_object_detection(){return ab(...arguments)}remove_low_and_no_objects(e,t,n,r){let o=[],i=[],a=[];for(let s=0;s<e.dims[0];++s){let u=e[s],l=t[s],c=_d(u.data)[1];if(c===r)continue;let d=yd(u.data)[c];d>n&&(o.push(l),i.push(d),a.push(c))}return[o,i,a]}check_segment_validity(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.8,i=[],a=0,s=0;for(let l=0;l<e.length;++l)e[l]===n&&(i.push(l),++a),t[n].data[l]>=r&&++s;let u=a>0&&s>0;if(u){u=a/s>o}return[u,i]}compute_segments(e,t,n,r,o){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,[a,s]=null!==i&&void 0!==i?i:e[0].dims,u=new Fd("int32",new Int32Array(a*s),[a,s]),l=[];if(null!==i)for(let f=0;f<e.length;++f)e[f]=Cd(e[f],i,"bilinear",!1);let c=new Int32Array(e[0].data.length),d=new Float32Array(e[0].data.length);for(let f=0;f<e.length;++f){let n=t[f];for(let t=0;t<e[f].data.length;++t)e[f].data[t]*=n,e[f].data[t]>d[t]&&(c[t]=f,d[t]=e[f].data[t])}let h=0;for(let f=0;f<n.length;++f){let i=n[f],[a,s]=this.check_segment_validity(c,e,f,r,o);if(a){++h;for(let e of s)u.data[e]=h;l.push({id:h,label_id:i,score:t[f]})}}return[u,l]}post_process_panoptic_segmentation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===o&&(console.warn("`label_ids_to_fuse` unset. No instance will be fused."),o=new Set);const a=e.logits,s=e.pred_masks.sigmoid();let[u,l,c]=a.dims;if(c-=1,null!==i&&i.length!==u)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let d=[];for(let h=0;h<u;++h){let e=null!==i?i[h]:null,u=a[h],l=s[h],[f,p,m]=this.remove_low_and_no_objects(u,l,t,c);if(0===m.length){let[t,n]=null!==e&&void 0!==e?e:l.dims.slice(-2),r=new Fd("int32",new Int32Array(t*n).fill(-1),[t,n]);d.push({segmentation:r,segments_info:[]});continue}let[g,y]=this.compute_segments(f,p,m,n,r,o,e);d.push({segmentation:g,segments_info:y})}return d}post_process_instance_segmentation(){throw Error("Not implemented yet")}},YolosFeatureExtractor:class extends db{post_process_object_detection(){return ab(...arguments)}},DonutFeatureExtractor:gb,NougatImageProcessor:class extends gb{},EfficientNetImageProcessor:class extends db{constructor(e){var t;super(e),this.include_top=null===(t=this.config.include_top)||void 0===t||t,this.include_top&&(this.image_std=this.image_std.map(e=>e*e))}},ViTImageProcessor:class extends db{},VitMatteImageProcessor:class extends db{async _call(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);const n=await Promise.all(e.map(e=>this.preprocess(e))),r=await Promise.all(t.map(e=>this.preprocess(e,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0})));return{pixel_values:Nd(n.map((e,t)=>Md([e.pixel_values,r[t].pixel_values],0)),0),original_sizes:n.map(e=>e.original_size),reshaped_input_sizes:n.map(e=>e.reshaped_input_size)}}},SamImageProcessor:class extends db{reshape_input_points(e,t,n){let r=Pc(e=structuredClone(e));if(3===r.length)r=[1,...r],e=[e];else if(4!==r.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let o=0;o<e.length;++o){let r=t[o],i=n[o],a=[i[0]/r[0],i[1]/r[1]];for(let t=0;t<e[o].length;++t)for(let n=0;n<e[o][t].length;++n)for(let r=0;r<e[o][t][n].length;++r)e[o][t][n][r]*=a[r]}return new Fd("float32",Float32Array.from(e.flat(1/0)),r)}add_input_labels(e,t){let n=Pc(e);if(2===n.length)n=[1,...n],e=[e];else if(3!==n.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(n.some((e,n)=>e!==t.dims[n]))throw Error("The first ".concat(n.length," dimensions of 'input_points' and 'input_labels' must be the same."));return new Fd("int64",e.flat(1/0).map(BigInt),n)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=await super._call(e);if(t&&(r.input_points=this.reshape_input_points(t,r.original_sizes,r.reshaped_input_sizes)),n){if(!r.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");r.input_labels=this.add_input_labels(n,r.input_points)}return r}post_process_masks(e,t,n){let{mask_threshold:r=0,binarize:o=!0,pad_size:i=null}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=[];i=null!==i&&void 0!==i?i:this.pad_size;const s=[i.height,i.width];for(let u=0;u<t.length;++u){const i=t[u],l=n[u],c=e[u],d=[];for(let e=0;e<c.dims[0];++e){let t=Cd(c[e],s,"bilinear",!1);if(t=t.slice(null,[0,l[0]],[0,l[1]]),t=Cd(t,i,"bilinear",!1),o){const e=new Uint8Array(t.data.length);for(let n=0;n<t.data.length;++n)t.data[n]>r&&(e[n]=1);t=new Fd("bool",e,t.dims)}d.push(t)}a.push(Nd(d))}return a}},Swin2SRImageProcessor:class extends db{pad_image(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[o,i,a]=t;return super.pad_image(e,t,{width:i+(n-i%n)%n,height:o+(n-o%n)%n},u({mode:"symmetric",center:!1,constant_values:-1},r))}},Wav2Vec2FeatureExtractor:class extends cb{_zero_mean_unit_var_norm(e){const t=e.reduce((e,t)=>e+t,0)/e.length,n=e.reduce((e,n)=>e+(n-t)**2,0)/e.length;return e.map(e=>(e-t)/Math.sqrt(n+1e-7))}async _call(e){sb(e,"Wav2Vec2FeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));let t=e;this.config.do_normalize&&(t=this._zero_mean_unit_var_norm(t));const n=[1,t.length];return{input_values:new Fd("float32",t,n),attention_mask:new Fd("int64",new BigInt64Array(t.length).fill(1n),n)}}},SeamlessM4TFeatureExtractor:class extends cb{constructor(e){super(e);const t=this.config.sampling_rate,n=tb(256,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);for(let r=0;r<n.length;++r)n[r].push(0);this.mel_filters=n,this.window=ob(400,"povey",{periodic:!1})}_extract_fbank_features(e,t){return rb(e=e.map(e=>32768*e),this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){let{padding:t=!0,pad_to_multiple_of:n=2,do_normalize_per_mel_bins:r=!0,return_attention_mask:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};sb(e,"SeamlessM4TFeatureExtractor");let i,a=this._extract_fbank_features(e,this.config.max_length);if(r){const[e,t]=a.dims;for(let n=0;n<t;++n){let r=0;for(let u=0;u<e;++u)r+=a.data[u*t+n];const o=r/e;let i=0;for(let u=0;u<e;++u)i+=(a.data[u*t+n]-o)**2;i/=e-1;const s=Math.sqrt(i+1e-7);for(let u=0;u<e;++u){const e=u*t+n;a.data[e]=(a.data[e]-o)/s}}}if(t){const[e,t]=a.dims,r=e%n;if(r>0){const n=new Float32Array(t*(e+r));n.set(a.data),n.fill(this.config.padding_value,a.data.length);const s=e+r;a={data:n,dims:[s,t]},o&&(i=new Fd("int64",new BigInt64Array(s),[1,s]),i.data.fill(1n,0,e))}}const[s,u]=a.dims,l=this.config.stride;if(0!==s%l)throw new Error("The number of frames (".concat(s,") must be a multiple of the stride (").concat(l,")."));const c=new Fd("float32",a.data,a.dims).view(1,Math.floor(s/l),u*l),d={input_features:c};if(o){const e=c.dims[1],t=new Fd("int64",new BigInt64Array(e),[1,e]);if(i)for(let n=1,r=0;n<s;n+=l,++r)t.data[r]=i.data[n];else t.data.fill(1n);d.attention_mask=t}return d}},SpeechT5FeatureExtractor:class extends cb{},ASTFeatureExtractor:class extends cb{constructor(e){super(e);const t=this.config.sampling_rate,n=tb(256,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);for(let r=0;r<n.length;++r)n[r].push(0);this.mel_filters=n,this.window=ob(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}_extract_fbank_features(e,t){return rb(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){sb(e,"ASTFeatureExtractor");const t=this._extract_fbank_features(e,this.config.max_length);if(this.config.do_normalize){const e=2*this.std;for(let n=0;n<t.data.length;++n)t.data[n]=(t.data[n]-this.mean)/e}return{input_values:new Fd("float32",t.data,[1,...t.dims])}}},ClapFeatureExtractor:class extends cb{constructor(e){super(e),this.mel_filters=tb(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=tb(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=ob(this.config.fft_window_size,"hann")}_get_input_mel(e,t,n,r){let o,i=!1;const a=e.length-t;if(a>0){if("rand_trunc"!==n)throw new Error('Truncation strategy "'.concat(n,'" not implemented'));{i=!0;const n=Math.floor(Math.random()*(a+1));e=e.subarray(n,n+t),o=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),o.dims=[1,...o.dims]}}else{if(a<0){let n=new Float64Array(t);if(n.set(e),"repeat"===r)for(let r=e.length;r<t;r+=e.length)n.set(e.subarray(0,Math.min(e.length,t-r)),r);else if("repeatpad"===r)for(let t=e.length;t<-a;t+=e.length)n.set(e,t);e=n}if("fusion"===n)throw new Error('Truncation strategy "'.concat(n,'" not implemented'));o=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),o.dims=[1,...o.dims]}return u(u({},o),{},{longer:i})}_extract_fbank_features(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return rb(e,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:t,log_mel:"dB",max_num_frames:n,do_pad:!1,transpose:!0})}async _call(e){let{max_length:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};sb(e,"ClapFeatureExtractor");const n=this._get_input_mel(e,null!==t&&void 0!==t?t:this.config.nb_max_samples,this.config.truncation,this.config.padding);return{input_features:new Fd("float32",n.data,[1,...n.dims])}}}}),a(bb,"PROCESSOR_CLASS_MAPPING",{WhisperProcessor:class extends yb{async _call(e){return await this.feature_extractor(e)}},Wav2Vec2ProcessorWithLM:class extends yb{async _call(e){return await this.feature_extractor(e)}},SamProcessor:class extends yb{async _call(){return await this.feature_extractor(...arguments)}post_process_masks(){return this.feature_extractor.post_process_masks(...arguments)}reshape_input_points(){return this.feature_extractor.reshape_input_points(...arguments)}},SpeechT5Processor:class extends yb{async _call(e){return await this.feature_extractor(e)}},OwlViTProcessor:class extends yb{}});class xb extends Cc{constructor(e){let{task:t,model:n,tokenizer:r=null,processor:o=null}=e;super(),this.task=t,this.model=n,this.tokenizer=r,this.processor=o}async dispose(){await this.model.dispose()}}class Db extends xb{constructor(e){super(e),a(this,"_key","generated_text")}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(e)||(e=[e]),this.model.config.prefix&&(e=e.map(e=>this.model.config.prefix+e));const n=this.model.config.task_specific_params;n&&n[this.task]&&n[this.task].prefix&&(e=e.map(e=>n[this.task].prefix+e));const r=this.tokenizer,o={padding:!0,truncation:!0};let i;i=this instanceof Eb&&"_build_translation_inputs"in r?r._build_translation_inputs(e,o,t).input_ids:r(e,o).input_ids;const a=await this.model.generate(i,t);return r.batch_decode(a,{skip_special_tokens:!0}).map(e=>({[this._key]:e}))}}class Eb extends Db{constructor(e){super(e),a(this,"_key","translation_text")}}function Sb(e){return Array.isArray(e)&&e.every(e=>"role"in e&&"content"in e)}const Tb=Object.freeze({"text-classification":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e){let{topk:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.tokenizer(e,{padding:!0,truncation:!0}),r=await this.model(n),o="multi_label_classification"===this.model.config.problem_type?e=>e.sigmoid().data:e=>yd(e.data),i=this.model.config.id2label,a=[];for(const s of r.logits){const e=bd(o(s),t).map(e=>({label:i[e[0]],score:e[1]}));1===t?a.push(...e):a.push(e)}return Array.isArray(e)||1===t?a:a[0]}},model:dy,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e){let{ignore_labels:t=["O"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),r=this.tokenizer(n?e:[e],{padding:!0,truncation:!0}),o=(await this.model(r)).logits,i=this.model.config.id2label,a=[];for(let s=0;s<o.dims[0];++s){const e=r.input_ids[s],n=o[s],u=[];for(let r=0;r<n.dims[0];++r){const o=n[r],a=_d(o.data)[1],s=i?i[a]:"LABEL_".concat(a);if(t.includes(s))continue;const l=this.tokenizer.decode([e[r].item()],{skip_special_tokens:!0});if(""===l)continue;const c=yd(o.data);u.push({entity:s,score:c[a],index:r,word:l,start:null,end:null})}a.push(u)}return n?a:a[0]}},model:hy,default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e,t){let{topk:n=1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.tokenizer(e,{text_pair:t,padding:!0,truncation:!0}),o=await this.model(r),i=[];for(let a=0;a<o.start_logits.dims[0];++a){const e=r.input_ids[a],t=e.indexOf(this.tokenizer.sep_token_id),s=Nc(Array.from(yd(o.start_logits[a].data)).map((e,t)=>[e,t]).filter(e=>e[1]>t),Array.from(yd(o.end_logits[a].data)).map((e,t)=>[e,t]).filter(e=>e[1]>t)).filter(e=>e[0][1]<=e[1][1]).map(e=>[e[0][1],e[1][1],e[0][0]*e[1][0]]).sort((e,t)=>t[2]-e[2]);for(let r=0;r<Math.min(s.length,n);++r){const[t,n,o]=s[r],a=[...e].slice(t,n+1),u=this.tokenizer.decode(a,{skip_special_tokens:!0});i.push({answer:u,score:o})}}return 1===n?i[0]:i}},model:vy,default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e){let{topk:t=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.tokenizer(e,{padding:!0,truncation:!0}),r=await this.model(n),o=[];for(let i=0;i<n.input_ids.dims[0];++i){const e=n.input_ids[i],a=e.indexOf(this.tokenizer.mask_token_id);if(-1===a)throw Error("Mask token (".concat(this.tokenizer.mask_token,") not found in text."));const s=bd(yd(r.logits[i][a].data),t);o.push(s.map(t=>{const n=[...e];return n[a]=t[0],{score:t[1],token:t[0],token_str:this.tokenizer.model.vocab[t[0]],sequence:this.tokenizer.decode(n,{skip_special_tokens:!0})}}))}return Array.isArray(e)?o:o[0]}},model:by,default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:np,pipeline:class extends Db{constructor(e){super(e),a(this,"_key","summary_text")}},model:fy,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:np,pipeline:Eb,model:fy,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:np,pipeline:Db,model:fy,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e){var t,n;let r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!1,a=!1;if("string"===typeof e)r=e=[e];else if(Array.isArray(e)&&e.every(e=>"string"===typeof e))i=!0,r=e;else{if(Sb(e))e=[e];else{if(!Array.isArray(e)||!e.every(Sb))throw new Error("Input must be a string, an array of strings, a Chat, or an array of Chats");i=!0}a=!0,r=e.map(e=>this.tokenizer.apply_chat_template(e,{tokenize:!1,add_generation_prompt:!0}))}const s=null!==(t=o.add_special_tokens)&&void 0!==t&&t,u=!a&&(null===(n=o.return_full_text)||void 0===n||n);this.tokenizer.padding_side="left";const{input_ids:l,attention_mask:c}=this.tokenizer(r,{add_special_tokens:s,padding:!0,truncation:!0}),d=await this.model.generate(l,o,null,{inputs_attention_mask:c});let h,f=this.tokenizer.batch_decode(d,{skip_special_tokens:!0});!u&&l.dims.at(-1)>0&&(h=this.tokenizer.batch_decode(l,{skip_special_tokens:!0}).map(e=>e.length));const p=Array.from({length:e.length},e=>[]);for(let m=0;m<f.length;++m){const t=Math.floor(m/d.length*e.length);h&&(f[m]=f[m].slice(h[t])),p[t].push({generated_text:a?[...e[t],{role:"assistant",content:f[m]}]:f[m]})}return i||1!==p.length?p:p[0]}},model:yy,default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:np,pipeline:class extends xb{constructor(e){var t;super(e),this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map(e=>{let[t,n]=e;return[t.toLowerCase(),n]})),this.entailment_id=this.label2id.entailment,void 0===this.entailment_id&&(console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2),this.contradiction_id=null!==(t=this.label2id.contradiction)&&void 0!==t?t:this.label2id.not_entailment,void 0===this.contradiction_id&&(console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0)}async _call(e,t){let{hypothesis_template:n="This example is {}.",multi_label:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=Array.isArray(e);o||(e=[e]),Array.isArray(t)||(t=[t]);const i=t.map(e=>n.replace("{}",e)),a=r||1===t.length,s=[];for(const u of e){const e=[];for(const t of i){const n=this.tokenizer(u,{text_pair:t,padding:!0,truncation:!0}),r=await this.model(n);a?e.push([r.logits.data[this.contradiction_id],r.logits.data[this.entailment_id]]):e.push(r.logits.data[this.entailment_id])}const n=(a?e.map(e=>yd(e)[1]):yd(e)).map((e,t)=>[e,t]).sort((e,t)=>t[0]-e[0]);s.push({sequence:u,labels:n.map(e=>t[e[1]]),scores:n.map(e=>e[0])})}return o?s:s[0]}},model:dy,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:class extends xb{constructor(e){super(e)}async _call(e){let{topk:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=!Array.isArray(e),r=this.processor.feature_extractor.config.sampling_rate,o=await _b(e,r),i=this.model.config.id2label,a=[];for(const s of o){const e=await this.processor(s),n=bd(yd((await this.model(e)).logits[0].data),t).map(e=>({label:i[e[0]],score:e[1]}));1===t?a.push(...n):a.push(n)}return n&&1!==t?a[0]:a}},model:Ay,processor:bb,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e,t){let{hypothesis_template:n="This is a sound of {}."}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=!Array.isArray(e);r&&(e=[e]);const o=t.map(e=>n.replace("{}",e)),i=this.tokenizer(o,{padding:!0,truncation:!0}),a=this.processor.feature_extractor.config.sampling_rate,s=await _b(e,a),l=[];for(const c of s){const e=await this.processor(c),n=yd((await this.model(u(u({},i),e))).logits_per_audio.data);l.push([...n].map((e,n)=>({score:e,label:t[n]})))}return r?l[0]:l}},model:cy,processor:bb,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(this.model.config.model_type){case"whisper":return this._call_whisper(e,t);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(e,t);default:throw new Error("AutomaticSpeechRecognitionPipeline does not support model type '".concat(this.model.config.model_type,"'."))}}async _call_wav2vec2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.language&&console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".'),t.task&&console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');const n=!Array.isArray(e);n&&(e=[e]);const r=this.processor.feature_extractor.config.sampling_rate,o=await _b(e,r),i=[];for(const a of o){const e=await this.processor(a),t=(await this.model(e)).logits[0],n=[];for(const o of t)n.push(_d(o.data)[1]);const r=this.tokenizer.decode(n);i.push({text:r})}return n?i[0]:i}async _call_whisper(e){var t,n,r,o,i;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=null!==(t=a.return_timestamps)&&void 0!==t&&t,l=null!==(n=a.chunk_length_s)&&void 0!==n?n:0,c=null!==(r=a.chunk_callback)&&void 0!==r?r:null,d=null!==(o=a.force_full_sequences)&&void 0!==o&&o;let h=null!==(i=a.stride_length_s)&&void 0!==i?i:null;"word"===s&&(a.return_token_timestamps=!0);const f=Ic(a,"language",null),p=Ic(a,"task",null);if(f||p||s){if(a.forced_decoder_ids)throw new Error("Cannot specify `language`/`task`/`return_timestamps` and `forced_decoder_ids` at the same time.");const e=this.tokenizer.get_decoder_prompt_ids({language:f,task:p,no_timestamps:!s});e.length>0&&(a.forced_decoder_ids=e)}const m=!Array.isArray(e);m&&(e=[e]);const g=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,y=this.processor.feature_extractor.config.hop_length,b=this.processor.feature_extractor.config.sampling_rate,v=await _b(e,b),_=[];for(const w of v){let e=[];if(l>0){if(null===h)h=l/6;else if(l<=h)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");const t=b*l,n=b*h,r=t-2*n;let o=0;for(;o<w.length;){const i=w.subarray(o,o+t),a=await this.processor(i),s=0===o,u=o+r>=w.length;e.push({stride:[i.length,s?0:n,u?0:n],input_features:a.input_features,is_last:u}),o+=r}}else e=[{stride:[w.length,0,0],input_features:(await this.processor(w)).input_features,is_last:!0}];for(const r of e){a.num_frames=Math.floor(r.stride[0]/y);const e=await this.model.generate(r.input_features,a);"word"===s?(r.tokens=e.sequences[0],r.token_timestamps=e.token_timestamps.tolist()[0].map(e=>Td(e,2))):r.tokens=e[0],r.stride=r.stride.map(e=>e/b),null!==c&&c(r)}const[t,n]=this.tokenizer._decode_asr(e,{time_precision:g,return_timestamps:s,force_full_sequences:d});_.push(u({text:t},n))}return m?_[0]:_}},model:[py,Ty],processor:bb,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:np,pipeline:class extends xb{constructor(e){var t;super(e),a(this,"DEFAULT_VOCODER_ID","Xenova/speecht5_hifigan"),this.vocoder=null!==(t=e.vocoder)&&void 0!==t?t:null}async _call(e){let{speaker_embeddings:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processor?this._call_text_to_spectrogram(e,{speaker_embeddings:t}):this._call_text_to_waveform(e)}async _call_text_to_waveform(e){const t=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:n}=await this.model(t),r=this.model.config.sampling_rate;return{audio:n.data,sampling_rate:r}}async _call_text_to_spectrogram(e,t){let{speaker_embeddings:n}=t;if(this.vocoder||(console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=await cy.from_pretrained(this.DEFAULT_VOCODER_ID,{quantized:!1})),("string"===typeof n||n instanceof URL)&&(n=new Float32Array(await(await fetch(n)).arrayBuffer())),n instanceof Float32Array)n=new Fd("float32",n,[1,n.length]);else if(!(n instanceof Fd))throw new Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");const{input_ids:r}=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:o}=await this.model.generate_speech(r,n,{vocoder:this.vocoder}),i=this.processor.feature_extractor.config.sampling_rate;return{audio:o.data,sampling_rate:i}}},model:[gy,my],processor:[bb,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),r=await vb(e),{pixel_values:o}=await this.processor(r),i=[];for(const a of o){a.dims=[1,...a.dims];const e=await this.model.generate(a,t),n=this.tokenizer.batch_decode(e,{skip_special_tokens:!0}).map(e=>({generated_text:e.trim()}));i.push(n)}return n?i:i[0]}},model:_y,processor:bb,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:class extends xb{constructor(e){super(e)}async _call(e){let{topk:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e),r=await vb(e),{pixel_values:o}=await this.processor(r),i=await this.model({pixel_values:o}),a=this.model.config.id2label,s=[];for(const u of i.logits){const e=bd(yd(u.data),t).map(e=>({label:a[e[0]],score:e[1]}));1===t?s.push(...e):s.push(e)}return n||1===t?s:s[0]}},model:wy,processor:bb,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:class extends xb{constructor(e){super(e),this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}async _call(e){let{threshold:t=.5,mask_threshold:n=.5,overlap_mask_area_threshold:r=.8,label_ids_to_fuse:o=null,target_sizes:i=null,subtask:a=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)&&1!==e.length)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");const s=await vb(e),u=s.map(e=>[e.height,e.width]),{pixel_values:l,pixel_mask:c}=await this.processor(s),d=await this.model({pixel_values:l,pixel_mask:c});let h=null;if(null!==a)h=this.subtasks_mapping[a];else for(let[m,g]of Object.entries(this.subtasks_mapping))if(g in this.processor.feature_extractor){h=this.processor.feature_extractor[g].bind(this.processor.feature_extractor),a=m;break}const f=this.model.config.id2label,p=[];if("panoptic"===a||"instance"===a){const e=h(d,t,n,r,o,null!==i&&void 0!==i?i:u)[0],a=e.segmentation;for(const t of e.segments_info){const e=new Uint8ClampedArray(a.data.length);for(let r=0;r<a.data.length;++r)a.data[r]===t.id&&(e[r]=255);const n=new Ky(e,a.dims[1],a.dims[0],1);p.push({score:t.score,label:f[t.label_id],mask:n})}}else{if("semantic"!==a)throw Error("Subtask ".concat(a," not supported."));{const{segmentation:e,labels:t}=h(d,null!==i&&void 0!==i?i:u)[0];for(const n of t){const t=new Uint8ClampedArray(e.data.length);for(let o=0;o<e.data.length;++o)e.data[o]===n&&(t[o]=255);const r=new Ky(t,e.dims[1],e.dims[0],1);p.push({score:null,label:f[n],mask:r})}}}return p}},model:[xy,Dy],processor:bb,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"zero-shot-image-classification":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e,t){let{hypothesis_template:n="This is a photo of {}"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Array.isArray(e),o=await vb(e),i=t.map(e=>n.replace("{}",e)),a=this.tokenizer(i,{padding:"siglip"!==this.model.config.model_type||"max_length",truncation:!0}),{pixel_values:s}=await this.processor(o),l=await this.model(u(u({},a),{},{pixel_values:s})),c="siglip"===this.model.config.model_type?e=>e.sigmoid().data:e=>yd(e.data),d=[];for(const u of l.logits_per_image){const e=[...c(u)].map((e,n)=>({score:e,label:t[n]}));e.sort((e,t)=>t.score-e.score),d.push(e)}return r?d:d[0]}},model:cy,processor:bb,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:class extends xb{constructor(e){super(e)}async _call(e){let{threshold:t=.9,percentage:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(e);if(r&&1!==e.length)throw Error("Object detection pipeline currently only supports a batch size of 1.");const o=await vb(e),i=n?null:o.map(e=>[e.height,e.width]),{pixel_values:a,pixel_mask:s}=await this.processor(o),u=await this.model({pixel_values:a,pixel_mask:s}),l=this.processor.feature_extractor.post_process_object_detection(u,t,i),c=this.model.config.id2label,d=l.map(e=>e.boxes.map((t,r)=>({score:e.scores[r],label:c[e.classes[r]],box:wb(t,!n)})));return r?d:d[0]}},model:Ey,processor:bb,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e,t){let{threshold:n=.1,topk:r=null,percentage:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Array.isArray(e),a=await vb(e),s=this.tokenizer(t,{padding:!0,truncation:!0}),l=await this.processor(a),c=[];for(let d=0;d<a.length;++d){const e=a[d],i=o?null:[[e.height,e.width]],h=l.pixel_values[d].unsqueeze_(0),f=await this.model(u(u({},s),{},{pixel_values:h})),p=this.processor.feature_extractor.post_process_object_detection(f,n,i,!0)[0];let m=p.boxes.map((e,n)=>({score:p.scores[n],label:t[p.classes[n]],box:wb(e,!o)})).sort((e,t)=>t.score-e.score);null!==r&&(m=m.slice(0,r)),c.push(m)}return i?c:c[0]}},model:Sy,processor:bb,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(await vb(e))[0],{pixel_values:o}=await this.processor(r),i="<s_docvqa><s_question>".concat(t,"</s_question><s_answer>"),a=this.tokenizer(i,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,s=await this.model.generate(o,u(u({},n),{},{decoder_input_ids:a,max_length:this.model.config.decoder.max_position_embeddings})),l=this.tokenizer.batch_decode(s)[0].match(/<s_answer>(.*?)<\/s_answer>/);let c=null;return l&&l.length>=2&&(c=l[1].trim()),[{answer:c}]}},model:ky,processor:bb,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:class extends xb{constructor(e){super(e)}async _call(e){const t=await vb(e),n=await this.processor(t),r=await this.model(n),o=[];for(const i of r.reconstruction){const e=i.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");o.push(Ky.fromTensor(e))}return o.length>1?o:o[0]}},model:Fy,processor:bb,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:class extends xb{constructor(e){super(e)}async _call(e){const t=await vb(e),n=await this.processor(t),{predicted_depth:r}=await this.model(n),o=[];for(let i=0;i<t.length;++i){const e=Cd(r[i],t[i].size.reverse(),"bilinear",!1),n=e.mul_(255/_d(e.data)[0]).to("uint8");o.push({predicted_depth:r[i],depth:Ky.fromTensor(n)})}return o.length>1?o:o[0]}},model:Cy,processor:bb,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:np,pipeline:class extends xb{constructor(e){super(e)}async _call(e){var t,n;let{pooling:r="none",normalize:o=!1,quantize:i=!1,precision:a="binary"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=this.tokenizer(e,{padding:!0,truncation:!0}),u=await this.model(s);let l=null!==(t=null!==(n=u.last_hidden_state)&&void 0!==n?n:u.logits)&&void 0!==t?t:u.token_embeddings;if("none"===r);else if("mean"===r)l=function(e,t){let n=[e.dims[0],e.dims[2]],r=new e.data.constructor(n[0]*n[1]),[o,i,a]=e.dims,s=0;for(let u=0;u<o;++u){let n=u*a*i;for(let o=0;o<a;++o){let l=0,c=0,d=u*i,h=n+o;for(let n=0;n<i;++n){let r=Number(t.data[d+n]);c+=r,l+=e.data[h+n*a]*r}let f=l/c;r[s++]=f}}return new Fd(e.type,r,n)}(l,s.attention_mask);else{if("cls"!==r)throw Error("Pooling method '".concat(r,"' not supported."));l=l.slice(null,0)}return o&&(l=l.normalize(2,-1)),i&&(l=function(e,t){if(2!==e.dims.length)throw new Error("The tensor must have 2 dimensions");if(e.dims.at(-1)%8!==0)throw new Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(t))throw new Error("The precision must be either 'binary' or 'ubinary'");const n="binary"===t,r=n?"int8":"uint8",o=n?Int8Array:Uint8Array,i=e.data,a=new o(i.length/8);for(let s=0;s<i.length;++s){const e=i[s]>0?1:0,t=Math.floor(s/8),r=s%8;a[t]|=e<<7-r,n&&0===r&&(a[t]-=128)}return new Fd(r,a,[e.dims[0],e.dims[1]/8])}(l,a)),l}},model:cy,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:bb,pipeline:class extends xb{constructor(e){super(e)}async _call(e){let{pool:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await vb(e),{pixel_values:r}=await this.processor(n),o=await this.model({pixel_values:r});let i;if(t){if(!("pooler_output"in o))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");i=o.pooler_output}else{var a,s;i=null!==(a=null!==(s=o.last_hidden_state)&&void 0!==s?s:o.logits)&&void 0!==a?a:o.image_embeds}return i}},model:[Oy,cy],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),Ab=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});async function kb(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{quantized:r=!0,progress_callback:o=null,config:i=null,cache_dir:a=null,local_files_only:s=!1,revision:u="main",model_file_name:l=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=null!==(t=Ab[e])&&void 0!==t?t:e;const c=Tb[e.split("_",1)[0]];if(!c)throw Error("Unsupported pipeline: ".concat(e,". Must be one of [").concat(Object.keys(Tb),"]"));n||(n=c.default.model,console.log('No model specified. Using default model: "'.concat(n,'".')));const d={quantized:r,progress_callback:o,config:i,cache_dir:a,local_files_only:s,revision:u,model_file_name:l},h=new Map([["tokenizer",c.tokenizer],["model",c.model],["processor",c.processor]]),f=await async function(e,t,n){const r=Object.create(null),o=[];for(let[i,a]of e.entries()){if(!a)continue;let e;e=Array.isArray(a)?new Promise(async(e,r)=>{let o;for(let s of a){if(null===s)return void e(null);try{return void e(await s.from_pretrained(t,n))}catch(i){o=i}}r(o)}):a.from_pretrained(t,n),r[i]=e,o.push(e)}await Promise.all(o);for(let[i,a]of Object.entries(r))r[i]=await a;return r}(h,n,d);f.task=e,kc(o,{status:"ready",task:e,model:n});return new(0,c.pipeline)(f)}sd.allowLocalModels=!1,sd.useBrowserCache=!0;function Fb(){const[t,n]=(0,e.useState)(!1),[r,o]=(0,e.useState)([]),[i,a]=(0,e.useState)(""),[s,u]=(0,e.useState)(null),[l,c]=(0,e.useState)(0),[d,h]=(0,e.useState)("initiating"),f=(0,e.useRef)(null);(0,e.useEffect)(()=>{t&&!s&&(async()=>{if(!s)try{h("downloading"),console.log("Downloading High-Performance 783M Model...");const e=await kb("text2text-generation","Xenova/LaMini-Flan-T5-783M",{progress_callback:e=>{"progress"===e.status&&c(Math.round(e.progress))}});u(()=>e),h("ready"),o([{sender:"bot",text:"System Online! \u2705 I am running the 'Large' offline brain. Ask me anything!"}])}catch(e){console.error("Model Load Failed",e),o([{sender:"bot",text:"\u26a0\ufe0f Error loading Brain. Please refresh."}])}})()},[t,s]);return(0,e.useEffect)(()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[r]),(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)(Zl,{children:!t&&(0,No.jsxs)(Rl.button,{initial:{scale:0},animate:{scale:1},exit:{scale:0},whileHover:{scale:1.1},onClick:()=>n(!0),className:"fixed bottom-6 right-6 z-[999] w-16 h-16 rounded-full overflow-hidden border-2 border-cyan-400 shadow-[0_0_20px_rgba(6,182,212,0.5)] bg-black",children:[(0,No.jsx)(Ec,{className:"text-cyan-400 w-8 h-8 m-auto mt-4"}),(0,No.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 rounded-full border border-black ".concat("ready"===d?"bg-green-500":"bg-yellow-500 animate-pulse")})]})}),(0,No.jsx)(Zl,{children:t&&(0,No.jsxs)(Rl.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"fixed bottom-6 right-6 w-[90vw] md:w-[380px] h-[550px] bg-[#0a0a0a]/95 backdrop-blur-xl border border-white/10 rounded-3xl shadow-2xl flex flex-col font-sans z-[1000]",children:[(0,No.jsxs)("div",{className:"p-4 bg-white/5 border-b border-white/10 flex justify-between items-center",children:[(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("span",{className:"w-2 h-2 rounded-full animate-pulse ".concat("ready"===d?"bg-green-500":"bg-yellow-500")}),(0,No.jsx)("span",{className:"text-white font-bold text-sm",children:"ready"===d?"Offline AI (Large)":"Loading Large Brain..."})]}),(0,No.jsx)("button",{onClick:()=>n(!1),children:(0,No.jsx)(Sc,{className:"text-white"})})]}),"downloading"===d&&(0,No.jsxs)("div",{className:"px-4 py-2 bg-black/20",children:[(0,No.jsxs)("div",{className:"flex justify-between text-xs text-cyan-400 mb-1",children:[(0,No.jsx)("span",{children:"Downloading 783M Model..."}),(0,No.jsxs)("span",{children:[l,"%"]})]}),(0,No.jsx)("div",{className:"w-full bg-gray-800 rounded-full h-1.5",children:(0,No.jsx)("div",{className:"bg-cyan-500 h-1.5 rounded-full transition-all duration-300",style:{width:"".concat(l,"%")}})})]}),(0,No.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===r.length&&"downloading"===d&&(0,No.jsxs)("div",{className:"text-center text-slate-400 text-xs mt-10",children:["Downloading High-Res Neural Network (~900MB)...",(0,No.jsx)("br",{}),"This only happens once per user."]}),r.map((e,t)=>(0,No.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,No.jsx)("div",{className:"max-w-[85%] px-4 py-2 text-sm rounded-xl ".concat("user"===e.sender?"bg-cyan-600 text-white":"bg-white/10 text-slate-300"),children:e.text})},t)),(0,No.jsx)("div",{ref:f})]}),(0,No.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!i.trim())return;const t=i.trim();if(a(""),o(e=>[...e,{sender:"user",text:t}]),!s)return void o(e=>[...e,{sender:"bot",text:"\ud83e\udde0 Brain is still loading... please wait!"}]);const n=Date.now();o(e=>[...e,{sender:"bot",text:"Thinking... \ud83d\udcad",id:n}]);try{let e="";const r=t.toLowerCase();e=r.match(/^(hi|hello|hey|greetings|hola)/)?'Instruction: The user said "'.concat(t,"\". Write a friendly welcome message introducing yourself as Usman's AI Assistant. Answer:"):r.match(/(usman|who|skills|projects|contact|email|about|he|his|resume|cv)/)?"Instruction: Answer this question based on the Context below. Context: ".concat("\nIdentity: I am an AI assistant for Md Usman.\nEducation: B.Tech in AI & Data Science at MTIET.\nSkills: Python, React.js, IoT (Arduino), Machine Learning, NLP.\nProjects: Smart Railway Gate, AI-Powered Portfolio, Offline SLMs.\nGoal: To build intelligent systems that bridge software and hardware.\nContact: You can contact Usman via the form on this website.\n"," Question: ").concat(t," Answer:"):"Instruction: Answer the following question accurately and clearly. Question: ".concat(t," Answer:");const i=(await s(e,{max_new_tokens:200,temperature:.5,repetition_penalty:1.2}))[0].generated_text;o(e=>e.filter(e=>e.id!==n).concat({sender:"bot",text:i}))}catch(r){console.error(r),o(e=>e.filter(e=>e.id!==n).concat({sender:"bot",text:"\u274c Logic Error."}))}},className:"p-3 bg-black/40 border-t border-white/10 flex gap-2",children:[(0,No.jsx)("input",{value:i,onChange:e=>a(e.target.value),placeholder:"ready"===d?"Ask anything...":"Initializing...",disabled:"ready"!==d,className:"flex-1 bg-transparent text-white text-sm focus:outline-none disabled:opacity-50"}),(0,No.jsx)("button",{type:"submit",disabled:"ready"!==d,className:"text-cyan-400 disabled:opacity-50",children:(0,No.jsx)(xc,{})})]})]})})]})}function Cb(){const{pathname:t}=ve();return(0,e.useEffect)(()=>{window.scrollTo(0,0)},[t]),null}function Ob(){const t=(0,e.useRef)(null);return(0,e.useEffect)(()=>{const e=t.current,n=e.getContext("2d");let r;const o=()=>{e.width=window.innerWidth,e.height=window.innerHeight};window.addEventListener("resize",o),o();const i=[];class a{constructor(){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.vx=.5*(Math.random()-.5),this.vy=.5*(Math.random()-.5),this.size=1.5*Math.random()+.5}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>e.width)&&(this.vx*=-1),(this.y<0||this.y>e.height)&&(this.vy*=-1)}draw(){n.fillStyle="rgba(59, 130, 246, 0.5)",n.beginPath(),n.arc(this.x,this.y,this.size,0,2*Math.PI),n.fill()}}for(let t=0;t<60;t++)i.push(new a);let s={x:null,y:null};window.addEventListener("mousemove",e=>{s.x=e.x,s.y=e.y});const u=()=>{n.clearRect(0,0,e.width,e.height),i.forEach((e,t)=>{if(e.update(),e.draw(),s.x){const t=s.x-e.x,r=s.y-e.y,o=Math.sqrt(t*t+r*r);o<150&&(n.strokeStyle="rgba(59, 130, 246, ".concat(1-o/150,")"),n.lineWidth=1,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(s.x,s.y),n.stroke())}}),r=requestAnimationFrame(u)};return u(),()=>{window.removeEventListener("resize",o),cancelAnimationFrame(r)}},[]),(0,No.jsx)("canvas",{ref:t,className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0 opacity-40"})}function Pb(){const[t,n]=(0,e.useState)(!1),[r,o]=(0,e.useState)(""),i=xe();(0,e.useEffect)(()=>{const e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),n(e=>!e)),"Escape"===e.key&&n(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const a=[{name:"Go to Home",icon:(0,No.jsx)(_c,{}),action:()=>i("/")},{name:"View Projects",icon:(0,No.jsx)(Dc,{}),action:()=>i("/projects")},{name:"Contact Me",icon:(0,No.jsx)(bc,{}),action:()=>i("/contact")},{name:"Download Resume",icon:(0,No.jsx)(vc,{}),action:()=>window.open("/resume.pdf","_blank")}].filter(e=>{if(!e||!e.name)return!1;const t=String(e.name),n=String(r||"");return t.toLowerCase().includes(n.toLowerCase())});return(0,No.jsx)(Zl,{children:t&&(0,No.jsx)("div",{className:"fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-start justify-center pt-[20vh]",onClick:()=>n(!1),children:(0,No.jsxs)(Rl.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-lg bg-[#0f1115] border border-white/10 rounded-xl shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,No.jsxs)("div",{className:"flex items-center px-4 py-3 border-b border-white/5",children:[(0,No.jsx)("input",{autoFocus:!0,placeholder:"Type a command...",className:"w-full bg-transparent text-white focus:outline-none placeholder:text-slate-600 h-6",value:r,onChange:e=>o(e.target.value)}),(0,No.jsx)("span",{className:"text-xs text-slate-600 border border-white/10 px-1.5 py-0.5 rounded",children:"ESC"})]}),(0,No.jsx)("div",{className:"py-2",children:a.length>0?a.map((e,t)=>(0,No.jsxs)("button",{onClick:()=>{e.action(),n(!1),o("")},className:"w-full flex items-center px-4 py-3 text-slate-400 hover:bg-cyan-500/10 hover:text-cyan-400 transition-all text-sm group",children:[(0,No.jsx)("span",{className:"mr-3 text-slate-600 group-hover:text-cyan-400",children:e.icon}),e.name]},t)):(0,No.jsx)("div",{className:"px-4 py-8 text-center text-slate-600 text-sm",children:"No commands found"})})]})})})}function Ib(t){let{onComplete:n}=t;const[r,o]=(0,e.useState)([]),i=["INITIALIZING_CORE_SYSTEM...","LOADING_NEURAL_MODULES [||||||||||] 100%","CONNECTING_TO_SATELLITE_UPLINK...","DECIPHERING_DATA_STREAMS...","OPTIMIZING_INTERFACE_GRAPHICS...","SYSTEM_READY.","WELCOME_USER: MD_USMAN"];return(0,e.useEffect)(()=>{let e=0;const t=setInterval(()=>{if(e>=i.length)return clearInterval(t),void setTimeout(n,800);o(t=>{const n=i[e];return t[t.length-1]===n?t:[...t,n]}),e++},400);return()=>clearInterval(t)},[]),(0,No.jsxs)("div",{className:"fixed inset-0 bg-black z-[9999] flex flex-col items-start justify-end pb-20 px-10 font-mono text-xs md:text-sm overflow-hidden cursor-wait",children:[(0,No.jsxs)("div",{className:"absolute top-0 left-0 w-full p-6 flex justify-between border-b border-white/10 text-slate-500",children:[(0,No.jsx)("span",{children:"BOOT_LOADER_V2.4"}),(0,No.jsx)("span",{children:"SECURE_CONNECTION"})]}),(0,No.jsxs)("div",{className:"space-y-2 w-full max-w-2xl",children:[(0,No.jsx)(Zl,{children:r.map((e,t)=>(0,No.jsxs)(Rl.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"".concat(t===r.length-1?"text-cyan-400":"text-slate-300"),children:[(0,No.jsx)("span",{className:"opacity-50 mr-2",children:">"}),e]},t))}),(0,No.jsx)(Rl.div,{animate:{opacity:[0,1,0]},transition:{repeat:1/0,duration:.8},className:"w-2 h-4 bg-cyan-500 ml-4"})]})]})}function Mb(){const[t,n]=(0,e.useState)(!1),r=(0,e.useRef)(null);return(0,e.useEffect)(()=>{const e=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];let t=0;const r=r=>{console.log("Key Pressed: ".concat(r.key," | Target: ").concat(e[t])),r.key.toLowerCase()===e[t].toLowerCase()?(t++,t===e.length&&(n(e=>!e),t=0,alert("\ud83d\udc07 Follow the white rabbit... (Matrix Mode Activated)"))):(t>0&&console.log("Sequence Reset!"),t=0)};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]),(0,e.useEffect)(()=>{if(!t)return;const e=r.current;if(!e)return;const n=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const o="01010101010101XYZABC",i=e.width/14,a=Array(Math.floor(i)).fill(1),s=setInterval(()=>{n.fillStyle="rgba(0, 0, 0, 0.05)",n.fillRect(0,0,e.width,e.height),n.fillStyle="#0F0",n.font="".concat(14,"px monospace");for(let t=0;t<a.length;t++){const r=o.charAt(Math.floor(20*Math.random()));n.fillText(r,14*t,14*a[t]),14*a[t]>e.height&&Math.random()>.975&&(a[t]=0),a[t]++}},33),u=()=>{e.width=window.innerWidth,e.height=window.innerHeight};return window.addEventListener("resize",u),()=>{clearInterval(s),window.removeEventListener("resize",u)}},[t]),t?(0,No.jsx)("canvas",{ref:r,className:"fixed inset-0 z-[9999] pointer-events-none mix-blend-screen opacity-90",style:{background:"transparent"}}):null}function Nb(){const t=xe(),[n,r]=(0,e.useState)(!1),[o,i]=(0,e.useState)("");return(0,e.useEffect)(()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return;const n=new e;n.continuous=!0,n.interimResults=!1,n.lang="en-US",n.onstart=()=>r(!0),n.onend=()=>r(!1),n.onresult=e=>{const n=e.results[e.results.length-1][0].transcript.toLowerCase().trim();i(n),n.includes("home")&&t("/"),n.includes("project")&&t("/projects"),n.includes("contact")&&t("/contact"),n.includes("resume")&&window.open("/resume.pdf","_blank"),setTimeout(()=>i(""),2e3)};try{n.start()}catch(fv){}return()=>n.stop()},[t]),o?(0,No.jsxs)("div",{className:"fixed bottom-8 left-8 z-[200] flex items-center gap-3 animate-in slide-in-from-bottom-5",children:[(0,No.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-500/20 border border-red-500 flex items-center justify-center",children:(0,No.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-ping"})}),(0,No.jsxs)("div",{className:"bg-black/80 backdrop-blur border border-white/10 px-4 py-2 rounded-lg text-xs font-mono text-red-400 uppercase tracking-widest",children:['Detected: "',o,'"']})]}):null}function Lb(){const t=(0,e.useRef)(null),[n,r]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{const e=e=>{t.current&&(t.current.style.transform="translate3d(".concat(e.clientX,"px, ").concat(e.clientY,"px, 0)"))},n=e=>{const t=e.target,n="BUTTON"===t.tagName||"A"===t.tagName||"INPUT"===t.tagName||t.closest("a")||t.closest("button")||t.classList.contains("cursor-pointer");r(n)};return window.addEventListener("mousemove",e),window.addEventListener("mouseover",n),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseover",n)}},[]),(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("style",{children:"\n        body, a, button, input, select, textarea {\n          cursor: none !important;\n        }\n      "}),(0,No.jsx)("div",{ref:t,className:"fixed top-0 left-0 pointer-events-none z-[99999] will-change-transform",style:{mixBlendMode:"difference"},children:(0,No.jsx)("div",{className:"transition-transform duration-200 ease-out ".concat(n?"scale-125 -rotate-12":"scale-100 rotate-0"),children:(0,No.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",className:"drop-shadow-md",children:(0,No.jsx)("path",{d:"M5.5 3.5L11.5 21.5L14.5 13.5L22.5 10.5L5.5 3.5Z",fill:"white"})})})})]})}function jb(){const[t,n]=(0,e.useState)([]);return(0,e.useEffect)(()=>{const e=e=>{const t={id:Date.now(),x:e.pageX,y:e.pageY};n(e=>[...e,t]),setTimeout(()=>{n(e=>e.filter(e=>e.id!==t.id))},1e3)};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[]),(0,No.jsx)(Zl,{children:t.map(e=>(0,No.jsx)(Rl.div,{initial:{opacity:1,scale:0},animate:{opacity:0,scale:2},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},className:"fixed pointer-events-none z-[9999]",style:{left:e.x,top:e.y,transform:"translate(-50%, -50%)"},children:(0,No.jsx)("div",{className:"w-8 h-8 rounded-full border border-cyan-400 shadow-[0_0_15px_rgba(34,211,238,0.8)]"})},e.id))})}const Bb=__webpack_require__.p+"static/media/md usman.d753bda27c2290ad0b5a.jpeg";function Rb(){return(0,No.jsx)("section",{className:"min-h-screen flex items-center justify-center pt-24 pb-12 px-6 overflow-hidden",children:(0,No.jsxs)("div",{className:"max-w-6xl w-full grid md:grid-cols-2 gap-16 items-center relative z-10",children:[(0,No.jsxs)(Rl.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[(0,No.jsx)("span",{className:"inline-block py-1 px-3 rounded-full bg-indigo-50 text-indigo-600 text-xs font-bold tracking-widest uppercase mb-6 border border-indigo-100",children:"Available for hire"}),(0,No.jsxs)("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 leading-[1.1] mb-6",children:["Hi, I'm ",(0,No.jsx)("br",{}),(0,No.jsx)("span",{className:"text-gradient-premium",children:"Md Usman"})]}),(0,No.jsxs)("p",{className:"text-slate-500 text-lg md:text-xl max-w-lg mb-10 leading-relaxed font-medium",children:["An AI & Data Science Engineer building the bridge between",(0,No.jsx)("span",{className:"text-slate-900 font-semibold",children:" complex models"})," and",(0,No.jsx)("span",{className:"text-slate-900 font-semibold",children:" intuitive interfaces"}),"."]}),(0,No.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,No.jsx)("a",{href:"#projects",className:"btn-primary",children:"View Projects"}),(0,No.jsx)("a",{href:"/resume.pdf",target:"_blank",className:"btn-secondary",children:"My Resume"})]}),(0,No.jsxs)("div",{className:"mt-12 pt-8 border-t border-slate-200",children:[(0,No.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4",children:"Tech Stack"}),(0,No.jsxs)("div",{className:"flex gap-4 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:[(0,No.jsx)("span",{className:"text-slate-900 font-bold",children:"REACT"}),(0,No.jsx)("span",{className:"text-slate-900 font-bold",children:"NODE"}),(0,No.jsx)("span",{className:"text-slate-900 font-bold",children:"AI/ML"})]})]})]}),(0,No.jsxs)(Rl.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1,delay:.2},className:"flex justify-center relative",children:[(0,No.jsx)("div",{className:"absolute top-10 right-10 w-64 h-64 bg-indigo-500/20 rounded-full blur-3xl -z-10 animate-pulse"}),(0,No.jsx)("div",{className:"absolute bottom-10 left-10 w-64 h-64 bg-cyan-500/20 rounded-full blur-3xl -z-10 animate-pulse"}),(0,No.jsx)("div",{className:"relative w-80 h-[450px] rounded-[3rem] overflow-hidden border-4 border-white shadow-2xl shadow-indigo-500/10 rotate-2 hover:rotate-0 transition-all duration-500 bg-white",children:(0,No.jsx)("img",{src:Bb,alt:"Md Usman",className:"w-full h-full object-cover filter saturate-0 hover:saturate-100 transition-all duration-700 scale-105 hover:scale-100"})})]})]})})}function zb(t){const n=ei(()=>zr(t)),{isStatic:r}=(0,e.useContext)(Bo);if(r){const[,r]=(0,e.useState)(t);(0,e.useEffect)(()=>n.on("change",r),[])}return n}function Vb(e,t,n){const r=e.get();let o,i=null,a=r;const s="string"===typeof r?r.replace(/[\d.-]/g,""):void 0,l=()=>{i&&(i.stop(),i=null)};if(e.attach((t,r)=>{a=t,o=e=>r(Ub(e,s)),Vn.postRender(()=>{var t,r;l(),i=new Ia(u(u({keyframes:[Gb(e.get()),Gb(a)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01},n),{},{onUpdate:o})),null===(t=e.events.animationStart)||void 0===t||t.notify(),null===(r=i)||void 0===r||r.then(()=>{var t;null===(t=e.events.animationComplete)||void 0===t||t.notify()})})},l),Cr(t)){const n=t.on("change",t=>e.set(Ub(t,s))),r=e.on("destroy",n);return()=>{n(),r()}}return l}function Ub(e,t){return t?e+t:e}function Gb(e){return"number"===typeof e?e:parseFloat(e)}function Hb(e,t){const n=zb(t()),r=()=>n.set(t());return r(),hi(()=>{const t=()=>Vn.preRender(r,!1,!0),n=e.map(e=>e.on("change",t));return()=>{n.forEach(e=>e()),Un(r)}}),n}function Wb(e,t,n,r){if("function"===typeof e)return function(e){Br.current=[],e();const t=Hb(Br.current,e);return Br.current=void 0,t}(e);const o="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,n=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],r=Ea(1+t<0||arguments.length<=1+t?void 0:arguments[1+t],2+t<0||arguments.length<=2+t?void 0:arguments[2+t],3+t<0||arguments.length<=3+t?void 0:arguments[3+t]);return e?r(n):r}(t,n,r);return Array.isArray(e)?qb(e,o):qb([e],e=>{let[t]=e;return o(t)})}function qb(e,t){const n=ei(()=>[]);return Hb(e,()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)})}function Xb(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isStatic:r}=(0,e.useContext)(Bo),o=()=>Cr(t)?t.get():t;if(r)return Wb(o);const i=zb(o());return(0,e.useInsertionEffect)(()=>Vb(i,t,n),[i,JSON.stringify(n)]),i}function Yb(t){let{children:n,className:r=""}=t;const o=(0,e.useRef)(null),i=zb(0),a=zb(0),s=Xb(i,{stiffness:300,damping:30}),u=Wb(Xb(a,{stiffness:300,damping:30}),[-.5,.5],["15deg","-15deg"]),l=Wb(s,[-.5,.5],["-15deg","15deg"]),c=Wb(s,[-.5,.5],["linear-gradient(to right, transparent 0%, rgba(255,255,255,0) 0%, transparent 100%)","linear-gradient(to right, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%)"]);return(0,No.jsxs)(Rl.div,{ref:o,onMouseMove:e=>{const t=o.current.getBoundingClientRect(),n=t.width,r=t.height,s=(e.clientX-t.left)/n-.5,u=(e.clientY-t.top)/r-.5;i.set(s),a.set(u)},onMouseLeave:()=>{i.set(0),a.set(0)},style:{rotateX:u,rotateY:l,transformStyle:"preserve-3d"},className:"relative transform perspective-1000 ".concat(r),children:[(0,No.jsx)("div",{style:{transform:"translateZ(50px)"},children:n}),(0,No.jsx)(Rl.div,{style:{background:c},className:"absolute inset-0 z-10 pointer-events-none rounded-xl"})]})}function Kb(){return(0,No.jsxs)("div",{className:"min-h-screen pt-24 pb-20 px-6 font-outfit max-w-5xl mx-auto",children:[(0,No.jsxs)(Rl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-16",children:[(0,No.jsx)("span",{className:"text-cyan-400 font-mono text-xs tracking-widest uppercase mb-2 block",children:"// PERSONNEL_FILE: MD_USMAN"}),(0,No.jsxs)("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 font-space",children:["Beyond the ",(0,No.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400",children:"Code."})]}),(0,No.jsxs)("p",{className:"text-slate-400 text-lg max-w-2xl leading-relaxed",children:["I am a 3rd-year B.Tech student at ",(0,No.jsx)("span",{className:"text-white",children:"Mother Theresa Institute"}),", obsessed with the intersection of hardware and software. My goal is to build systems that don't just execute commands, but ",(0,No.jsx)("span",{className:"text-cyan-400",children:"understand"})," them."]})]}),(0,No.jsxs)("div",{className:"grid md:grid-cols-2 gap-12",children:[(0,No.jsxs)(Rl.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[(0,No.jsxs)("h2",{className:"text-2xl font-bold text-white mb-8 flex items-center gap-3",children:[(0,No.jsx)(Tc,{className:"text-slate-500"}),"Education Timeline"]}),(0,No.jsxs)("div",{className:"relative border-l border-white/10 ml-3 space-y-12",children:[(0,No.jsxs)("div",{className:"relative pl-8",children:[(0,No.jsx)("span",{className:"absolute -left-[5px] top-2 w-2.5 h-2.5 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.5)]"}),(0,No.jsx)("span",{className:"text-xs font-mono text-cyan-400 mb-1 block",children:"2023 - PRESENT"}),(0,No.jsx)("h3",{className:"text-xl font-bold text-white",children:"B.Tech in AI & Data Science"}),(0,No.jsx)("p",{className:"text-slate-500 text-sm mb-2",children:"Mother Theresa Institute of Engineering"}),(0,No.jsx)("p",{className:"text-slate-400 text-sm",children:"Focusing on Machine Learning algorithms, IoT integrations, and Full-Stack development."})]}),(0,No.jsxs)("div",{className:"relative pl-8",children:[(0,No.jsx)("span",{className:"absolute -left-[5px] top-2 w-2.5 h-2.5 rounded-full bg-slate-600"}),(0,No.jsx)("span",{className:"text-xs font-mono text-slate-500 mb-1 block",children:"2021 - 2023"}),(0,No.jsx)("h3",{className:"text-xl font-bold text-white",children:"Intermediate (MPC)"}),(0,No.jsx)("p",{className:"text-slate-500 text-sm",children:"Narayana Junior College"})]})]}),(0,No.jsx)("div",{className:"mt-12",children:(0,No.jsxs)("a",{href:"/resume.pdf",target:"_blank",className:"inline-flex items-center gap-3 px-6 py-3 bg-white/5 border border-white/10 rounded-lg text-white font-bold hover:bg-white/10 hover:border-cyan-500/30 transition-all group",children:[(0,No.jsx)(yc,{className:"group-hover:translate-y-1 transition-transform"}),"Download Full Resume"]})})]}),(0,No.jsxs)(Rl.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"space-y-8",children:[(0,No.jsxs)(Yb,{className:"p-8 rounded-2xl bg-[#0a0a0a] border border-white/10",children:[(0,No.jsxs)("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[(0,No.jsx)(mc,{className:"text-slate-500"}),"Technical Proficiency"]}),(0,No.jsx)("div",{className:"space-y-6",children:[{name:"Python / AI",level:90,color:"bg-yellow-400"},{name:"React.js / Web",level:85,color:"bg-blue-400"},{name:"Arduino / IoT",level:80,color:"bg-teal-400"},{name:"Data Science",level:75,color:"bg-purple-400"}].map((e,t)=>(0,No.jsxs)("div",{children:[(0,No.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,No.jsx)("span",{className:"text-slate-300",children:e.name}),(0,No.jsxs)("span",{className:"text-slate-500 font-mono",children:[e.level,"%"]})]}),(0,No.jsx)("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:(0,No.jsx)(Rl.div,{initial:{width:0},whileInView:{width:"".concat(e.level,"%")},transition:{duration:1,delay:.2},className:"h-full ".concat(e.color)})})]},t))})]}),(0,No.jsxs)(Yb,{className:"p-8 rounded-2xl bg-[#0a0a0a] border border-white/10",children:[(0,No.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-3",children:[(0,No.jsx)(pc,{className:"text-slate-500"}),"Offline Interests"]}),(0,No.jsx)("p",{className:"text-slate-400 leading-relaxed mb-4",children:"When I'm not training models or debugging code, you can find me:"}),(0,No.jsxs)("ul",{className:"grid grid-cols-2 gap-3 text-sm text-slate-300",children:[(0,No.jsxs)("li",{className:"flex items-center gap-2",children:[(0,No.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})," Chess (Strategy)"]}),(0,No.jsxs)("li",{className:"flex items-center gap-2",children:[(0,No.jsx)("span",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full"})," Circuit Design"]}),(0,No.jsxs)("li",{className:"flex items-center gap-2",children:[(0,No.jsx)("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"})," Food Exploration"]}),(0,No.jsxs)("li",{className:"flex items-center gap-2",children:[(0,No.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})," Tech Blogging"]})]})]})]})]})]})}const $b=[{id:"smart-railway",title:"Smart Railway Gate",category:"IoT & Hardware",shortDesc:"Automated railway safety system using sensors.",tech:["Arduino","C++","Sensors"],github:"https://github.com/Md-usman-05/smart-railway-gate",image:"/AI-Powered-Portfolio/images/train-front.jpeg"},{id:"portfolio-app",title:"AI-Powered Portfolio",category:"Web & AI",shortDesc:"Next-gen personal site with AI chatbot.",tech:["React","AI/LLM","Voice API"],github:"https://github.com/Md-usman-05/AI-Powered-Portfolio",image:"/AI-Powered-Portfolio/images/portfolio-home.jpg"}];function Qb(){const e={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6}}};return(0,No.jsxs)("section",{className:"min-h-screen pt-28 pb-20 px-6 relative overflow-hidden bg-[#050505]",children:[(0,No.jsx)("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-blue-600/5 blur-[120px] rounded-full -z-10 pointer-events-none"}),(0,No.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,No.jsx)(Rl.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-20 max-w-3xl",children:(0,No.jsxs)("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6",children:["Project ",(0,No.jsx)("span",{className:"text-cyan-400",children:"Archives."})]})}),(0,No.jsx)(Rl.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},initial:"hidden",animate:"visible",className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:$b.map(t=>(0,No.jsx)(Rl.div,{variants:e,children:(0,No.jsxs)(Yb,{className:"h-full group flex flex-col bg-[#0f111a] border border-white/5 rounded-2xl overflow-hidden hover:border-cyan-500/30 transition-all duration-300 relative",children:[(0,No.jsx)(wt,{to:"/project/".concat(t.id),className:"absolute inset-0 z-20"}),(0,No.jsx)("div",{className:"h-48 overflow-hidden relative border-b border-white/5",children:(0,No.jsx)("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all duration-500",onError:e=>e.target.style.display="none"})}),(0,No.jsxs)("div",{className:"p-8 flex flex-col flex-grow relative z-10",children:[(0,No.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,No.jsx)("span",{className:"px-3 py-1 text-[10px] font-bold uppercase text-cyan-300 bg-cyan-900/10 rounded-full",children:t.category}),(0,No.jsx)("a",{href:t.github,target:"_blank",rel:"noreferrer",className:"text-slate-600 hover:text-white transition-colors z-30",children:(0,No.jsx)(cc,{size:22})})]}),(0,No.jsx)("h3",{className:"text-2xl font-bold text-white mb-3 group-hover:text-cyan-400 transition-colors",children:t.title}),(0,No.jsx)("p",{className:"text-slate-400 text-sm mb-6 flex-grow",children:t.shortDesc}),(0,No.jsxs)("div",{className:"pt-6 mt-auto border-t border-white/5 flex items-center text-sm font-bold text-white group-hover:text-cyan-400 transition-colors",children:[(0,No.jsx)("span",{children:"Read Case Study"}),(0,No.jsx)(fc,{className:"ml-2 transform group-hover:translate-x-1 transition-transform"})]})]})]})},t.id))})]})]})}class Zb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const Jb={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},ev=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},tv=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch(Jb.origin+e,{method:"POST",headers:n,body:t}),o=await r.text(),i=new Zb(r.status,o);if(r.ok)return i;throw i},nv=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},rv=e=>e.webdriver||!e.languages||0===e.languages.length,ov=()=>new Zb(451,"Unavailable For Headless Browser"),iv=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof n&&e.list.includes(n)},av=()=>new Zb(403,"Forbidden"),sv=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,o=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return o>0||(await n.set(r,Date.now().toString()),!1)},uv=()=>new Zb(429,"Too Many Requests"),lv=async(e,t,n,r)=>{const o=ev(r),i=o.publicKey||Jb.publicKey,a=o.blockHeadless||Jb.blockHeadless,s=Jb.storageProvider||o.storageProvider,l=u(u({},Jb.blockList),o.blockList),c=u(u({},Jb.limitRate),o.limitRate);if(a&&rv(navigator))return Promise.reject(ov());const d=(e=>"string"===typeof e?document.querySelector(e):e)(n);nv(i,e,t),(e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"})(d);const h=new FormData(d);return iv(l,h)?Promise.reject(av()):await sv(location.pathname,c,s)?Promise.reject(uv()):(h.append("lib_version","4.4.1"),h.append("service_id",e),h.append("template_id",t),h.append("user_id",i),tv("/api/v1.0/email/send-form",h))},cv=__webpack_require__.p+"static/media/signature.27a3f27a395785a3725c.jpeg";function dv(){const t=(0,e.useRef)(),[n,r]=(0,e.useState)(!1),[o,i]=(0,e.useState)(!1),[a,s]=(0,e.useState)(!1),[l,c]=(0,e.useState)({user_name:"",user_email:"",message:""}),d=e=>{c(u(u({},l),{},{[e.target.name]:e.target.value}))},h=e=>"absolute left-12 transition-all duration-300 font-medium pointer-events-none \n      ".concat(e?"-translate-y-7 text-xs text-cyan-400":"top-4 text-slate-500 text-sm peer-focus:-translate-y-7 peer-focus:text-xs peer-focus:text-cyan-400"),f=[{icon:(0,No.jsx)(hc,{}),href:"https://linkedin.com/in/md-usman-a806162a5",color:"text-blue-400"},{icon:(0,No.jsx)(cc,{}),href:"https://github.com/Md-usman-05",color:"text-white"},{icon:(0,No.jsx)(dc,{}),href:"https://instagram.com/im_usman.md",color:"text-pink-400"}];return(0,No.jsxs)("div",{className:"min-h-screen pt-28 pb-20 px-6 font-outfit relative overflow-hidden flex items-center justify-center",children:[(0,No.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-blue-600/5 blur-[100px] rounded-full pointer-events-none"}),(0,No.jsx)("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-cyan-600/5 blur-[100px] rounded-full pointer-events-none"}),(0,No.jsxs)("div",{className:"max-w-6xl w-full grid md:grid-cols-2 gap-16 items-center relative z-10",children:[(0,No.jsxs)(Rl.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[(0,No.jsxs)("h1",{className:"text-5xl md:text-6xl font-black text-white mb-6 font-space leading-tight",children:["Let's ",(0,No.jsx)("br",{}),(0,No.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600",children:"Connect."})]}),(0,No.jsx)("p",{className:"text-slate-400 text-lg mb-10 max-w-md leading-relaxed",children:"I'm currently open for internships and collaborations. Have a project in mind? Let's bridge the gap between idea and reality."}),(0,No.jsx)("div",{className:"mb-10 pl-2",children:(0,No.jsx)("img",{src:cv,alt:"Signature",className:"h-24 w-auto object-contain opacity-90 filter invert mix-blend-screen drop-shadow-[0_0_5px_rgba(255,255,255,0.8)] brightness-125"})}),(0,No.jsxs)("div",{className:"space-y-8",children:[(0,No.jsxs)("div",{className:"flex items-center gap-4 pl-1",children:[(0,No.jsx)("div",{className:"w-12 h-12 rounded-full bg-cyan-500/10 flex items-center justify-center text-cyan-400 border border-cyan-500/20 shadow-[0_0_15px_rgba(6,182,212,0.3)]",children:(0,No.jsx)(wc,{size:20})}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-slate-500 text-[10px] uppercase tracking-widest font-bold mb-1",children:"Base of Operations"}),(0,No.jsx)("p",{className:"text-white text-lg font-medium tracking-wide",children:"Palamaner, Chittoor Dist"})]})]}),(0,No.jsx)("div",{className:"flex gap-4",children:f.map((e,t)=>(0,No.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:"w-14 h-14 relative group",children:[(0,No.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-white/5 rounded-2xl transform rotate-3 group-hover:rotate-6 transition-transform duration-300"}),(0,No.jsx)("div",{className:"absolute inset-0 bg-[#0a0a0a] border border-white/10 rounded-2xl flex items-center justify-center transform group-hover:-translate-y-1 transition-transform duration-300",children:(0,No.jsx)("span",{className:"text-xl transition-colors duration-300 ".concat(e.color),children:e.icon})})]},t))})]})]}),(0,No.jsx)(Rl.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},children:(0,No.jsxs)(Yb,{className:"relative group perspective-1000",children:[(0,No.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-3xl blur opacity-20 group-hover:opacity-40 transition duration-1000"}),(0,No.jsxs)("div",{className:"bg-[#0b0d12] border border-white/10 p-8 md:p-10 rounded-3xl relative overflow-hidden backdrop-blur-xl",children:[(0,No.jsxs)("div",{className:"mb-8",children:[(0,No.jsx)("h3",{className:"text-2xl font-bold text-white font-space",children:"Send a Message"}),(0,No.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"I usually reply within 24 hours."})]}),(0,No.jsxs)("form",{ref:t,onSubmit:e=>{e.preventDefault(),r(!0),s(!1);lv("service_hadxlha","template_btaotsw",t.current,"g6Mozxg2_IjpiroML").then(t=>{r(!1),i(!0),c({user_name:"",user_email:"",message:""}),e.target.reset(),setTimeout(()=>i(!1),5e3)},e=>{r(!1),s(!0)})},className:"space-y-5 relative z-10",autoComplete:"new-password",children:[(0,No.jsx)("input",{type:"text",style:{display:"none"},autoComplete:"new-password"}),(0,No.jsxs)("div",{className:"relative group/input",children:[(0,No.jsx)(Ac,{className:"absolute left-4 top-5 transition-colors z-10 ".concat(l.user_name?"text-cyan-400":"text-slate-500 group-focus-within:text-cyan-400"),size:14}),(0,No.jsx)("input",{type:"text",name:"user_name",value:l.user_name,onChange:d,required:!0,autoComplete:"new-password","data-lpignore":"true",className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-4 text-white focus:outline-none focus:border-cyan-500/50 focus:bg-cyan-900/10 focus:shadow-[0_0_15px_rgba(6,182,212,0.1)] transition-all duration-300 peer"}),(0,No.jsx)("label",{className:h(l.user_name),children:"Your Name"})]}),(0,No.jsxs)("div",{className:"relative group/input",children:[(0,No.jsx)(bc,{className:"absolute left-4 top-5 transition-colors z-10 ".concat(l.user_email?"text-cyan-400":"text-slate-500 group-focus-within:text-cyan-400"),size:14}),(0,No.jsx)("input",{type:"email",name:"user_email",value:l.user_email,onChange:d,required:!0,autoComplete:"new-password","data-lpignore":"true",className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-4 text-white focus:outline-none focus:border-cyan-500/50 focus:bg-cyan-900/10 focus:shadow-[0_0_15px_rgba(6,182,212,0.1)] transition-all duration-300 peer"}),(0,No.jsx)("label",{className:h(l.user_email),children:"Email Address"})]}),(0,No.jsxs)("div",{className:"relative group/input",children:[(0,No.jsx)(gc,{className:"absolute left-4 top-5 transition-colors z-10 ".concat(l.message?"text-cyan-400":"text-slate-500 group-focus-within:text-cyan-400"),size:14}),(0,No.jsx)("textarea",{name:"message",value:l.message,onChange:d,rows:"4",required:!0,autoComplete:"new-password","data-lpignore":"true",className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-4 text-white focus:outline-none focus:border-cyan-500/50 focus:bg-cyan-900/10 focus:shadow-[0_0_15px_rgba(6,182,212,0.1)] transition-all duration-300 peer resize-none"}),(0,No.jsx)("label",{className:h(l.message),children:"Your Message"})]}),(0,No.jsx)("button",{type:"submit",disabled:n||o,className:"w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-3 transition-all duration-300 shadow-lg ".concat(o?"bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-emerald-500/25 scale-[0.98]":a?"bg-gradient-to-r from-red-500 to-orange-600 text-white scale-[0.98]":"bg-gradient-to-r from-cyan-500 to-blue-600 text-white hover:shadow-cyan-500/30 hover:-translate-y-1 hover:scale-[1.02]"),children:n?(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,No.jsx)("span",{children:"Sending..."})]}):o?(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("span",{children:"Message Sent"}),(0,No.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,No.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]}):a?(0,No.jsx)("span",{children:"Failed. Retry?"}):(0,No.jsxs)(No.Fragment,{children:["Send Message",(0,No.jsx)(xc,{className:"text-sm transform group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]})})]})]})]})})]})]})}function hv(){const[t,n]=(0,e.useState)(!0);return(0,e.useEffect)(()=>{console.log("%cSystem Online: Md Usman","background: #0f172a; color: #22d3ee; font-size: 14px; padding: 5px; border-radius: 5px; font-weight: bold;"),console.log("%cType the Konami Code (\u2191\u2191\u2193\u2193\u2190\u2192\u2190\u2192BA) for a surprise...","color: #94a3b8");const e=e=>{document.documentElement.style.setProperty("--mouse-x","".concat(e.clientX,"px")),document.documentElement.style.setProperty("--mouse-y","".concat(e.clientY,"px"))},t=()=>{document.hidden?document.title="\u26a0\ufe0f Connection Lost...":document.title="Md Usman | AI Engineer"},n=e=>{};return window.addEventListener("mousemove",e),document.addEventListener("visibilitychange",t),window.addEventListener("contextmenu",n),()=>{window.removeEventListener("mousemove",e),document.removeEventListener("visibilitychange",t),window.removeEventListener("contextmenu",n)}},[]),(0,No.jsxs)(vt,{children:[(0,No.jsx)(Cb,{}),(0,No.jsx)(Lb,{}),"  ",(0,No.jsx)(Nb,{}),"  ",(0,No.jsx)(jb,{}),"    ",t&&(0,No.jsx)(Ib,{onComplete:()=>n(!1)}),!t&&(0,No.jsxs)("div",{className:"site-wrapper relative animate-in fade-in duration-1000 cursor-none bg-[#0a0a0a] min-h-screen text-white overflow-x-hidden",children:[(0,No.jsxs)("div",{className:"fixed inset-0 z-0",children:[(0,No.jsx)(Ob,{}),(0,No.jsx)(Mb,{})]}),(0,No.jsx)(Pb,{}),(0,No.jsxs)("div",{className:"relative z-10 flex flex-col",children:[(0,No.jsx)(Ul,{}),(0,No.jsxs)("main",{className:"flex-col w-full",children:[(0,No.jsx)("section",{id:"home",children:(0,No.jsx)(Rb,{})}),(0,No.jsx)("section",{id:"about",className:"py-20",children:(0,No.jsx)(Kb,{})}),(0,No.jsx)("section",{id:"projects",className:"py-20",children:(0,No.jsx)(Qb,{})}),(0,No.jsx)("section",{id:"contact",className:"py-20 pb-32",children:(0,No.jsx)(dv,{})})]}),(0,No.jsx)(Gl,{}),(0,No.jsx)(Fb,{})]})]})]})}n.createRoot(document.getElementById("root")).render((0,No.jsx)(e.StrictMode,{children:(0,No.jsx)(hv,{})}))})()})();
//# sourceMappingURL=main.b2f5e058.js.map